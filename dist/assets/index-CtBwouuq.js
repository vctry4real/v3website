var OA=Object.defineProperty;var IA=(t,e,r)=>e in t?OA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var hi=(t,e,r)=>IA(t,typeof e!="symbol"?e+"":e,r);import{r as D,a as PA,g as hc,R as Ae,b as RA,c as tn,d as DA}from"./vendor-DFuxspuY.js";import{D as Bl,C as Or,X as Cr,M as q_,H as MA,G as fc,L as W_,T as LA,a as As,V as H,A as Ty,b as Fu,Z as Y_,U as FA,c as kx,F as Nx,E as md,d as G_,e as gd,f as sp,g as Ea,h as Sx,i as Ul,j as To,P as BA,S as UA,k as Hl,l as HA,m as zA,n as Cx,o as ip,p as Bu,B as Ng,q as $A,r as VA,s as qA,t as Sg,u as K_,v as Ax,I as Cg,w as oi,x as Gn,y as WA,z as xd,J as pc,K as jx,N as ko,O as Uo,Q as J_,R as X_,W as YA,Y as Q_,_ as Z_,$ as eE,a0 as tE,a1 as GA,a2 as KA,a3 as JA,a4 as rE,a5 as nE,a6 as sE,a7 as No,a8 as XA,a9 as Ta,aa as ky,ab as iE,ac as gh,ad as QA,ae as ZA,af as aE,ag as ej,ah as tj,ai as Ag,aj as rj,ak as nj,al as sj,am as ij}from"./ui-hRtYD7WW.js";import{u as oE,L as Nr,a as lE,R as aj,b as zs,B as oj}from"./router-D8oHiAhz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var cE={exports:{}},ap={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=D,cj=Symbol.for("react.element"),uj=Symbol.for("react.fragment"),dj=Object.prototype.hasOwnProperty,hj=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fj={key:!0,ref:!0,__self:!0,__source:!0};function uE(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)dj.call(e,n)&&!fj.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:cj,type:t,key:i,ref:a,props:s,_owner:hj.current}}ap.Fragment=uj;ap.jsx=uE;ap.jsxs=uE;cE.exports=ap;var c=cE.exports,jg={},Ny=PA;jg.createRoot=Ny.createRoot,jg.hydrateRoot=Ny.hydrateRoot;var pj=typeof Element<"u",mj=typeof Map=="function",gj=typeof Set=="function",xj=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,s;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!xh(t[n],e[n]))return!1;return!0}var i;if(mj&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!xh(n.value[1],e.get(n.value[0])))return!1;return!0}if(gj&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(xj&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[n]))return!1;if(pj&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&t.$$typeof)&&!xh(t[s[n]],e[s[n]]))return!1;return!0}return t!==t&&e!==e}var bj=function(e,r){try{return xh(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const yj=hc(bj);var vj=function(t,e,r,n,s,i,a,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,i,a,o],d=0;l=new Error(e.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},wj=vj;const Sy=hc(wj);var _j=function(e,r,n,s){var i=n?n.call(s,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<a.length;u++){var d=a[u];if(!l(d))return!1;var h=e[d],p=r[d];if(i=n?n.call(s,h,p,d):void 0,i===!1||i===void 0&&h!==p)return!1}return!0};const Ej=hc(_j);var dE=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(dE||{}),Jp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Cy=Object.values(dE),Ox={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Tj=Object.entries(Ox).reduce((t,[e,r])=>(t[r]=e,t),{}),js="data-rh",kl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Nl=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},kj=t=>{let e=Nl(t,"title");const r=Nl(t,kl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const n=Nl(t,kl.DEFAULT_TITLE);return e||n||void 0},Nj=t=>Nl(t,kl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Xp=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,n)=>({...r,...n}),{}),Sj=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let i=0;i<s.length;i+=1){const o=s[i].toLowerCase();if(t.indexOf(o)!==-1&&n[o])return r.concat(n)}}return r},[]),Cj=t=>console&&typeof console.warn=="function"&&console.warn(t),jc=(t,e,r)=>{const n={};return r.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Cj(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const a={};i.filter(l=>{let u;const d=Object.keys(l);for(let p=0;p<d.length;p+=1){const f=d[p],m=f.toLowerCase();e.indexOf(m)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(u=m),e.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(u=f)}if(!u||!l[u])return!1;const h=l[u].toLowerCase();return n[u]||(n[u]={}),a[u]||(a[u]={}),n[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(l=>s.push(l));const o=Object.keys(a);for(let l=0;l<o.length;l+=1){const u=o[l],d={...n[u],...a[u]};n[u]=d}return s},[]).reverse()},Aj=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},jj=t=>({baseTag:Sj(["href"],t),bodyAttributes:Xp("bodyAttributes",t),defer:Nl(t,kl.DEFER),encode:Nl(t,kl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Xp("htmlAttributes",t),linkTags:jc("link",["rel","href"],t),metaTags:jc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:jc("noscript",["innerHTML"],t),onChangeClientState:Nj(t),scriptTags:jc("script",["src","innerHTML"],t),styleTags:jc("style",["cssText"],t),title:kj(t),titleAttributes:Xp("titleAttributes",t),prioritizeSeoTags:Aj(t,kl.PRIORITIZE_SEO_TAGS)}),hE=t=>Array.isArray(t)?t.join(""):t,Oj=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},Qp=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(Oj(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},Ay=(t,e)=>({...t,[e]:void 0}),Ij=["noscript","script","style"],Og=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),fE=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),Pj=(t,e,r,n)=>{const s=fE(r),i=hE(e);return s?`<${t} ${js}="true" ${s}>${Og(i,n)}</${t}>`:`<${t} ${js}="true">${Og(i,n)}</${t}>`},Rj=(t,e,r=!0)=>e.reduce((n,s)=>{const i=s,a=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${Og(i[d],r)}"`;return u?`${u} ${h}`:h},""),o=i.innerHTML||i.cssText||"",l=Ij.indexOf(t)===-1;return`${n}<${t} ${js}="true" ${a}${l?"/>":`>${o}</${t}>`}`},""),pE=(t,e={})=>Object.keys(t).reduce((r,n)=>{const s=Ox[n];return r[s||n]=t[n],r},e),Dj=(t,e,r)=>{const n={key:e,[js]:!0},s=pE(r,n);return[Ae.createElement("title",s,e)]},bh=(t,e)=>e.map((r,n)=>{const s={key:n,[js]:!0};return Object.keys(r).forEach(i=>{const o=Ox[i]||i;if(o==="innerHTML"||o==="cssText"){const l=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[o]=r[i]}),Ae.createElement(t,s)}),ns=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>Dj(t,e.title,e.titleAttributes),toString:()=>Pj(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>pE(e),toString:()=>fE(e)};default:return{toComponent:()=>bh(t,e),toString:()=>Rj(t,e,r)}}},Mj=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const s=Qp(t,Jp.meta),i=Qp(e,Jp.link),a=Qp(r,Jp.script);return{priorityMethods:{toComponent:()=>[...bh("meta",s.priority),...bh("link",i.priority),...bh("script",a.priority)],toString:()=>`${ns("meta",s.priority,n)} ${ns("link",i.priority,n)} ${ns("script",a.priority,n)}`},metaTags:s.default,linkTags:i.default,scriptTags:a.default}},Lj=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:h,scriptTags:p}=t,f={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:f,linkTags:d,metaTags:h,scriptTags:p}=Mj(t)),{priority:f,base:ns("base",e,n),bodyAttributes:ns("bodyAttributes",r,n),htmlAttributes:ns("htmlAttributes",s,n),link:ns("link",d,n),meta:ns("meta",h,n),noscript:ns("noscript",i,n),script:ns("script",p,n),style:ns("style",a,n),title:ns("title",{title:o,titleAttributes:l},n)}},Ig=Lj,Dd=[],mE=!!(typeof window<"u"&&window.document&&window.document.createElement),Pg=class{constructor(t,e){hi(this,"instances",[]);hi(this,"canUseDOM",mE);hi(this,"context");hi(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Dd:this.instances,add:t=>{(this.canUseDOM?Dd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Dd:this.instances).indexOf(t);(this.canUseDOM?Dd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Ig({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Fj={},gE=Ae.createContext(Fj),co,xE=(co=class extends D.Component{constructor(r){super(r);hi(this,"helmetData");this.helmetData=new Pg(this.props.context||{},co.canUseDOM)}render(){return Ae.createElement(gE.Provider,{value:this.helmetData.value},this.props.children)}},hi(co,"canUseDOM",mE),co),Ko=(t,e)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${t}[${js}]`),s=[].slice.call(n),i=[];let a;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")l.innerHTML=o.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=u,h=typeof o[d]>"u"?"":o[d];l.setAttribute(u,h)}l.setAttribute(js,"true"),s.some((u,d)=>(a=d,l.isEqualNode(u)))?s.splice(a,1):i.push(l)}),s.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),i.forEach(o=>r.appendChild(o)),{oldTags:s,newTags:i}},Rg=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const n=r.getAttribute(js),s=n?n.split(","):[],i=[...s],a=Object.keys(e);for(const o of a){const l=e[o]||"";r.getAttribute(o)!==l&&r.setAttribute(o,l),s.indexOf(o)===-1&&s.push(o);const u=i.indexOf(o);u!==-1&&i.splice(u,1)}for(let o=i.length-1;o>=0;o-=1)r.removeAttribute(i[o]);s.length===i.length?r.removeAttribute(js):r.getAttribute(js)!==a.join(",")&&r.setAttribute(js,a.join(","))},Bj=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=hE(t)),Rg("title",e)},jy=(t,e)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:i,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:u,styleTags:d,title:h,titleAttributes:p}=t;Rg("body",n),Rg("html",s),Bj(h,p);const f={baseTag:Ko("base",r),linkTags:Ko("link",i),metaTags:Ko("meta",a),noscriptTags:Ko("noscript",o),scriptTags:Ko("script",u),styleTags:Ko("style",d)},m={},g={};Object.keys(f).forEach(b=>{const{newTags:y,oldTags:E}=f[b];y.length&&(m[b]=y),E.length&&(g[b]=f[b].oldTags)}),e&&e(),l(t,m,g)},Oc=null,Uj=t=>{Oc&&cancelAnimationFrame(Oc),t.defer?Oc=requestAnimationFrame(()=>{jy(t,()=>{Oc=null})}):(jy(t),Oc=null)},Hj=Uj,Oy=class extends D.Component{constructor(){super(...arguments);hi(this,"rendered",!1)}shouldComponentUpdate(e){return!Ej(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:r}=this.props.context;let n=null;const s=jj(e.get().map(i=>{const a={...i.props};return delete a.context,a}));xE.canUseDOM?Hj(s):Ig&&(n=Ig(s)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},kg,Mi=(kg=class extends D.Component{shouldComponentUpdate(t){return!yj(Ay(this.props,"helmetData"),Ay(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,n){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,n)}]}}mapObjectTypeChildren(t,e,r,n){switch(t.type){case"title":return{...e,[t.type]:n,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(n=>{r={...r,[n]:t[n]}}),r}warnOnInvalidChildren(t,e){return Sy(Cy.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Cy.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Sy(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return Ae.Children.forEach(t,n=>{if(!n||!n.props)return;const{children:s,...i}=n.props,a=Object.keys(i).reduce((l,u)=>(l[Tj[u]||u]=i[u],l),{});let{type:o}=n;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(n,s),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,a,s);break;default:e=this.mapObjectTypeChildren(n,e,a,s);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:n}=e;if(t&&(r=this.mapChildrenToProps(t,r)),n&&!(n instanceof Pg)){const s=n;n=new Pg(s.context,!0),delete r.helmetData}return n?Ae.createElement(Oy,{...r,context:n.value}):Ae.createElement(gE.Consumer,null,s=>Ae.createElement(Oy,{...r,context:s}))}},hi(kg,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),kg);function bE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=bE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function zj(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=bE(t))&&(n&&(n+=" "),n+=e);return n}const Ix="-",$j=t=>{const e=qj(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(Ix);return o[0]===""&&o.length!==1&&o.shift(),yE(o,e)||Vj(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},yE=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?yE(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ix);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Iy=/^\[(.+)\]$/,Vj=t=>{if(Iy.test(t)){const e=Iy.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},qj=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const s in r)Dg(r[s],n,s,e);return n},Dg=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Py(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Wj(s)){Dg(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Dg(a,Py(e,i),r,n)})})},Py=(t,e)=>{let r=t;return e.split(Ix).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Wj=t=>t.isThemeGetter,Yj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Mg="!",Lg=":",Gj=Lg.length,Kj=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const i=[];let a=0,o=0,l=0,u;for(let m=0;m<s.length;m++){let g=s[m];if(a===0&&o===0){if(g===Lg){i.push(s.slice(l,m)),l=m+Gj;continue}if(g==="/"){u=m;continue}}g==="["?a++:g==="]"?a--:g==="("?o++:g===")"&&o--}const d=i.length===0?s:s.substring(l),h=Jj(d),p=h!==d,f=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const s=e+Lg,i=n;n=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},Jj=t=>t.endsWith(Mg)?t.substring(0,t.length-1):t.startsWith(Mg)?t.substring(1):t,Xj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},Qj=t=>({cache:Yj(t.cacheSize),parseClassName:Kj(t),sortModifiers:Xj(t),...$j(t)}),Zj=/\s+/,eO=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],o=t.trim().split(Zj);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:p,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=r(d);if(h){l=d+(l.length>0?" "+l:l);continue}let b=!!g,y=n(b?m.substring(0,g):m);if(!y){if(!b){l=d+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=d+(l.length>0?" "+l:l);continue}b=!1}const E=i(p).join(":"),T=f?E+Mg:E,k=T+y;if(a.includes(k))continue;a.push(k);const w=s(y,b);for(let v=0;v<w.length;++v){const N=w[v];a.push(T+N)}l=d+(l.length>0?" "+l:l)}return l};function tO(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=vE(e))&&(n&&(n+=" "),n+=r);return n}const vE=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=vE(t[n]))&&(r&&(r+=" "),r+=e);return r};function rO(t,...e){let r,n,s,i=a;function a(l){const u=e.reduce((d,h)=>h(d),t());return r=Qj(u),n=r.cache.get,s=r.cache.set,i=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=eO(l,r);return s(l,d),d}return function(){return i(tO.apply(null,arguments))}}const fr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},wE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_E=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nO=/^\d+\/\d+$/,sO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>nO.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),Ui=t=>!!t&&Number.isInteger(Number(t)),Zp=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),fi=t=>sO.test(t),cO=()=>!0,uO=t=>iO.test(t)&&!aO.test(t),EE=()=>!1,dO=t=>oO.test(t),hO=t=>lO.test(t),fO=t=>!ge(t)&&!xe(t),pO=t=>mc(t,NE,EE),ge=t=>wE.test(t),Ua=t=>mc(t,SE,uO),em=t=>mc(t,yO,Ye),Ry=t=>mc(t,TE,EE),mO=t=>mc(t,kE,hO),Md=t=>mc(t,CE,dO),xe=t=>_E.test(t),Ic=t=>gc(t,SE),gO=t=>gc(t,vO),Dy=t=>gc(t,TE),xO=t=>gc(t,NE),bO=t=>gc(t,kE),Ld=t=>gc(t,CE,!0),mc=(t,e,r)=>{const n=wE.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},gc=(t,e,r=!1)=>{const n=_E.exec(t);return n?n[1]?e(n[1]):r:!1},TE=t=>t==="position"||t==="percentage",kE=t=>t==="image"||t==="url",NE=t=>t==="length"||t==="size"||t==="bg-size",SE=t=>t==="length",yO=t=>t==="number",vO=t=>t==="family-name",CE=t=>t==="shadow",wO=()=>{const t=fr("color"),e=fr("font"),r=fr("text"),n=fr("font-weight"),s=fr("tracking"),i=fr("leading"),a=fr("breakpoint"),o=fr("container"),l=fr("spacing"),u=fr("radius"),d=fr("shadow"),h=fr("inset-shadow"),p=fr("text-shadow"),f=fr("drop-shadow"),m=fr("blur"),g=fr("perspective"),b=fr("aspect"),y=fr("ease"),E=fr("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...k(),xe,ge],v=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[xe,ge,l],I=()=>[Jo,"full","auto",...A()],S=()=>[Ui,"none","subgrid",xe,ge],U=()=>["auto",{span:["full",Ui,xe,ge]},Ui,xe,ge],M=()=>[Ui,"auto",xe,ge],$=()=>["auto","min","max","fr",xe,ge],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...A()],Z=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ee=()=>[t,xe,ge],je=()=>[...k(),Dy,Ry,{position:[xe,ge]}],_=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ie=()=>["auto","cover","contain",xO,pO,{size:[xe,ge]}],Oe=()=>[Zp,Ic,Ua],P=()=>["","none","full",u,xe,ge],Ne=()=>["",Ye,Ic,Ua],ot=()=>["solid","dashed","dotted","double"],We=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Ye,Zp,Dy,Ry],ht=()=>["","none",m,xe,ge],ct=()=>["none",Ye,xe,ge],jt=()=>["none",Ye,xe,ge],_t=()=>[Ye,xe,ge],Ot=()=>[Jo,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fi],breakpoint:[fi],color:[cO],container:[fi],"drop-shadow":[fi],ease:["in","out","in-out"],font:[fO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fi],shadow:[fi],spacing:["px",Ye],text:[fi],"text-shadow":[fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,ge,xe,b]}],container:["container"],columns:[{columns:[Ye,ge,xe,o]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:v()}],"overflow-x":[{"overflow-x":v()}],"overflow-y":[{"overflow-y":v()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Ui,"auto",xe,ge]}],basis:[{basis:[Jo,"full","auto",o,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Jo,"auto","initial","none",ge]}],grow:[{grow:["",Ye,xe,ge]}],shrink:[{shrink:["",Ye,xe,ge]}],order:[{order:[Ui,"first","last","none",xe,ge]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[o,"screen",...Z()]}],"min-w":[{"min-w":[o,"screen","none",...Z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,Ic,Ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,xe,em]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zp,ge]}],"font-family":[{font:[gO,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,ge]}],"line-clamp":[{"line-clamp":[Ye,"none",xe,em]}],leading:[{leading:[i,...A()]}],"list-image":[{"list-image":["none",xe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",xe,Ua]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Ye,"auto",xe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:_()}],"bg-size":[{bg:Ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ui,xe,ge],radial:["",xe,ge],conic:[Ui,xe,ge]},bO,mO]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:Oe()}],"gradient-via-pos":[{via:Oe()}],"gradient-to-pos":[{to:Oe()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ot(),"hidden","none"]}],"divide-style":[{divide:[...ot(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...ot(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,xe,ge]}],"outline-w":[{outline:["",Ye,Ic,Ua]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",d,Ld,Md]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",h,Ld,Md]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Ye,Ua]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",p,Ld,Md]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Ye,xe,ge]}],"mix-blend":[{"mix-blend":[...We(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":We()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[xe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:_()}],"mask-size":[{mask:Ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ge]}],filter:[{filter:["","none",xe,ge]}],blur:[{blur:ht()}],brightness:[{brightness:[Ye,xe,ge]}],contrast:[{contrast:[Ye,xe,ge]}],"drop-shadow":[{"drop-shadow":["","none",f,Ld,Md]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Ye,xe,ge]}],"hue-rotate":[{"hue-rotate":[Ye,xe,ge]}],invert:[{invert:["",Ye,xe,ge]}],saturate:[{saturate:[Ye,xe,ge]}],sepia:[{sepia:["",Ye,xe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ge]}],"backdrop-blur":[{"backdrop-blur":ht()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,xe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,xe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,xe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,xe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Ye,xe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,xe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,xe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,xe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",xe,ge]}],ease:[{ease:["linear","initial",y,xe,ge]}],delay:[{delay:[Ye,xe,ge]}],animate:[{animate:["none",E,xe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,xe,ge]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:jt()}],"scale-x":[{"scale-x":jt()}],"scale-y":[{"scale-y":jt()}],"scale-z":[{"scale-z":jt()}],"scale-3d":["scale-3d"],skew:[{skew:_t()}],"skew-x":[{"skew-x":_t()}],"skew-y":[{"skew-y":_t()}],transform:[{transform:[xe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ge]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Ye,Ic,Ua,em]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_O=rO(wO);function EO(...t){return _O(zj(t))}function TO(t){return t.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().replace(/^-+|-+$/g,"")}const kO=(t,e)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>t(...n),e)}},AE=(t,e)=>{e()},K=({variant:t="primary",size:e="md",className:r,children:n,...s})=>{const i="inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-700 hover:bg-gray-600 text-white focus:ring-gray-500",outline:"border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white hover:bg-gray-800 focus:ring-gray-500",ghost:"text-gray-300 hover:text-white hover:bg-gray-800 focus:ring-gray-500"},o={sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-sm rounded-lg",lg:"px-6 py-3 text-base rounded-lg"};return c.jsx("button",{className:EO(i,a[t],o[e],r),...s,children:n})},NO=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState(!1),s=oE();D.useEffect(()=>{const o=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=[{label:"About",href:"#about",isLink:!1},{label:"Projects",href:"/projects",isLink:!0},{label:"Experience",href:"#experience",isLink:!1},{label:"Blog",href:"/blog",isLink:!0},{label:"Appointments",href:"/appointments",isLink:!0},{label:"Contact",href:"#contact",isLink:!1}],a=o=>{if(o.isLink)window.location.href=o.href;else if(s.pathname==="/"){const l=document.querySelector(o.href);l&&l.scrollIntoView({behavior:"smooth"})}else window.location.href=`/${o.href}`;e(!1)};return c.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-gray-900/95 backdrop-blur-sm border-b border-gray-800":"bg-transparent"}`,children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Nr,{to:"/",className:"block",children:c.jsx("h1",{className:"text-xl font-bold text-white hover:text-blue-400 transition-colors duration-200 cursor-pointer",children:"Victory Johnson"})})}),c.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"text-gray-300 hover:text-white transition-colors duration-200",children:o.label},o.label))}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs(K,{variant:"outline",size:"sm",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Resume"]}),c.jsx(Nr,{to:"/appointments",children:c.jsxs(K,{size:"sm",children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Book Call"]})})]}),c.jsx("div",{className:"md:hidden",children:c.jsx("button",{onClick:()=>e(!t),className:"text-gray-300 hover:text-white transition-colors duration-200",children:t?c.jsx(Cr,{className:"w-6 h-6"}):c.jsx(q_,{className:"w-6 h-6"})})})]}),t&&c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-gray-900/95 backdrop-blur-sm border-t border-gray-800",children:[i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"block w-full text-left px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:o.label},o.label)),c.jsxs("div",{className:"pt-4 space-y-2",children:[c.jsxs(K,{variant:"outline",size:"sm",className:"w-full",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Resume"]}),c.jsx(Nr,{to:"/appointments",className:"block",children:c.jsxs(K,{size:"sm",className:"w-full",children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Book Call"]})})]})]})})]})})},SO=()=>{const t=new Date().getFullYear(),e=[{icon:fc,href:"https://github.com/vctry4real/",label:"GitHub"},{icon:W_,href:"https://www.linkedin.com/in/vctry4real",label:"LinkedIn"},{icon:LA,href:"https://x.com/__vctry?t=U-jP5riW_RBO1VSpgmbI7A&s=09",label:"Twitter"},{icon:As,href:"mailto:victoryjohnson@vctry4real.dev",label:"Email"}],r=[{label:"About",href:"#about"},{label:"Projects",href:"#projects"},{label:"Experience",href:"#experience"},{label:"Blog",href:"#blog"},{label:"Contact",href:"#contact"}],n=s=>{const i=document.querySelector(s);i&&i.scrollIntoView({behavior:"smooth"})};return c.jsx("footer",{className:"bg-gray-900 border-t border-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Victory Johnson"}),c.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Full-stack software engineer passionate about creating exceptional digital experiences and building scalable solutions that make a difference."}),c.jsx("div",{className:"flex space-x-4",children:e.map(s=>c.jsx("a",{href:s.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-200","aria-label":s.label,children:c.jsx(s.icon,{className:"w-5 h-5"})},s.label))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),c.jsx("ul",{className:"space-y-2",children:r.map(s=>c.jsx("li",{children:c.jsx("button",{onClick:()=>n(s.href),className:"text-gray-300 hover:text-white transition-colors duration-200",children:s.label})},s.label))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Get in Touch"}),c.jsx("div",{className:"space-y-2 text-gray-300",children:c.jsx("p",{children:"victoryjohnson@vctry4real.dev"})}),c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-sm text-gray-400",children:"Available for freelance projects and full-time opportunities"})})]})]}),c.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("p",{className:"text-gray-400 text-sm flex items-center flex-wrap",children:["Â© ",t," Victory Johnson. Made with"," ",c.jsxs("span",{className:"inline-flex items-center",children:[c.jsx(MA,{className:"w-4 h-4 mx-1 text-red-500 flex-shrink-0"}),"and lots of coffee"]})]}),c.jsx("div",{className:"flex space-x-6 mt-4 md:mt-0",children:c.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"Terms of Service"})})]})]})})};function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Kn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zl={duration:.5,overwrite:!1,delay:0},Px,Hr,Mt,hs=1e8,yt=1/hs,Fg=Math.PI*2,CO=Fg/4,AO=0,OE=Math.sqrt,jO=Math.cos,OO=Math.sin,Ir=function(e){return typeof e=="string"},Wt=function(e){return typeof e=="function"},Oi=function(e){return typeof e=="number"},Rx=function(e){return typeof e>"u"},si=function(e){return typeof e=="object"},An=function(e){return e!==!1},Dx=function(){return typeof window<"u"},Fd=function(e){return Wt(e)||Ir(e)},IE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},en=Array.isArray,Bg=/(?:-?\.?\d|\.)+/gi,PE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,yl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,RE=/[+-]=-?[.\d]+/,DE=/[^,'"\[\]\s]+/gi,IO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Bt,Gs,Ug,Mx,Xn={},Bh={},ME,LE=function(e){return(Bh=$l(e,Xn))&&Rn},Lx=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Uu=function(e,r){return!r&&console.warn(e)},FE=function(e,r){return e&&(Xn[e]=r)&&Bh&&(Bh[e]=r)||Xn},Hu=function(){return 0},PO={suppressEvents:!0,isStart:!0,kill:!1},yh={suppressEvents:!0,kill:!1},RO={suppressEvents:!0},Fx={},ma=[],Hg={},BE,zn={},rm={},My=30,vh=[],Bx="",Ux=function(e){var r=e[0],n,s;if(si(r)||Wt(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=vh.length;s--&&!vh[s].targetTest(r););n=vh[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new cT(e[s],n)))||e.splice(s,1);return e},uo=function(e){return e._gsap||Ux(fs(e))[0]._gsap},UE=function(e,r,n){return(n=e[r])&&Wt(n)?e[r]():Rx(n)&&e.getAttribute&&e.getAttribute(r)||n},jn=function(e,r){return(e=e.split(",")).forEach(r)||e},Jt=function(e){return Math.round(e*1e5)/1e5||0},lr=function(e){return Math.round(e*1e7)/1e7||0},Sl=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},DO=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},Uh=function(){var e=ma.length,r=ma.slice(0),n,s;for(Hg={},ma.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Hx=function(e){return!!(e._initted||e._startAt||e.add)},HE=function(e,r,n,s){ma.length&&!Hr&&Uh(),e.render(r,n,!!(Hr&&r<0&&Hx(e))),ma.length&&!Hr&&Uh()},zE=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(DE).length<2?r:Ir(e)?e.trim():e},$E=function(e){return e},Qn=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},MO=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},$l=function(e,r){for(var n in r)e[n]=r[n];return e},Ly=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=si(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Hh=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},au=function(e){var r=e.parent||Bt,n=e.keyframes?MO(en(e.keyframes)):Qn;if(An(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},LO=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},VE=function(e,r,n,s,i){var a=e[s],o;if(i)for(o=r[i];a&&a[i]>o;)a=a._prev;return a?(r._next=a._next,a._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=a,r.parent=r._dp=e,r},op=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var i=r._prev,a=r._next;i?i._next=a:e[n]===r&&(e[n]=a),a?a._prev=i:e[s]===r&&(e[s]=i),r._next=r._prev=r.parent=null},ka=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ho=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},FO=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},zg=function(e,r,n,s){return e._startAt&&(Hr?e._startAt.revert(yh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},BO=function t(e){return!e||e._ts&&t(e.parent)},Fy=function(e){return e._repeat?Vl(e._tTime,e=e.duration()+e._rDelay)*e:0},Vl=function(e,r){var n=Math.floor(e=lr(e/r));return e&&n===e?n-1:n},zh=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},lp=function(e){return e._end=lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||yt)||0))},cp=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=lr(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),lp(e),n._dirty||ho(n,e)),e},qE=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=zh(e.rawTime(),r),(!r._dur||bd(0,r.totalDuration(),n)-r._tTime>yt)&&r.render(n,!0)),ho(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-yt}},Qs=function(e,r,n,s){return r.parent&&ka(r),r._start=lr((Oi(n)?n:n||e!==Bt?ts(e,n,r):e._time)+r._delay),r._end=lr(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),VE(e,r,"_first","_last",e._sort?"_start":0),$g(r)||(e._recent=r),s||qE(e,r),e._ts<0&&cp(e,e._tTime),e},WE=function(e,r){return(Xn.ScrollTrigger||Lx("scrollTrigger",r))&&Xn.ScrollTrigger.create(r,e)},YE=function(e,r,n,s,i){if($x(e,r,i),!e._initted)return 1;if(!n&&e._pt&&!Hr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&BE!==Vn.frame)return ma.push(e),e._lazy=[i,s],1},UO=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},$g=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},HO=function(e,r,n,s){var i=e.ratio,a=r<0||!r&&(!e._start&&UO(e)&&!(!e._initted&&$g(e))||(e._ts<0||e._dp._ts<0)&&!$g(e))?0:1,o=e._rDelay,l=0,u,d,h;if(o&&e._repeat&&(l=bd(0,e._tDur,r),d=Vl(l,o),e._yoyo&&d&1&&(a=1-a),d!==Vl(e._tTime,o)&&(i=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==i||Hr||s||e._zTime===yt||!r&&e._zTime){if(!e._initted&&YE(e,r,s,n,l))return;for(h=e._zTime,e._zTime=r||(n?yt:0),n||(n=r&&!h),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,u=e._pt;u;)u.r(a,u.d),u=u._next;r<0&&zg(e,r,n,!0),e._onUpdate&&!n&&Yn(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&Yn(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===a&&(a&&ka(e,1),!n&&!Hr&&(Yn(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},zO=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},ql=function(e,r,n,s){var i=e._repeat,a=lr(r)||0,o=e._tTime/e._tDur;return o&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:lr(a*(i+1)+e._rDelay*i):a,o>0&&!s&&cp(e,e._tTime=e._tDur*o),e.parent&&lp(e),n||ho(e.parent,e),e},By=function(e){return e instanceof pn?ho(e):ql(e,e._dur)},$O={_start:0,endTime:Hu,totalDuration:Hu},ts=function t(e,r,n){var s=e.labels,i=e._recent||$O,a=e.duration()>=hs?i.endTime(!1):e._dur,o,l,u;return Ir(r)&&(isNaN(r)||r in s)?(l=r.charAt(0),u=r.substr(-1)==="%",o=r.indexOf("="),l==="<"||l===">"?(o>=0&&(r=r.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(o<0?i:n).totalDuration()/100:1)):o<0?(r in s||(s[r]=a),s[r]):(l=parseFloat(r.charAt(o-1)+r.substr(o+1)),u&&n&&(l=l/100*(en(n)?n[0]:n).totalDuration()),o>1?t(e,r.substr(0,o-1),n)+l:a+l)):r==null?a:+r},ou=function(e,r,n){var s=Oi(r[1]),i=(s?2:1)+(e<2?0:1),a=r[i],o,l;if(s&&(a.duration=r[1]),a.parent=n,e){for(o=a,l=n;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=An(l.vars.inherit)&&l.parent;a.immediateRender=An(o.immediateRender),e<2?a.runBackwards=1:a.startAt=r[i-1]}return new or(r[0],a,r[i+1])},Ia=function(e,r){return e||e===0?r(e):r},bd=function(e,r,n){return n<e?e:n>r?r:n},Jr=function(e,r){return!Ir(e)||!(r=IO.exec(e))?"":r[1]},VO=function(e,r,n){return Ia(n,function(s){return bd(e,r,s)})},Vg=[].slice,GE=function(e,r){return e&&si(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&si(e[0]))&&!e.nodeType&&e!==Gs},qO=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var i;return Ir(s)&&!r||GE(s,1)?(i=n).push.apply(i,fs(s)):n.push(s)})||n},fs=function(e,r,n){return Mt&&!r&&Mt.selector?Mt.selector(e):Ir(e)&&!n&&(Ug||!Wl())?Vg.call((r||Mx).querySelectorAll(e),0):en(e)?qO(e,n):GE(e)?Vg.call(e,0):e?[e]:[]},qg=function(e){return e=fs(e)[0]||Uu("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return fs(r,n.querySelectorAll?n:n===e?Uu("Invalid scope")||Mx.createElement("div"):e)}},KE=function(e){return e.sort(function(){return .5-Math.random()})},JE=function(e){if(Wt(e))return e;var r=si(e)?e:{each:e},n=fo(r.ease),s=r.from||0,i=parseFloat(r.base)||0,a={},o=s>0&&s<1,l=isNaN(s)||o,u=r.axis,d=s,h=s;return Ir(s)?d=h={center:.5,edges:.5,end:1}[s]||0:!o&&l&&(d=s[0],h=s[1]),function(p,f,m){var g=(m||r).length,b=a[g],y,E,T,k,w,v,N,A,I;if(!b){if(I=r.grid==="auto"?0:(r.grid||[1,hs])[1],!I){for(N=-hs;N<(N=m[I++].getBoundingClientRect().left)&&I<g;);I<g&&I--}for(b=a[g]=[],y=l?Math.min(I,g)*d-.5:s%I,E=I===hs?0:l?g*h/I-.5:s/I|0,N=0,A=hs,v=0;v<g;v++)T=v%I-y,k=E-(v/I|0),b[v]=w=u?Math.abs(u==="y"?k:T):OE(T*T+k*k),w>N&&(N=w),w<A&&(A=w);s==="random"&&KE(b),b.max=N-A,b.min=A,b.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(I>g?g-1:u?u==="y"?g/I:I:Math.max(I,g/I))||0)*(s==="edges"?-1:1),b.b=g<0?i-g:i,b.u=Jr(r.amount||r.each)||0,n=n&&g<0?aT(n):n}return g=(b[p]-b.min)/b.max||0,lr(b.b+(n?n(g):g)*b.v)+b.u}},Wg=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=lr(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Oi(n)?0:Jr(n))}},XE=function(e,r){var n=en(e),s,i;return!n&&si(e)&&(s=n=e.radius||hs,e.values?(e=fs(e.values),(i=!Oi(e[0]))&&(s*=s)):e=Wg(e.increment)),Ia(r,n?Wt(e)?function(a){return i=e(a),Math.abs(i-a)<=s?i:a}:function(a){for(var o=parseFloat(i?a.x:a),l=parseFloat(i?a.y:0),u=hs,d=0,h=e.length,p,f;h--;)i?(p=e[h].x-o,f=e[h].y-l,p=p*p+f*f):p=Math.abs(e[h]-o),p<u&&(u=p,d=h);return d=!s||u<=s?e[d]:a,i||d===a||Oi(a)?d:d+Jr(a)}:Wg(e))},QE=function(e,r,n,s){return Ia(en(e)?!r:n===!0?!!(n=0):!s,function(){return en(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},WO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(i,a){return a(i)},s)}},YO=function(e,r){return function(n){return e(parseFloat(n))+(r||Jr(n))}},GO=function(e,r,n){return eT(e,r,0,1,n)},ZE=function(e,r,n){return Ia(n,function(s){return e[~~r(s)]})},KO=function t(e,r,n){var s=r-e;return en(e)?ZE(e,t(0,e.length),r):Ia(n,function(i){return(s+(i-e)%s)%s+e})},JO=function t(e,r,n){var s=r-e,i=s*2;return en(e)?ZE(e,t(0,e.length-1),r):Ia(n,function(a){return a=(i+(a-e)%i)%i||0,e+(a>s?i-a:a)})},zu=function(e){for(var r=0,n="",s,i,a,o;~(s=e.indexOf("random(",r));)a=e.indexOf(")",s),o=e.charAt(s+7)==="[",i=e.substr(s+7,a-s-7).match(o?DE:Bg),n+=e.substr(r,s-r)+QE(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),r=a+1;return n+e.substr(r,e.length-r)},eT=function(e,r,n,s,i){var a=r-e,o=s-n;return Ia(i,function(l){return n+((l-e)/a*o||0)})},XO=function t(e,r,n,s){var i=isNaN(e+r)?0:function(f){return(1-f)*e+f*r};if(!i){var a=Ir(e),o={},l,u,d,h,p;if(n===!0&&(s=1)&&(n=null),a)e={p:e},r={p:r};else if(en(e)&&!en(r)){for(d=[],h=e.length,p=h-2,u=1;u<h;u++)d.push(t(e[u-1],e[u]));h--,i=function(m){m*=h;var g=Math.min(p,~~m);return d[g](m-g)},n=r}else s||(e=$l(en(e)?[]:{},e));if(!d){for(l in r)zx.call(o,e,l,"get",r[l]);i=function(m){return Wx(m,o)||(a?e.p:e)}}}return Ia(n,i)},Uy=function(e,r,n){var s=e.labels,i=hs,a,o,l;for(a in s)o=s[a]-r,o<0==!!n&&o&&i>(o=Math.abs(o))&&(l=a,i=o);return l},Yn=function(e,r,n){var s=e.vars,i=s[r],a=Mt,o=e._ctx,l,u,d;if(i)return l=s[r+"Params"],u=s.callbackScope||e,n&&ma.length&&Uh(),o&&(Mt=o),d=l?i.apply(u,l):i.call(u),Mt=a,d},qc=function(e){return ka(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Hr),e.progress()<1&&Yn(e,"onInterrupt"),e},vl,tT=[],rT=function(e){if(e)if(e=!e.name&&e.default||e,Dx()||e.headless){var r=e.name,n=Wt(e),s=r&&!n&&e.init?function(){this._props=[]}:e,i={init:Hu,render:Wx,add:zx,kill:fI,modifier:hI,rawVars:0},a={targetTest:0,get:0,getSetter:qx,aliases:{},register:0};if(Wl(),e!==s){if(zn[r])return;Qn(s,Qn(Hh(e,i),a)),$l(s.prototype,$l(i,Hh(e,a))),zn[s.prop=r]=s,e.targetTest&&(vh.push(s),Fx[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}FE(r,s),e.register&&e.register(Rn,s,On)}else tT.push(e)},bt=255,Wc={aqua:[0,bt,bt],lime:[0,bt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,bt],navy:[0,0,128],white:[bt,bt,bt],olive:[128,128,0],yellow:[bt,bt,0],orange:[bt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[bt,0,0],pink:[bt,192,203],cyan:[0,bt,bt],transparent:[bt,bt,bt,0]},nm=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*bt+.5|0},nT=function(e,r,n){var s=e?Oi(e)?[e>>16,e>>8&bt,e&bt]:0:Wc.black,i,a,o,l,u,d,h,p,f,m;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Wc[e])s=Wc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+i+i+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&bt,s&bt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&bt,e&bt]}else if(e.substr(0,3)==="hsl"){if(s=m=e.match(Bg),!r)l=+s[0]%360/360,u=+s[1]/100,d=+s[2]/100,a=d<=.5?d*(u+1):d+u-d*u,i=d*2-a,s.length>3&&(s[3]*=1),s[0]=nm(l+1/3,i,a),s[1]=nm(l,i,a),s[2]=nm(l-1/3,i,a);else if(~e.indexOf("="))return s=e.match(PE),n&&s.length<4&&(s[3]=1),s}else s=e.match(Bg)||Wc.transparent;s=s.map(Number)}return r&&!m&&(i=s[0]/bt,a=s[1]/bt,o=s[2]/bt,h=Math.max(i,a,o),p=Math.min(i,a,o),d=(h+p)/2,h===p?l=u=0:(f=h-p,u=d>.5?f/(2-h-p):f/(h+p),l=h===i?(a-o)/f+(a<o?6:0):h===a?(o-i)/f+2:(i-a)/f+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(d*100+.5)),n&&s.length<4&&(s[3]=1),s},sT=function(e){var r=[],n=[],s=-1;return e.split(ga).forEach(function(i){var a=i.match(yl)||[];r.push.apply(r,a),n.push(s+=a.length+1)}),r.c=n,r},Hy=function(e,r,n){var s="",i=(e+s).match(ga),a=r?"hsla(":"rgba(",o=0,l,u,d,h;if(!i)return e;if(i=i.map(function(p){return(p=nT(p,r,1))&&a+(r?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),n&&(d=sT(e),l=n.c,l.join(s)!==d.c.join(s)))for(u=e.replace(ga,"1").split(yl),h=u.length-1;o<h;o++)s+=u[o]+(~l.indexOf(o)?i.shift()||a+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=e.split(ga),h=u.length-1;o<h;o++)s+=u[o]+i[o];return s+u[h]},ga=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Wc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),QO=/hsl[a]?\(/,iT=function(e){var r=e.join(" "),n;if(ga.lastIndex=0,ga.test(r))return n=QO.test(r),e[1]=Hy(e[1],n),e[0]=Hy(e[0],n,sT(e[1])),!0},$u,Vn=function(){var t=Date.now,e=500,r=33,n=t(),s=n,i=1e3/240,a=i,o=[],l,u,d,h,p,f,m=function g(b){var y=t()-s,E=b===!0,T,k,w,v;if((y>e||y<0)&&(n+=y-r),s+=y,w=s-n,T=w-a,(T>0||E)&&(v=++h.frame,p=w-h.time*1e3,h.time=w=w/1e3,a+=T+(T>=i?4:i-T),k=1),E||(l=u(g)),k)for(f=0;f<o.length;f++)o[f](w,p,v,b)};return h={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(b){return p/(1e3/(b||60))},wake:function(){ME&&(!Ug&&Dx()&&(Gs=Ug=window,Mx=Gs.document||{},Xn.gsap=Rn,(Gs.gsapVersions||(Gs.gsapVersions=[])).push(Rn.version),LE(Bh||Gs.GreenSockGlobals||!Gs.gsap&&Gs||{}),tT.forEach(rT)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=d||function(b){return setTimeout(b,a-h.time*1e3+1|0)},$u=1,m(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),$u=0,u=Hu},lagSmoothing:function(b,y){e=b||1/0,r=Math.min(y||33,e)},fps:function(b){i=1e3/(b||240),a=h.time*1e3+i},add:function(b,y,E){var T=y?function(k,w,v,N){b(k,w,v,N),h.remove(T)}:b;return h.remove(b),o[E?"unshift":"push"](T),Wl(),T},remove:function(b,y){~(y=o.indexOf(b))&&o.splice(y,1)&&f>=y&&f--},_listeners:o},h}(),Wl=function(){return!$u&&Vn.wake()},it={},ZO=/^[\d.\-M][\d.\-,\s]/,eI=/["']/g,tI=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],i=1,a=n.length,o,l,u;i<a;i++)l=n[i],o=i!==a-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),r[s]=isNaN(u)?u.replace(eI,"").trim():+u,s=l.substr(o+1).trim();return r},rI=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},nI=function(e){var r=(e+"").split("("),n=it[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[tI(r[1])]:rI(e).split(",").map(zE)):it._CE&&ZO.test(e)?it._CE("",e):n},aT=function(e){return function(r){return 1-e(1-r)}},oT=function t(e,r){for(var n=e._first,s;n;)n instanceof pn?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},fo=function(e,r){return e&&(Wt(e)?e:it[e]||nI(e))||r},Ho=function(e,r,n,s){n===void 0&&(n=function(l){return 1-r(1-l)}),s===void 0&&(s=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:s},a;return jn(e,function(o){it[o]=Xn[o]=i,it[a=o.toLowerCase()]=n;for(var l in i)it[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=it[o+"."+l]=i[l]}),i},lT=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},sm=function t(e,r,n){var s=r>=1?r:1,i=(n||(e?.3:.45))/(r<1?r:1),a=i/Fg*(Math.asin(1/s)||0),o=function(d){return d===1?1:s*Math.pow(2,-10*d)*OO((d-a)*i)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:lT(o);return i=Fg/i,l.config=function(u,d){return t(e,u,d)},l},im=function t(e,r){r===void 0&&(r=1.70158);var n=function(a){return a?--a*a*((r+1)*a+r)+1:0},s=e==="out"?n:e==="in"?function(i){return 1-n(1-i)}:lT(n);return s.config=function(i){return t(e,i)},s};jn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Ho(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});it.Linear.easeNone=it.none=it.Linear.easeIn;Ho("Elastic",sm("in"),sm("out"),sm());(function(t,e){var r=1/e,n=2*r,s=2.5*r,i=function(o){return o<r?t*o*o:o<n?t*Math.pow(o-1.5/e,2)+.75:o<s?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};Ho("Bounce",function(a){return 1-i(1-a)},i)})(7.5625,2.75);Ho("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Ho("Circ",function(t){return-(OE(1-t*t)-1)});Ho("Sine",function(t){return t===1?1:-jO(t*CO)+1});Ho("Back",im("in"),im("out"),im());it.SteppedEase=it.steps=Xn.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),i=r?1:0,a=1-yt;return function(o){return((s*bd(0,a,o)|0)+i)*n}}};zl.ease=it["quad.out"];jn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Bx+=t+","+t+"Params,"});var cT=function(e,r){this.id=AO++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:UE,this.set=r?r.getSetter:qx},Vu=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,ql(this,+r.duration,1,1),this.data=r.data,Mt&&(this._ctx=Mt,Mt.data.push(this)),$u||Vn.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,ql(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(Wl(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(cp(this,n),!i._dp||i.parent||qE(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Qs(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===yt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),HE(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Fy(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Fy(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,s):this._repeat?Vl(this._tTime,i)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-yt?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?zh(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-yt?0:this._rts,this.totalTime(bd(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),lp(this),FO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Wl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==yt&&(this._tTime-=yt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Qs(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(An(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zh(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=RO);var s=Hr;return Hr=n,Hx(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Hr=s,this},e.globalTime=function(n){for(var s=this,i=arguments.length?n:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,By(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,By(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(ts(this,n),An(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,An(s)),this._dur||(this._zTime=-yt),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-yt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-yt,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=s&&i<this.endTime(!0)-yt)},e.eventCallback=function(n,s,i){var a=this.vars;return arguments.length>1?(s?(a[n]=s,i&&(a[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=s)):delete a[n],this):a[n]},e.then=function(n){var s=this;return new Promise(function(i){var a=Wt(n)?n:$E,o=function(){var u=s.then;s.then=null,Wt(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=u),i(a),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?o():s._prom=o})},e.kill=function(){qc(this)},t}();Qn(Vu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-yt,_prom:0,_ps:!1,_rts:1});var pn=function(t){jE(e,t);function e(n,s){var i;return n===void 0&&(n={}),i=t.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=An(n.sortChildren),Bt&&Qs(n.parent||Bt,vi(i),s),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&WE(vi(i),n.scrollTrigger),i}var r=e.prototype;return r.to=function(s,i,a){return ou(0,arguments,this),this},r.from=function(s,i,a){return ou(1,arguments,this),this},r.fromTo=function(s,i,a,o){return ou(2,arguments,this),this},r.set=function(s,i,a){return i.duration=0,i.parent=this,au(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new or(s,i,ts(this,a),1),this},r.call=function(s,i,a){return Qs(this,or.delayedCall(0,s,i),a)},r.staggerTo=function(s,i,a,o,l,u,d){return a.duration=i,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=d,a.parent=this,new or(s,a,ts(this,l)),this},r.staggerFrom=function(s,i,a,o,l,u,d){return a.runBackwards=1,au(a).immediateRender=An(a.immediateRender),this.staggerTo(s,i,a,o,l,u,d)},r.staggerFromTo=function(s,i,a,o,l,u,d,h){return o.startAt=a,au(o).immediateRender=An(o.immediateRender),this.staggerTo(s,i,o,l,u,d,h)},r.render=function(s,i,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=s<=0?0:lr(s),h=this._zTime<0!=s<0&&(this._initted||!u),p,f,m,g,b,y,E,T,k,w,v,N;if(this!==Bt&&d>l&&s>=0&&(d=l),d!==this._tTime||a||h){if(o!==this._time&&u&&(d+=this._time-o,s+=this._time-o),p=d,k=this._start,T=this._ts,y=!T,h&&(u||(o=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(v=this._yoyo,b=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(b*100+s,i,a);if(p=lr(d%b),d===l?(g=this._repeat,p=u):(w=lr(d/b),g=~~w,g&&g===w&&(p=u,g--),p>u&&(p=u)),w=Vl(this._tTime,b),!o&&this._tTime&&w!==g&&this._tTime-w*b-this._dur<=0&&(w=g),v&&g&1&&(p=u-p,N=1),g!==w&&!this._lock){var A=v&&w&1,I=A===(v&&g&1);if(g<w&&(A=!A),o=A?0:d%u?u:d,this._lock=1,this.render(o||(N?0:lr(g*b)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Yn(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),o&&o!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,I&&(this._lock=2,o=A?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;oT(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=zO(this,lr(o),lr(p)),E&&(d-=p-(p=E._start))),this._tTime=d,this._time=p,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,o=0),!o&&d&&!i&&!w&&(Yn(this,"onStart"),this._tTime!==d))return this;if(p>=o&&s>=0)for(f=this._first;f;){if(m=f._next,(f._act||p>=f._start)&&f._ts&&E!==f){if(f.parent!==this)return this.render(s,i,a);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,i,a),p!==this._time||!this._ts&&!y){E=0,m&&(d+=this._zTime=-yt);break}}f=m}else{f=this._last;for(var S=s<0?s:p;f;){if(m=f._prev,(f._act||S<=f._end)&&f._ts&&E!==f){if(f.parent!==this)return this.render(s,i,a);if(f.render(f._ts>0?(S-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(S-f._start)*f._ts,i,a||Hr&&Hx(f)),p!==this._time||!this._ts&&!y){E=0,m&&(d+=this._zTime=S?-yt:yt);break}}f=m}}if(E&&!i&&(this.pause(),E.render(p>=o?0:-yt)._zTime=p>=o?1:-1,this._ts))return this._start=k,lp(this),this.render(s,i,a);this._onUpdate&&!i&&Yn(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&o)&&(k===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(d===l&&this._ts>0||!d&&this._ts<0)&&ka(this,1),!i&&!(s<0&&!o)&&(d||o||!l)&&(Yn(this,d===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,i){var a=this;if(Oi(i)||(i=ts(this,i,s)),!(s instanceof Vu)){if(en(s))return s.forEach(function(o){return a.add(o,i)}),this;if(Ir(s))return this.addLabel(s,i);if(Wt(s))s=or.delayedCall(0,s);else return this}return this!==s?Qs(this,s,i):this},r.getChildren=function(s,i,a,o){s===void 0&&(s=!0),i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=-hs);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof or?i&&l.push(u):(a&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,a)))),u=u._next;return l},r.getById=function(s){for(var i=this.getChildren(1,1,1),a=i.length;a--;)if(i[a].vars.id===s)return i[a]},r.remove=function(s){return Ir(s)?this.removeLabel(s):Wt(s)?this.killTweensOf(s):(s.parent===this&&op(this,s),s===this._recent&&(this._recent=this._last),ho(this))},r.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=lr(Vn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},r.addLabel=function(s,i){return this.labels[s]=ts(this,i),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,i,a){var o=or.delayedCall(0,i||Hu,a);return o.data="isPause",this._hasPause=1,Qs(this,o,ts(this,s))},r.removePause=function(s){var i=this._first;for(s=ts(this,s);i;)i._start===s&&i.data==="isPause"&&ka(i),i=i._next},r.killTweensOf=function(s,i,a){for(var o=this.getTweensOf(s,a),l=o.length;l--;)sa!==o[l]&&o[l].kill(s,i);return this},r.getTweensOf=function(s,i){for(var a=[],o=fs(s),l=this._first,u=Oi(i),d;l;)l instanceof or?DO(l._targets,o)&&(u?(!sa||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&a.push(l):(d=l.getTweensOf(o,i)).length&&a.push.apply(a,d),l=l._next;return a},r.tweenTo=function(s,i){i=i||{};var a=this,o=ts(a,s),l=i,u=l.startAt,d=l.onStart,h=l.onStartParams,p=l.immediateRender,f,m=or.to(a,Qn({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||yt,onStart:function(){if(a.pause(),!f){var b=i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());m._dur!==b&&ql(m,b,0,1).render(m._time,!0,!0),f=1}d&&d.apply(m,h||[])}},i));return p?m.render(0):m},r.tweenFromTo=function(s,i,a){return this.tweenTo(i,Qn({startAt:{time:ts(this,s)}},a))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),Uy(this,ts(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),Uy(this,ts(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+yt)},r.shiftChildren=function(s,i,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,u;o;)o._start>=a&&(o._start+=s,o._end+=s),o=o._next;if(i)for(u in l)l[u]>=a&&(l[u]+=s);return ho(this)},r.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,a;i;)a=i._next,this.remove(i),i=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),ho(this)},r.totalDuration=function(s){var i=0,a=this,o=a._last,l=hs,u,d,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(h=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),d=o._start,d>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,Qs(a,o,d-o._delay,1)._lock=0):l=d,d<0&&o._ts&&(i-=d,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=d/a._ts,a._time-=d,a._tTime-=d),a.shiftChildren(-d,!1,-1/0),l=0),o._end>i&&o._ts&&(i=o._end),o=u;ql(a,a===Bt&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if(Bt._ts&&(HE(Bt,zh(s,Bt)),BE=Vn.frame),Vn.frame>=My){My+=Kn.autoSleep||120;var i=Bt._first;if((!i||!i._ts)&&Kn.autoSleep&&Vn._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Vn.sleep()}}},e}(Vu);Qn(pn.prototype,{_lock:0,_hasPause:0,_forcing:0});var sI=function(e,r,n,s,i,a,o){var l=new On(this._pt,e,r,0,1,mT,null,i),u=0,d=0,h,p,f,m,g,b,y,E;for(l.b=n,l.e=s,n+="",s+="",(y=~s.indexOf("random("))&&(s=zu(s)),a&&(E=[n,s],a(E,e,r),n=E[0],s=E[1]),p=n.match(tm)||[];h=tm.exec(s);)m=h[0],g=s.substring(u,h.index),f?f=(f+1)%5:g.substr(-5)==="rgba("&&(f=1),m!==p[d++]&&(b=parseFloat(p[d-1])||0,l._pt={_next:l._pt,p:g||d===1?g:",",s:b,c:m.charAt(1)==="="?Sl(b,m)-b:parseFloat(m)-b,m:f&&f<4?Math.round:0},u=tm.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=o,(RE.test(s)||y)&&(l.e=0),this._pt=l,l},zx=function(e,r,n,s,i,a,o,l,u,d){Wt(s)&&(s=s(i||0,e,a));var h=e[r],p=n!=="get"?n:Wt(h)?u?e[r.indexOf("set")||!Wt(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():h,f=Wt(h)?u?cI:fT:Vx,m;if(Ir(s)&&(~s.indexOf("random(")&&(s=zu(s)),s.charAt(1)==="="&&(m=Sl(p,s)+(Jr(p)||0),(m||m===0)&&(s=m))),!d||p!==s||Yg)return!isNaN(p*s)&&s!==""?(m=new On(this._pt,e,r,+p||0,s-(p||0),typeof h=="boolean"?dI:pT,0,f),u&&(m.fp=u),o&&m.modifier(o,this,e),this._pt=m):(!h&&!(r in e)&&Lx(r,s),sI.call(this,e,r,p,s,f,l||Kn.stringFilter,u))},iI=function(e,r,n,s,i){if(Wt(e)&&(e=lu(e,i,r,n,s)),!si(e)||e.style&&e.nodeType||en(e)||IE(e))return Ir(e)?lu(e,i,r,n,s):e;var a={},o;for(o in e)a[o]=lu(e[o],i,r,n,s);return a},uT=function(e,r,n,s,i,a){var o,l,u,d;if(zn[e]&&(o=new zn[e]).init(i,o.rawVars?r[e]:iI(r[e],s,i,a,n),n,s,a)!==!1&&(n._pt=l=new On(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==vl))for(u=n._ptLookup[n._targets.indexOf(i)],d=o._props.length;d--;)u[o._props[d]]=l;return o},sa,Yg,$x=function t(e,r,n){var s=e.vars,i=s.ease,a=s.startAt,o=s.immediateRender,l=s.lazy,u=s.onUpdate,d=s.runBackwards,h=s.yoyoEase,p=s.keyframes,f=s.autoRevert,m=e._dur,g=e._startAt,b=e._targets,y=e.parent,E=y&&y.data==="nested"?y.vars.targets:b,T=e._overwrite==="auto"&&!Px,k=e.timeline,w,v,N,A,I,S,U,M,$,Y,G,J,Z;if(k&&(!p||!i)&&(i="none"),e._ease=fo(i,zl.ease),e._yEase=h?aT(fo(h===!0?i:h,zl.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!k&&!!s.runBackwards,!k||p&&!s.stagger){if(M=b[0]?uo(b[0]).harness:0,J=M&&s[M.prop],w=Hh(s,Fx),g&&(g._zTime<0&&g.progress(1),r<0&&d&&o&&!f?g.render(-1,!0):g.revert(d&&m?yh:PO),g._lazy=0),a){if(ka(e._startAt=or.set(b,Qn({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!g&&An(l),startAt:null,delay:0,onUpdate:u&&function(){return Yn(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Hr||!o&&!f)&&e._startAt.revert(yh),o&&m&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(d&&m&&!g){if(r&&(o=!1),N=Qn({overwrite:!1,data:"isFromStart",lazy:o&&!g&&An(l),immediateRender:o,stagger:0,parent:y},w),J&&(N[M.prop]=J),ka(e._startAt=or.set(b,N)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Hr?e._startAt.revert(yh):e._startAt.render(-1,!0)),e._zTime=r,!o)t(e._startAt,yt,yt);else if(!r)return}for(e._pt=e._ptCache=0,l=m&&An(l)||l&&!m,v=0;v<b.length;v++){if(I=b[v],U=I._gsap||Ux(b)[v]._gsap,e._ptLookup[v]=Y={},Hg[U.id]&&ma.length&&Uh(),G=E===b?v:E.indexOf(I),M&&($=new M).init(I,J||w,e,G,E)!==!1&&(e._pt=A=new On(e._pt,I,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(ee){Y[ee]=A}),$.priority&&(S=1)),!M||J)for(N in w)zn[N]&&($=uT(N,w,e,G,I,E))?$.priority&&(S=1):Y[N]=A=zx.call(e,I,N,"get",w[N],G,E,0,s.stringFilter);e._op&&e._op[v]&&e.kill(I,e._op[v]),T&&e._pt&&(sa=e,Bt.killTweensOf(I,Y,e.globalTime(r)),Z=!e.parent,sa=0),e._pt&&l&&(Hg[U.id]=1)}S&&gT(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!Z,p&&r<=0&&k.render(hs,!0,!0)},aI=function(e,r,n,s,i,a,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[r],d,h,p,f;if(!u)for(u=e._ptCache[r]=[],p=e._ptLookup,f=e._targets.length;f--;){if(d=p[f][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return Yg=1,e.vars[r]="+=0",$x(e,o),Yg=0,l?Uu(r+" not eligible for reset"):1;u.push(d)}for(f=u.length;f--;)h=u[f],d=h._pt||h,d.s=(s||s===0)&&!i?s:d.s+(s||0)+a*d.c,d.c=n-d.s,h.e&&(h.e=Jt(n)+Jr(h.e)),h.b&&(h.b=d.s+Jr(h.b))},oI=function(e,r){var n=e[0]?uo(e[0]).harness:0,s=n&&n.aliases,i,a,o,l;if(!s)return r;i=$l({},r);for(a in s)if(a in i)for(l=s[a].split(","),o=l.length;o--;)i[l[o]]=i[a];return i},lI=function(e,r,n,s){var i=r.ease||s||"power1.inOut",a,o;if(en(r))o=n[e]||(n[e]=[]),r.forEach(function(l,u){return o.push({t:u/(r.length-1)*100,v:l,e:i})});else for(a in r)o=n[a]||(n[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:r[a],e:i})},lu=function(e,r,n,s,i){return Wt(e)?e.call(r,n,s,i):Ir(e)&&~e.indexOf("random(")?zu(e):e},dT=Bx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hT={};jn(dT+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return hT[t]=1});var or=function(t){jE(e,t);function e(n,s,i,a){var o;typeof s=="number"&&(i.duration=s,s=i,i=null),o=t.call(this,a?s:au(s))||this;var l=o.vars,u=l.duration,d=l.delay,h=l.immediateRender,p=l.stagger,f=l.overwrite,m=l.keyframes,g=l.defaults,b=l.scrollTrigger,y=l.yoyoEase,E=s.parent||Bt,T=(en(n)||IE(n)?Oi(n[0]):"length"in s)?[n]:fs(n),k,w,v,N,A,I,S,U;if(o._targets=T.length?Ux(T):Uu("GSAP target "+n+" not found. https://gsap.com",!Kn.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=f,m||p||Fd(u)||Fd(d)){if(s=o.vars,k=o.timeline=new pn({data:"nested",defaults:g||{},targets:E&&E.data==="nested"?E.vars.targets:T}),k.kill(),k.parent=k._dp=vi(o),k._start=0,p||Fd(u)||Fd(d)){if(N=T.length,S=p&&JE(p),si(p))for(A in p)~dT.indexOf(A)&&(U||(U={}),U[A]=p[A]);for(w=0;w<N;w++)v=Hh(s,hT),v.stagger=0,y&&(v.yoyoEase=y),U&&$l(v,U),I=T[w],v.duration=+lu(u,vi(o),w,I,T),v.delay=(+lu(d,vi(o),w,I,T)||0)-o._delay,!p&&N===1&&v.delay&&(o._delay=d=v.delay,o._start+=d,v.delay=0),k.to(I,v,S?S(w,I,T):0),k._ease=it.none;k.duration()?u=d=0:o.timeline=0}else if(m){au(Qn(k.vars.defaults,{ease:"none"})),k._ease=fo(m.ease||s.ease||"none");var M=0,$,Y,G;if(en(m))m.forEach(function(J){return k.to(T,J,">")}),k.duration();else{v={};for(A in m)A==="ease"||A==="easeEach"||lI(A,m[A],v,m.easeEach);for(A in v)for($=v[A].sort(function(J,Z){return J.t-Z.t}),M=0,w=0;w<$.length;w++)Y=$[w],G={ease:Y.e,duration:(Y.t-(w?$[w-1].t:0))/100*u},G[A]=Y.v,k.to(T,G,M),M+=G.duration;k.duration()<u&&k.to({},{duration:u-k.duration()})}}u||o.duration(u=k.duration())}else o.timeline=0;return f===!0&&!Px&&(sa=vi(o),Bt.killTweensOf(T),sa=0),Qs(E,vi(o),i),s.reversed&&o.reverse(),s.paused&&o.paused(!0),(h||!u&&!m&&o._start===lr(E._time)&&An(h)&&BO(vi(o))&&E.data!=="nested")&&(o._tTime=-yt,o.render(Math.max(0,-d)||0)),b&&WE(vi(o),b),o}var r=e.prototype;return r.render=function(s,i,a){var o=this._time,l=this._tDur,u=this._dur,d=s<0,h=s>l-yt&&!d?l:s<yt?0:s,p,f,m,g,b,y,E,T,k;if(!u)HO(this,s,i,a);else if(h!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=h,T=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+s,i,a);if(p=lr(h%g),h===l?(m=this._repeat,p=u):(b=lr(h/g),m=~~b,m&&m===b?(p=u,m--):p>u&&(p=u)),y=this._yoyo&&m&1,y&&(k=this._yEase,p=u-p),b=Vl(this._tTime,g),p===o&&!a&&this._initted&&m===b)return this._tTime=h,this;m!==b&&(T&&this._yEase&&oT(T,y),this.vars.repeatRefresh&&!y&&!this._lock&&p!==g&&this._initted&&(this._lock=a=1,this.render(lr(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(YE(this,d?s:p,a,i,h))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&m!==b))return this;if(u!==this._dur)return this.render(s,i,a)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(p/u),this._from&&(this.ratio=E=1-E),!o&&h&&!i&&!b&&(Yn(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(E,f.d),f=f._next;T&&T.render(s<0?s:T._dur*T._ease(p/this._dur),i,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(d&&zg(this,s,i,a),Yn(this,"onUpdate")),this._repeat&&m!==b&&this.vars.onRepeat&&!i&&this.parent&&Yn(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&zg(this,s,!0,!0),(s||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&ka(this,1),!i&&!(d&&!o)&&(h||o||y)&&(Yn(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,i,a,o,l){$u||Vn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||$x(this,u),d=this._ease(u/this._dur),aI(this,s,i,a,o,d,u,l)?this.resetTo(s,i,a,o,1):(cp(this,0),this.parent||VE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?qc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Hr),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,sa&&sa.vars.overwrite!==!0)._first||qc(this),this.parent&&a!==this.timeline.totalDuration()&&ql(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=s?fs(s):o,u=this._ptLookup,d=this._pt,h,p,f,m,g,b,y;if((!i||i==="all")&&LO(o,l))return i==="all"&&(this._pt=0),qc(this);for(h=this._op=this._op||[],i!=="all"&&(Ir(i)&&(g={},jn(i,function(E){return g[E]=1}),i=g),i=oI(o,i)),y=o.length;y--;)if(~l.indexOf(o[y])){p=u[y],i==="all"?(h[y]=i,m=p,f={}):(f=h[y]=h[y]||{},m=i);for(g in m)b=p&&p[g],b&&((!("kill"in b.d)||b.d.kill(g)===!0)&&op(this,b,"_pt"),delete p[g]),f!=="all"&&(f[g]=1)}return this._initted&&!this._pt&&d&&qc(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return ou(1,arguments)},e.delayedCall=function(s,i,a,o){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(s,i,a){return ou(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,a){return Bt.killTweensOf(s,i,a)},e}(Vu);Qn(or.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});jn("staggerTo,staggerFrom,staggerFromTo",function(t){or[t]=function(){var e=new pn,r=Vg.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Vx=function(e,r,n){return e[r]=n},fT=function(e,r,n){return e[r](n)},cI=function(e,r,n,s){return e[r](s.fp,n)},uI=function(e,r,n){return e.setAttribute(r,n)},qx=function(e,r){return Wt(e[r])?fT:Rx(e[r])&&e.setAttribute?uI:Vx},pT=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},dI=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},mT=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},Wx=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},hI=function(e,r,n,s){for(var i=this._pt,a;i;)a=i._next,i.p===s&&i.modifier(e,r,n),i=a},fI=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?op(this,r,"_pt"):r.dep||(n=1),r=s;return!n},pI=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},gT=function(e){for(var r=e._pt,n,s,i,a;r;){for(n=r._next,s=i;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:a)?r._prev._next=r:i=r,(r._next=s)?s._prev=r:a=r,r=n}e._pt=i},On=function(){function t(r,n,s,i,a,o,l,u,d){this.t=n,this.s=i,this.c=a,this.p=s,this.r=o||pT,this.d=l||this,this.set=u||Vx,this.pr=d||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,i){this.mSet=this.mSet||this.set,this.set=pI,this.m=n,this.mt=i,this.tween=s},t}();jn(Bx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Fx[t]=1});Xn.TweenMax=Xn.TweenLite=or;Xn.TimelineLite=Xn.TimelineMax=pn;Bt=new pn({sortChildren:!1,defaults:zl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Kn.stringFilter=iT;var po=[],wh={},mI=[],zy=0,gI=0,am=function(e){return(wh[e]||mI).map(function(r){return r()})},Gg=function(){var e=Date.now(),r=[];e-zy>2&&(am("matchMediaInit"),po.forEach(function(n){var s=n.queries,i=n.conditions,a,o,l,u;for(o in s)a=Gs.matchMedia(s[o]).matches,a&&(l=1),a!==i[o]&&(i[o]=a,u=1);u&&(n.revert(),l&&r.push(n))}),am("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),zy=e,am("matchMedia"))},xT=function(){function t(r,n){this.selector=n&&qg(n),this.data=[],this._r=[],this.isReverted=!1,this.id=gI++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,i){Wt(n)&&(i=s,s=n,n=Wt);var a=this,o=function(){var u=Mt,d=a.selector,h;return u&&u!==a&&u.data.push(a),i&&(a.selector=qg(i)),Mt=a,h=s.apply(a,arguments),Wt(h)&&a._r.push(h),Mt=u,a.selector=d,a.isReverted=!1,h};return a.last=o,n===Wt?o(a,function(l){return a.add(null,l)}):n?a[n]=o:o},e.ignore=function(n){var s=Mt;Mt=null,n(this),Mt=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof or&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var i=this;if(n?function(){for(var o=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return o.splice(o.indexOf(d),1)}));for(o.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),l=i.data.length;l--;)u=i.data[l],u instanceof pn?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof or)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),s)for(var a=po.length;a--;)po[a].id===this.id&&po.splice(a,1)},e.revert=function(n){this.kill(n||{})},t}(),xI=function(){function t(r){this.contexts=[],this.scope=r,Mt&&Mt.data.push(this)}var e=t.prototype;return e.add=function(n,s,i){si(n)||(n={matches:n});var a=new xT(0,i||this.scope),o=a.conditions={},l,u,d;Mt&&!a.selector&&(a.selector=Mt.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=n;for(u in n)u==="all"?d=1:(l=Gs.matchMedia(n[u]),l&&(po.indexOf(a)<0&&po.push(a),(o[u]=l.matches)&&(d=1),l.addListener?l.addListener(Gg):l.addEventListener("change",Gg)));return d&&s(a,function(h){return a.add(null,h)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),$h={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return rT(s)})},timeline:function(e){return new pn(e)},getTweensOf:function(e,r){return Bt.getTweensOf(e,r)},getProperty:function(e,r,n,s){Ir(e)&&(e=fs(e)[0]);var i=uo(e||{}).get,a=n?$E:zE;return n==="native"&&(n=""),e&&(r?a((zn[r]&&zn[r].get||i)(e,r,n,s)):function(o,l,u){return a((zn[o]&&zn[o].get||i)(e,o,l,u))})},quickSetter:function(e,r,n){if(e=fs(e),e.length>1){var s=e.map(function(d){return Rn.quickSetter(d,r,n)}),i=s.length;return function(d){for(var h=i;h--;)s[h](d)}}e=e[0]||{};var a=zn[r],o=uo(e),l=o.harness&&(o.harness.aliases||{})[r]||r,u=a?function(d){var h=new a;vl._pt=0,h.init(e,n?d+n:d,vl,0,[e]),h.render(1,h),vl._pt&&Wx(1,vl)}:o.set(e,l);return a?u:function(d){return u(e,l,n?d+n:d,o,1)}},quickTo:function(e,r,n){var s,i=Rn.to(e,Qn((s={},s[r]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),a=function(l,u,d){return i.resetTo(r,l,u,d)};return a.tween=i,a},isTweening:function(e){return Bt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=fo(e.ease,zl.ease)),Ly(zl,e||{})},config:function(e){return Ly(Kn,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,i=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(o){return o&&!zn[o]&&!Xn[o]&&Uu(r+" effect requires "+o+" plugin.")}),rm[r]=function(o,l,u){return n(fs(o),Qn(l||{},i),u)},a&&(pn.prototype[r]=function(o,l,u){return this.add(rm[r](o,si(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,r){it[e]=fo(r)},parseEase:function(e,r){return arguments.length?fo(e,r):it},getById:function(e){return Bt.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new pn(e),s,i;for(n.smoothChildTiming=An(e.smoothChildTiming),Bt.remove(n),n._dp=0,n._time=n._tTime=Bt._time,s=Bt._first;s;)i=s._next,(r||!(!s._dur&&s instanceof or&&s.vars.onComplete===s._targets[0]))&&Qs(n,s,s._start-s._delay),s=i;return Qs(Bt,n,0),n},context:function(e,r){return e?new xT(e,r):Mt},matchMedia:function(e){return new xI(e)},matchMediaRefresh:function(){return po.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||Gg()},addEventListener:function(e,r){var n=wh[e]||(wh[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=wh[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:KO,wrapYoyo:JO,distribute:JE,random:QE,snap:XE,normalize:GO,getUnit:Jr,clamp:VO,splitColor:nT,toArray:fs,selector:qg,mapRange:eT,pipe:WO,unitize:YO,interpolate:XO,shuffle:KE},install:LE,effects:rm,ticker:Vn,updateRoot:pn.updateRoot,plugins:zn,globalTimeline:Bt,core:{PropTween:On,globals:FE,Tween:or,Timeline:pn,Animation:Vu,getCache:uo,_removeLinkedListItem:op,reverting:function(){return Hr},context:function(e){return e&&Mt&&(Mt.data.push(e),e._ctx=Mt),Mt},suppressOverwrites:function(e){return Px=e}}};jn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return $h[t]=or[t]});Vn.add(pn.updateRoot);vl=$h.to({},{duration:0});var bI=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},yI=function(e,r){var n=e._targets,s,i,a;for(s in r)for(i=n.length;i--;)a=e._ptLookup[i][s],a&&(a=a.d)&&(a._pt&&(a=bI(a,s)),a&&a.modifier&&a.modifier(r[s],e,n[i],s))},om=function(e,r){return{name:e,headless:1,rawVars:1,init:function(s,i,a){a._onInit=function(o){var l,u;if(Ir(i)&&(l={},jn(i,function(d){return l[d]=1}),i=l),r){l={};for(u in i)l[u]=r(i[u]);i=l}yI(o,i)}}}},Rn=$h.registerPlugin({name:"attr",init:function(e,r,n,s,i){var a,o,l;this.tween=n;for(a in r)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",r[a],s,i,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,r){for(var n=r._pt;n;)Hr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},om("roundProps",Wg),om("modifiers"),om("snap",XE))||$h;or.version=pn.version=Rn.version="3.13.0";ME=1;Dx()&&Wl();it.Power0;it.Power1;it.Power2;it.Power3;it.Power4;it.Linear;it.Quad;it.Cubic;it.Quart;it.Quint;it.Strong;it.Elastic;it.Back;it.SteppedEase;it.Bounce;it.Sine;it.Expo;it.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $y,ia,Cl,Yx,eo,Vy,Gx,vI=function(){return typeof window<"u"},Ii={},Ya=180/Math.PI,Al=Math.PI/180,Xo=Math.atan2,qy=1e8,Kx=/([A-Z])/g,wI=/(left|right|width|margin|padding|x)/i,_I=/[\s,\(]\S/,Zs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kg=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},EI=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},TI=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},kI=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},bT=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},yT=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},NI=function(e,r,n){return e.style[r]=n},SI=function(e,r,n){return e.style.setProperty(r,n)},CI=function(e,r,n){return e._gsap[r]=n},AI=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},jI=function(e,r,n,s,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},OI=function(e,r,n,s,i){var a=e._gsap;a[r]=n,a.renderTransform(i,a)},Ht="transform",In=Ht+"Origin",II=function t(e,r){var n=this,s=this.target,i=s.style,a=s._gsap;if(e in Ii&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Zs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=Ti(s,o)}):this.tfm[e]=a.x?a[e]:Ti(s,e),e===In&&(this.tfm.zOrigin=a.zOrigin);else return Zs.transform.split(",").forEach(function(o){return t.call(n,o,r)});if(this.props.indexOf(Ht)>=0)return;a.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(In,r,"")),e=Ht}(i||r)&&this.props.push(e,r,i[e])},vT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},PI=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,i,a;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?r[e[i]](e[i+2]):r[e[i]]=e[i+2]:e[i+2]?n[e[i]]=e[i+2]:n.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Kx,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=Gx(),(!i||!i.isStart)&&!n[Ht]&&(vT(n),s.zOrigin&&n[In]&&(n[In]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},wT=function(e,r){var n={target:e,props:[],revert:PI,save:II};return e._gsap||Rn.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(s){return n.save(s)}),n},_T,Jg=function(e,r){var n=ia.createElementNS?ia.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ia.createElement(e);return n&&n.style?n:ia.createElement(e)},ps=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(Kx,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,Yl(r)||r,1)||""},Wy="O,Moz,ms,Ms,Webkit".split(","),Yl=function(e,r,n){var s=r||eo,i=s.style,a=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(Wy[a]+e in i););return a<0?null:(a===3?"ms":a>=0?Wy[a]:"")+e},Xg=function(){vI()&&window.document&&($y=window,ia=$y.document,Cl=ia.documentElement,eo=Jg("div")||{style:{}},Jg("div"),Ht=Yl(Ht),In=Ht+"Origin",eo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_T=!!Yl("perspective"),Gx=Rn.core.reverting,Yx=1)},Yy=function(e){var r=e.ownerSVGElement,n=Jg("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",n.appendChild(s),Cl.appendChild(n);try{i=s.getBBox()}catch{}return n.removeChild(s),Cl.removeChild(n),i},Gy=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},ET=function(e){var r,n;try{r=e.getBBox()}catch{r=Yy(e),n=1}return r&&(r.width||r.height)||n||(r=Yy(e)),r&&!r.width&&!r.x&&!r.y?{x:+Gy(e,["x","cx","x1"])||0,y:+Gy(e,["y","cy","y1"])||0,width:0,height:0}:r},TT=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ET(e))},So=function(e,r){if(r){var n=e.style,s;r in Ii&&r!==In&&(r=Ht),n.removeProperty?(s=r.substr(0,2),(s==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(s==="--"?r:r.replace(Kx,"-$1").toLowerCase())):n.removeAttribute(r)}},aa=function(e,r,n,s,i,a){var o=new On(e._pt,r,n,0,1,a?yT:bT);return e._pt=o,o.b=s,o.e=i,e._props.push(n),o},Ky={deg:1,rad:1,turn:1},RI={grid:1,flex:1},Na=function t(e,r,n,s){var i=parseFloat(n)||0,a=(n+"").trim().substr((i+"").length)||"px",o=eo.style,l=wI.test(r),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(l?"Width":"Height"),h=100,p=s==="px",f=s==="%",m,g,b,y;if(s===a||!i||Ky[s]||Ky[a])return i;if(a!=="px"&&!p&&(i=t(e,r,n,"px")),y=e.getCTM&&TT(e),(f||a==="%")&&(Ii[r]||~r.indexOf("adius")))return m=y?e.getBBox()[l?"width":"height"]:e[d],Jt(f?i/m*h:i/100*m);if(o[l?"width":"height"]=h+(p?a:s),g=s!=="rem"&&~r.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,y&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===ia||!g.appendChild)&&(g=ia.body),b=g._gsap,b&&f&&b.width&&l&&b.time===Vn.time&&!b.uncache)return Jt(i/b.width*h);if(f&&(r==="height"||r==="width")){var E=e.style[r];e.style[r]=h+s,m=e[d],E?e.style[r]=E:So(e,r)}else(f||a==="%")&&!RI[ps(g,"display")]&&(o.position=ps(e,"position")),g===e&&(o.position="static"),g.appendChild(eo),m=eo[d],g.removeChild(eo),o.position="absolute";return l&&f&&(b=uo(g),b.time=Vn.time,b.width=g[d]),Jt(p?m*i/h:m&&i?h/m*i:0)},Ti=function(e,r,n,s){var i;return Yx||Xg(),r in Zs&&r!=="transform"&&(r=Zs[r],~r.indexOf(",")&&(r=r.split(",")[0])),Ii[r]&&r!=="transform"?(i=Wu(e,s),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:qh(ps(e,In))+" "+i.zOrigin+"px"):(i=e.style[r],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Vh[r]&&Vh[r](e,r,n)||ps(e,r)||UE(e,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?Na(e,r,i,n)+n:i},DI=function(e,r,n,s){if(!n||n==="none"){var i=Yl(r,e,1),a=i&&ps(e,i,1);a&&a!==n?(r=i,n=a):r==="borderColor"&&(n=ps(e,"borderTopColor"))}var o=new On(this._pt,e.style,r,0,1,mT),l=0,u=0,d,h,p,f,m,g,b,y,E,T,k,w;if(o.b=n,o.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=ps(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(g=e.style[r],e.style[r]=s,s=ps(e,r)||s,g?e.style[r]=g:So(e,r)),d=[n,s],iT(d),n=d[0],s=d[1],p=n.match(yl)||[],w=s.match(yl)||[],w.length){for(;h=yl.exec(s);)b=h[0],E=s.substring(l,h.index),m?m=(m+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(m=1),b!==(g=p[u++]||"")&&(f=parseFloat(g)||0,k=g.substr((f+"").length),b.charAt(1)==="="&&(b=Sl(f,b)+k),y=parseFloat(b),T=b.substr((y+"").length),l=yl.lastIndex-T.length,T||(T=T||Kn.units[r]||k,l===s.length&&(s+=T,o.e+=T)),k!==T&&(f=Na(e,r,g,T)||0),o._pt={_next:o._pt,p:E||u===1?E:",",s:f,c:y-f,m:m&&m<4||r==="zIndex"?Math.round:0});o.c=l<s.length?s.substring(l,s.length):""}else o.r=r==="display"&&s==="none"?yT:bT;return RE.test(s)&&(o.e=0),this._pt=o,o},Jy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},MI=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=Jy[n]||n,r[1]=Jy[s]||s,r.join(" ")},LI=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,i=r.u,a=n._gsap,o,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)o=i[u],Ii[o]&&(l=1,o=o==="transformOrigin"?In:Ht),So(n,o);l&&(So(n,Ht),a&&(a.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Wu(n,1),a.uncache=1,vT(s)))}},Vh={clearProps:function(e,r,n,s,i){if(i.data!=="isFromStart"){var a=e._pt=new On(e._pt,r,n,0,0,LI);return a.u=s,a.pr=-10,a.tween=i,e._props.push(n),1}}},qu=[1,0,0,1,0,0],kT={},NT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Xy=function(e){var r=ps(e,Ht);return NT(r)?qu:r.substr(7).match(PE).map(Jt)},Jx=function(e,r){var n=e._gsap||uo(e),s=e.style,i=Xy(e),a,o,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?qu:i):(i===qu&&!e.offsetParent&&e!==Cl&&!n.svg&&(l=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,Cl.appendChild(e)),i=Xy(e),l?s.display=l:So(e,"display"),u&&(o?a.insertBefore(e,o):a?a.appendChild(e):Cl.removeChild(e))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Qg=function(e,r,n,s,i,a){var o=e._gsap,l=i||Jx(e,!0),u=o.xOrigin||0,d=o.yOrigin||0,h=o.xOffset||0,p=o.yOffset||0,f=l[0],m=l[1],g=l[2],b=l[3],y=l[4],E=l[5],T=r.split(" "),k=parseFloat(T[0])||0,w=parseFloat(T[1])||0,v,N,A,I;n?l!==qu&&(N=f*b-m*g)&&(A=k*(b/N)+w*(-g/N)+(g*E-b*y)/N,I=k*(-m/N)+w*(f/N)-(f*E-m*y)/N,k=A,w=I):(v=ET(e),k=v.x+(~T[0].indexOf("%")?k/100*v.width:k),w=v.y+(~(T[1]||T[0]).indexOf("%")?w/100*v.height:w)),s||s!==!1&&o.smooth?(y=k-u,E=w-d,o.xOffset=h+(y*f+E*g)-y,o.yOffset=p+(y*m+E*b)-E):o.xOffset=o.yOffset=0,o.xOrigin=k,o.yOrigin=w,o.smooth=!!s,o.origin=r,o.originIsAbsolute=!!n,e.style[In]="0px 0px",a&&(aa(a,o,"xOrigin",u,k),aa(a,o,"yOrigin",d,w),aa(a,o,"xOffset",h,o.xOffset),aa(a,o,"yOffset",p,o.yOffset)),e.setAttribute("data-svg-origin",k+" "+w)},Wu=function(e,r){var n=e._gsap||new cT(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,i=n.scaleX<0,a="px",o="deg",l=getComputedStyle(e),u=ps(e,In)||"0",d,h,p,f,m,g,b,y,E,T,k,w,v,N,A,I,S,U,M,$,Y,G,J,Z,ee,je,_,Ie,Oe,P,Ne,ot;return d=h=p=g=b=y=E=T=k=0,f=m=1,n.svg=!!(e.getCTM&&TT(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Ht]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ht]!=="none"?l[Ht]:"")),s.scale=s.rotate=s.translate="none"),N=Jx(e,n.svg),n.svg&&(n.uncache?(ee=e.getBBox(),u=n.xOrigin-ee.x+"px "+(n.yOrigin-ee.y)+"px",Z=""):Z=!r&&e.getAttribute("data-svg-origin"),Qg(e,Z||u,!!Z||n.originIsAbsolute,n.smooth!==!1,N)),w=n.xOrigin||0,v=n.yOrigin||0,N!==qu&&(U=N[0],M=N[1],$=N[2],Y=N[3],d=G=N[4],h=J=N[5],N.length===6?(f=Math.sqrt(U*U+M*M),m=Math.sqrt(Y*Y+$*$),g=U||M?Xo(M,U)*Ya:0,E=$||Y?Xo($,Y)*Ya+g:0,E&&(m*=Math.abs(Math.cos(E*Al))),n.svg&&(d-=w-(w*U+v*$),h-=v-(w*M+v*Y))):(ot=N[6],P=N[7],_=N[8],Ie=N[9],Oe=N[10],Ne=N[11],d=N[12],h=N[13],p=N[14],A=Xo(ot,Oe),b=A*Ya,A&&(I=Math.cos(-A),S=Math.sin(-A),Z=G*I+_*S,ee=J*I+Ie*S,je=ot*I+Oe*S,_=G*-S+_*I,Ie=J*-S+Ie*I,Oe=ot*-S+Oe*I,Ne=P*-S+Ne*I,G=Z,J=ee,ot=je),A=Xo(-$,Oe),y=A*Ya,A&&(I=Math.cos(-A),S=Math.sin(-A),Z=U*I-_*S,ee=M*I-Ie*S,je=$*I-Oe*S,Ne=Y*S+Ne*I,U=Z,M=ee,$=je),A=Xo(M,U),g=A*Ya,A&&(I=Math.cos(A),S=Math.sin(A),Z=U*I+M*S,ee=G*I+J*S,M=M*I-U*S,J=J*I-G*S,U=Z,G=ee),b&&Math.abs(b)+Math.abs(g)>359.9&&(b=g=0,y=180-y),f=Jt(Math.sqrt(U*U+M*M+$*$)),m=Jt(Math.sqrt(J*J+ot*ot)),A=Xo(G,J),E=Math.abs(A)>2e-4?A*Ya:0,k=Ne?1/(Ne<0?-Ne:Ne):0),n.svg&&(Z=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!NT(ps(e,Ht)),Z&&e.setAttribute("transform",Z))),Math.abs(E)>90&&Math.abs(E)<270&&(i?(f*=-1,E+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,E+=E<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=h-((n.yPercent=h&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=p+a,n.scaleX=Jt(f),n.scaleY=Jt(m),n.rotation=Jt(g)+o,n.rotationX=Jt(b)+o,n.rotationY=Jt(y)+o,n.skewX=E+o,n.skewY=T+o,n.transformPerspective=k+a,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(s[In]=qh(u)),n.xOffset=n.yOffset=0,n.force3D=Kn.force3D,n.renderTransform=n.svg?BI:_T?ST:FI,n.uncache=0,n},qh=function(e){return(e=e.split(" "))[0]+" "+e[1]},lm=function(e,r,n){var s=Jr(r);return Jt(parseFloat(r)+parseFloat(Na(e,"x",n+"px",s)))+s},FI=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,ST(e,r)},Ha="0deg",Pc="0px",za=") ",ST=function(e,r){var n=r||this,s=n.xPercent,i=n.yPercent,a=n.x,o=n.y,l=n.z,u=n.rotation,d=n.rotationY,h=n.rotationX,p=n.skewX,f=n.skewY,m=n.scaleX,g=n.scaleY,b=n.transformPerspective,y=n.force3D,E=n.target,T=n.zOrigin,k="",w=y==="auto"&&e&&e!==1||y===!0;if(T&&(h!==Ha||d!==Ha)){var v=parseFloat(d)*Al,N=Math.sin(v),A=Math.cos(v),I;v=parseFloat(h)*Al,I=Math.cos(v),a=lm(E,a,N*I*-T),o=lm(E,o,-Math.sin(v)*-T),l=lm(E,l,A*I*-T+T)}b!==Pc&&(k+="perspective("+b+za),(s||i)&&(k+="translate("+s+"%, "+i+"%) "),(w||a!==Pc||o!==Pc||l!==Pc)&&(k+=l!==Pc||w?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+za),u!==Ha&&(k+="rotate("+u+za),d!==Ha&&(k+="rotateY("+d+za),h!==Ha&&(k+="rotateX("+h+za),(p!==Ha||f!==Ha)&&(k+="skew("+p+", "+f+za),(m!==1||g!==1)&&(k+="scale("+m+", "+g+za),E.style[Ht]=k||"translate(0, 0)"},BI=function(e,r){var n=r||this,s=n.xPercent,i=n.yPercent,a=n.x,o=n.y,l=n.rotation,u=n.skewX,d=n.skewY,h=n.scaleX,p=n.scaleY,f=n.target,m=n.xOrigin,g=n.yOrigin,b=n.xOffset,y=n.yOffset,E=n.forceCSS,T=parseFloat(a),k=parseFloat(o),w,v,N,A,I;l=parseFloat(l),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,l+=d),l||u?(l*=Al,u*=Al,w=Math.cos(l)*h,v=Math.sin(l)*h,N=Math.sin(l-u)*-p,A=Math.cos(l-u)*p,u&&(d*=Al,I=Math.tan(u-d),I=Math.sqrt(1+I*I),N*=I,A*=I,d&&(I=Math.tan(d),I=Math.sqrt(1+I*I),w*=I,v*=I)),w=Jt(w),v=Jt(v),N=Jt(N),A=Jt(A)):(w=h,A=p,v=N=0),(T&&!~(a+"").indexOf("px")||k&&!~(o+"").indexOf("px"))&&(T=Na(f,"x",a,"px"),k=Na(f,"y",o,"px")),(m||g||b||y)&&(T=Jt(T+m-(m*w+g*N)+b),k=Jt(k+g-(m*v+g*A)+y)),(s||i)&&(I=f.getBBox(),T=Jt(T+s/100*I.width),k=Jt(k+i/100*I.height)),I="matrix("+w+","+v+","+N+","+A+","+T+","+k+")",f.setAttribute("transform",I),E&&(f.style[Ht]=I)},UI=function(e,r,n,s,i){var a=360,o=Ir(i),l=parseFloat(i)*(o&&~i.indexOf("rad")?Ya:1),u=l-s,d=s+u+"deg",h,p;return o&&(h=i.split("_")[1],h==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),h==="cw"&&u<0?u=(u+a*qy)%a-~~(u/a)*a:h==="ccw"&&u>0&&(u=(u-a*qy)%a-~~(u/a)*a)),e._pt=p=new On(e._pt,r,n,s,u,EI),p.e=d,p.u="deg",e._props.push(n),p},Qy=function(e,r){for(var n in r)e[n]=r[n];return e},HI=function(e,r,n){var s=Qy({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",a=n.style,o,l,u,d,h,p,f,m;s.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),a[Ht]=r,o=Wu(n,1),So(n,Ht),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Ht],a[Ht]=r,o=Wu(n,1),a[Ht]=u);for(l in Ii)u=s[l],d=o[l],u!==d&&i.indexOf(l)<0&&(f=Jr(u),m=Jr(d),h=f!==m?Na(n,l,u,m):parseFloat(u),p=parseFloat(d),e._pt=new On(e._pt,o,l,h,p-h,Kg),e._pt.u=m||0,e._props.push(l));Qy(o,s)};jn("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",i="Left",a=(e<3?[r,n,s,i]:[r+i,r+n,s+n,s+i]).map(function(o){return e<2?t+o:"border"+o+t});Vh[e>1?"border"+t:t]=function(o,l,u,d,h){var p,f;if(arguments.length<4)return p=a.map(function(m){return Ti(o,m,u)}),f=p.join(" "),f.split(p[0]).length===5?p[0]:f;p=(d+"").split(" "),f={},a.forEach(function(m,g){return f[m]=p[g]=p[g]||p[(g-1)/2|0]}),o.init(l,f,h)}});var CT={name:"css",register:Xg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,i){var a=this._props,o=e.style,l=n.vars.startAt,u,d,h,p,f,m,g,b,y,E,T,k,w,v,N,A;Yx||Xg(),this.styles=this.styles||wT(e),A=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(zn[g]&&uT(g,r,n,s,e,i)))){if(f=typeof d,m=Vh[g],f==="function"&&(d=d.call(n,s,e,i),f=typeof d),f==="string"&&~d.indexOf("random(")&&(d=zu(d)),m)m(this,e,g,d,n)&&(N=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),d+="",ga.lastIndex=0,ga.test(u)||(b=Jr(u),y=Jr(d)),y?b!==y&&(u=Na(e,g,u,y)+y):b&&(d+=b),this.add(o,"setProperty",u,d,s,i,0,0,g),a.push(g),A.push(g,0,o[g]);else if(f!=="undefined"){if(l&&g in l?(u=typeof l[g]=="function"?l[g].call(n,s,e,i):l[g],Ir(u)&&~u.indexOf("random(")&&(u=zu(u)),Jr(u+"")||u==="auto"||(u+=Kn.units[g]||Jr(Ti(e,g))||""),(u+"").charAt(1)==="="&&(u=Ti(e,g))):u=Ti(e,g),p=parseFloat(u),E=f==="string"&&d.charAt(1)==="="&&d.substr(0,2),E&&(d=d.substr(2)),h=parseFloat(d),g in Zs&&(g==="autoAlpha"&&(p===1&&Ti(e,"visibility")==="hidden"&&h&&(p=0),A.push("visibility",0,o.visibility),aa(this,o,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),g!=="scale"&&g!=="transform"&&(g=Zs[g],~g.indexOf(",")&&(g=g.split(",")[0]))),T=g in Ii,T){if(this.styles.save(g),f==="string"&&d.substring(0,6)==="var(--"&&(d=ps(e,d.substring(4,d.indexOf(")"))),h=parseFloat(d)),k||(w=e._gsap,w.renderTransform&&!r.parseTransform||Wu(e,r.parseTransform),v=r.smoothOrigin!==!1&&w.smooth,k=this._pt=new On(this._pt,o,Ht,0,1,w.renderTransform,w,0,-1),k.dep=1),g==="scale")this._pt=new On(this._pt,w,"scaleY",w.scaleY,(E?Sl(w.scaleY,E+h):h)-w.scaleY||0,Kg),this._pt.u=0,a.push("scaleY",g),g+="X";else if(g==="transformOrigin"){A.push(In,0,o[In]),d=MI(d),w.svg?Qg(e,d,0,v,0,this):(y=parseFloat(d.split(" ")[2])||0,y!==w.zOrigin&&aa(this,w,"zOrigin",w.zOrigin,y),aa(this,o,g,qh(u),qh(d)));continue}else if(g==="svgOrigin"){Qg(e,d,1,v,0,this);continue}else if(g in kT){UI(this,w,g,p,E?Sl(p,E+d):d);continue}else if(g==="smoothOrigin"){aa(this,w,"smooth",w.smooth,d);continue}else if(g==="force3D"){w[g]=d;continue}else if(g==="transform"){HI(this,d,e);continue}}else g in o||(g=Yl(g)||g);if(T||(h||h===0)&&(p||p===0)&&!_I.test(d)&&g in o)b=(u+"").substr((p+"").length),h||(h=0),y=Jr(d)||(g in Kn.units?Kn.units[g]:b),b!==y&&(p=Na(e,g,u,y)),this._pt=new On(this._pt,T?w:o,g,p,(E?Sl(p,E+h):h)-p,!T&&(y==="px"||g==="zIndex")&&r.autoRound!==!1?kI:Kg),this._pt.u=y||0,b!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=TI);else if(g in o)DI.call(this,e,g,u,E?E+d:d);else if(g in e)this.add(e,g,u||e[g],E?E+d:d,s,i);else if(g!=="parseTransform"){Lx(g,d);continue}T||(g in o?A.push(g,0,o[g]):typeof e[g]=="function"?A.push(g,2,e[g]()):A.push(g,1,u||e[g])),a.push(g)}}N&&gT(this)},render:function(e,r){if(r.tween._time||!Gx())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:Ti,aliases:Zs,getSetter:function(e,r,n){var s=Zs[r];return s&&s.indexOf(",")<0&&(r=s),r in Ii&&r!==In&&(e._gsap.x||Ti(e,"x"))?n&&Vy===n?r==="scale"?AI:CI:(Vy=n||{})&&(r==="scale"?jI:OI):e.style&&!Rx(e.style[r])?NI:~r.indexOf("-")?SI:qx(e,r)},core:{_removeProperty:So,_getMatrix:Jx}};Rn.utils.checkPrefix=Yl;Rn.core.getStyleSaver=wT;(function(t,e,r,n){var s=jn(t+","+e+","+r,function(i){Ii[i]=1});jn(e,function(i){Kn.units[i]="deg",kT[i]=1}),Zs[s[13]]=t+","+e,jn(n,function(i){var a=i.split(":");Zs[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");jn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Kn.units[t]="px"});Rn.registerPlugin(CT);var $s=Rn.registerPlugin(CT)||Rn;$s.core.Tween;function zI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $I(t,e,r){return e&&zI(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ur,_h,qn,oa,la,jl,AT,Ga,cu,jT,Si,Ts,OT,IT=function(){return Ur||typeof window<"u"&&(Ur=window.gsap)&&Ur.registerPlugin&&Ur},PT=1,wl=[],Je=[],ri=[],uu=Date.now,Zg=function(e,r){return r},VI=function(){var e=cu.core,r=e.bridge||{},n=e._scrollers,s=e._proxies;n.push.apply(n,Je),s.push.apply(s,ri),Je=n,ri=s,Zg=function(a,o){return r[a](o)}},xa=function(e,r){return~ri.indexOf(e)&&ri[ri.indexOf(e)+1][r]},du=function(e){return!!~jT.indexOf(e)},ln=function(e,r,n,s,i){return e.addEventListener(r,n,{passive:s!==!1,capture:!!i})},on=function(e,r,n,s){return e.removeEventListener(r,n,!!s)},Bd="scrollLeft",Ud="scrollTop",e0=function(){return Si&&Si.isPressed||Je.cache++},Wh=function(e,r){var n=function s(i){if(i||i===0){PT&&(qn.history.scrollRestoration="manual");var a=Si&&Si.isPressed;i=s.v=Math.round(i)||(Si&&Si.iOS?1:0),e(i),s.cacheID=Je.cache,a&&Zg("ss",i)}else(r||Je.cache!==s.cacheID||Zg("ref"))&&(s.cacheID=Je.cache,s.v=e());return s.v+s.offset};return n.offset=0,e&&n},mn={s:Bd,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Wh(function(t){return arguments.length?qn.scrollTo(t,mr.sc()):qn.pageXOffset||oa[Bd]||la[Bd]||jl[Bd]||0})},mr={s:Ud,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:mn,sc:Wh(function(t){return arguments.length?qn.scrollTo(mn.sc(),t):qn.pageYOffset||oa[Ud]||la[Ud]||jl[Ud]||0})},kn=function(e,r){return(r&&r._ctx&&r._ctx.selector||Ur.utils.toArray)(e)[0]||(typeof e=="string"&&Ur.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},qI=function(e,r){for(var n=r.length;n--;)if(r[n]===e||r[n].contains(e))return!0;return!1},Sa=function(e,r){var n=r.s,s=r.sc;du(e)&&(e=oa.scrollingElement||la);var i=Je.indexOf(e),a=s===mr.sc?1:2;!~i&&(i=Je.push(e)-1),Je[i+a]||ln(e,"scroll",e0);var o=Je[i+a],l=o||(Je[i+a]=Wh(xa(e,n),!0)||(du(e)?s:Wh(function(u){return arguments.length?e[n]=u:e[n]})));return l.target=e,o||(l.smooth=Ur.getProperty(e,"scrollBehavior")==="smooth"),l},t0=function(e,r,n){var s=e,i=e,a=uu(),o=a,l=r||50,u=Math.max(500,l*3),d=function(m,g){var b=uu();g||b-a>l?(i=s,s=m,o=a,a=b):n?s+=m:s=i+(m-i)/(b-o)*(a-o)},h=function(){i=s=n?0:s,o=a=0},p=function(m){var g=o,b=i,y=uu();return(m||m===0)&&m!==s&&d(m),a===o||y-o>u?0:(s+(n?b:-b))/((n?y:a)-g)*1e3};return{update:d,reset:h,getVelocity:p}},Rc=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Zy=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},RT=function(){cu=Ur.core.globals().ScrollTrigger,cu&&cu.core&&VI()},DT=function(e){return Ur=e||IT(),!_h&&Ur&&typeof document<"u"&&document.body&&(qn=window,oa=document,la=oa.documentElement,jl=oa.body,jT=[qn,oa,la,jl],Ur.utils.clamp,OT=Ur.core.context||function(){},Ga="onpointerenter"in jl?"pointer":"mouse",AT=Qt.isTouch=qn.matchMedia&&qn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in qn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ts=Qt.eventTypes=("ontouchstart"in la?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in la?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return PT=0},500),RT(),_h=1),_h};mn.op=mr;Je.cache=0;var Qt=function(){function t(r){this.init(r)}var e=t.prototype;return e.init=function(n){_h||DT(Ur)||console.warn("Please gsap.registerPlugin(Observer)"),cu||RT();var s=n.tolerance,i=n.dragMinimum,a=n.type,o=n.target,l=n.lineHeight,u=n.debounce,d=n.preventDefault,h=n.onStop,p=n.onStopDelay,f=n.ignore,m=n.wheelSpeed,g=n.event,b=n.onDragStart,y=n.onDragEnd,E=n.onDrag,T=n.onPress,k=n.onRelease,w=n.onRight,v=n.onLeft,N=n.onUp,A=n.onDown,I=n.onChangeX,S=n.onChangeY,U=n.onChange,M=n.onToggleX,$=n.onToggleY,Y=n.onHover,G=n.onHoverEnd,J=n.onMove,Z=n.ignoreCheck,ee=n.isNormalizer,je=n.onGestureStart,_=n.onGestureEnd,Ie=n.onWheel,Oe=n.onEnable,P=n.onDisable,Ne=n.onClick,ot=n.scrollSpeed,We=n.capture,Se=n.allowClicks,ht=n.lockAxis,ct=n.onLockAxis;this.target=o=kn(o)||la,this.vars=n,f&&(f=Ur.utils.toArray(f)),s=s||1e-9,i=i||0,m=m||1,ot=ot||1,a=a||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(qn.getComputedStyle(jl).lineHeight)||22);var jt,_t,Ot,Ze,Et,rr,gr,z=this,zr=0,an=0,R=n.passive||!d&&n.passive!==!1,F=Sa(o,mn),q=Sa(o,mr),ce=F(),oe=q(),X=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Ts[0]==="pointerdown",L=du(o),W=o.ownerDocument||oa,le=[0,0,0],ye=[0,0,0],Fe=0,Tt=function(){return Fe=uu()},ft=function(Ce,dt){return(z.event=Ce)&&f&&qI(Ce.target,f)||dt&&X&&Ce.pointerType!=="touch"||Z&&Z(Ce,dt)},xr=function(){z._vx.reset(),z._vy.reset(),_t.pause(),h&&h(z)},dr=function(){var Ce=z.deltaX=Zy(le),dt=z.deltaY=Zy(ye),ue=Math.abs(Ce)>=s,Me=Math.abs(dt)>=s;U&&(ue||Me)&&U(z,Ce,dt,le,ye),ue&&(w&&z.deltaX>0&&w(z),v&&z.deltaX<0&&v(z),I&&I(z),M&&z.deltaX<0!=zr<0&&M(z),zr=z.deltaX,le[0]=le[1]=le[2]=0),Me&&(A&&z.deltaY>0&&A(z),N&&z.deltaY<0&&N(z),S&&S(z),$&&z.deltaY<0!=an<0&&$(z),an=z.deltaY,ye[0]=ye[1]=ye[2]=0),(Ze||Ot)&&(J&&J(z),Ot&&(b&&Ot===1&&b(z),E&&E(z),Ot=0),Ze=!1),rr&&!(rr=!1)&&ct&&ct(z),Et&&(Ie(z),Et=!1),jt=0},wn=function(Ce,dt,ue){le[ue]+=Ce,ye[ue]+=dt,z._vx.update(Ce),z._vy.update(dt),u?jt||(jt=requestAnimationFrame(dr)):dr()},Lt=function(Ce,dt){ht&&!gr&&(z.axis=gr=Math.abs(Ce)>Math.abs(dt)?"x":"y",rr=!0),gr!=="y"&&(le[2]+=Ce,z._vx.update(Ce,!0)),gr!=="x"&&(ye[2]+=dt,z._vy.update(dt,!0)),u?jt||(jt=requestAnimationFrame(dr)):dr()},Rr=function(Ce){if(!ft(Ce,1)){Ce=Rc(Ce,d);var dt=Ce.clientX,ue=Ce.clientY,Me=dt-z.x,Te=ue-z.y,Le=z.isDragging;z.x=dt,z.y=ue,(Le||(Me||Te)&&(Math.abs(z.startX-dt)>=i||Math.abs(z.startY-ue)>=i))&&(Ot=Le?2:1,Le||(z.isDragging=!0),Lt(Me,Te))}},nr=z.onPress=function(Be){ft(Be,1)||Be&&Be.button||(z.axis=gr=null,_t.pause(),z.isPressed=!0,Be=Rc(Be),zr=an=0,z.startX=z.x=Be.clientX,z.startY=z.y=Be.clientY,z._vx.reset(),z._vy.reset(),ln(ee?o:W,Ts[1],Rr,R,!0),z.deltaX=z.deltaY=0,T&&T(z))},et=z.onRelease=function(Be){if(!ft(Be,1)){on(ee?o:W,Ts[1],Rr,!0);var Ce=!isNaN(z.y-z.startY),dt=z.isDragging,ue=dt&&(Math.abs(z.x-z.startX)>3||Math.abs(z.y-z.startY)>3),Me=Rc(Be);!ue&&Ce&&(z._vx.reset(),z._vy.reset(),d&&Se&&Ur.delayedCall(.08,function(){if(uu()-Fe>300&&!Be.defaultPrevented){if(Be.target.click)Be.target.click();else if(W.createEvent){var Te=W.createEvent("MouseEvents");Te.initMouseEvent("click",!0,!0,qn,1,Me.screenX,Me.screenY,Me.clientX,Me.clientY,!1,!1,!1,!1,0,null),Be.target.dispatchEvent(Te)}}})),z.isDragging=z.isGesturing=z.isPressed=!1,h&&dt&&!ee&&_t.restart(!0),Ot&&dr(),y&&dt&&y(z),k&&k(z,ue)}},La=function(Ce){return Ce.touches&&Ce.touches.length>1&&(z.isGesturing=!0)&&je(Ce,z.isDragging)},vs=function(){return(z.isGesturing=!1)||_(z)},ws=function(Ce){if(!ft(Ce)){var dt=F(),ue=q();wn((dt-ce)*ot,(ue-oe)*ot,1),ce=dt,oe=ue,h&&_t.restart(!0)}},_s=function(Ce){if(!ft(Ce)){Ce=Rc(Ce,d),Ie&&(Et=!0);var dt=(Ce.deltaMode===1?l:Ce.deltaMode===2?qn.innerHeight:1)*m;wn(Ce.deltaX*dt,Ce.deltaY*dt,0),h&&!ee&&_t.restart(!0)}},Fa=function(Ce){if(!ft(Ce)){var dt=Ce.clientX,ue=Ce.clientY,Me=dt-z.x,Te=ue-z.y;z.x=dt,z.y=ue,Ze=!0,h&&_t.restart(!0),(Me||Te)&&Lt(Me,Te)}},Go=function(Ce){z.event=Ce,Y(z)},di=function(Ce){z.event=Ce,G(z)},Sc=function(Ce){return ft(Ce)||Rc(Ce,d)&&Ne(z)};_t=z._dc=Ur.delayedCall(p||.25,xr).pause(),z.deltaX=z.deltaY=0,z._vx=t0(0,50,!0),z._vy=t0(0,50,!0),z.scrollX=F,z.scrollY=q,z.isDragging=z.isGesturing=z.isPressed=!1,OT(this),z.enable=function(Be){return z.isEnabled||(ln(L?W:o,"scroll",e0),a.indexOf("scroll")>=0&&ln(L?W:o,"scroll",ws,R,We),a.indexOf("wheel")>=0&&ln(o,"wheel",_s,R,We),(a.indexOf("touch")>=0&&AT||a.indexOf("pointer")>=0)&&(ln(o,Ts[0],nr,R,We),ln(W,Ts[2],et),ln(W,Ts[3],et),Se&&ln(o,"click",Tt,!0,!0),Ne&&ln(o,"click",Sc),je&&ln(W,"gesturestart",La),_&&ln(W,"gestureend",vs),Y&&ln(o,Ga+"enter",Go),G&&ln(o,Ga+"leave",di),J&&ln(o,Ga+"move",Fa)),z.isEnabled=!0,z.isDragging=z.isGesturing=z.isPressed=Ze=Ot=!1,z._vx.reset(),z._vy.reset(),ce=F(),oe=q(),Be&&Be.type&&nr(Be),Oe&&Oe(z)),z},z.disable=function(){z.isEnabled&&(wl.filter(function(Be){return Be!==z&&du(Be.target)}).length||on(L?W:o,"scroll",e0),z.isPressed&&(z._vx.reset(),z._vy.reset(),on(ee?o:W,Ts[1],Rr,!0)),on(L?W:o,"scroll",ws,We),on(o,"wheel",_s,We),on(o,Ts[0],nr,We),on(W,Ts[2],et),on(W,Ts[3],et),on(o,"click",Tt,!0),on(o,"click",Sc),on(W,"gesturestart",La),on(W,"gestureend",vs),on(o,Ga+"enter",Go),on(o,Ga+"leave",di),on(o,Ga+"move",Fa),z.isEnabled=z.isPressed=z.isDragging=!1,P&&P(z))},z.kill=z.revert=function(){z.disable();var Be=wl.indexOf(z);Be>=0&&wl.splice(Be,1),Si===z&&(Si=0)},wl.push(z),ee&&du(o)&&(Si=z),z.enable(g)},$I(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();Qt.version="3.13.0";Qt.create=function(t){return new Qt(t)};Qt.register=DT;Qt.getAll=function(){return wl.slice()};Qt.getById=function(t){return wl.filter(function(e){return e.vars.id===t})[0]};IT()&&Ur.registerPlugin(Qt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var me,cl,Ke,Nt,$n,pt,Xx,Yh,Yu,hu,Yc,Hd,Wr,up,r0,dn,e1,t1,ul,MT,cm,LT,cn,n0,FT,BT,qi,s0,Qx,Ol,Zx,Gh,i0,um,zd=1,Kr=Date.now,dm=Kr(),ms=0,Gc=0,r1=function(e,r,n){var s=Hn(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=s,s?e.substr(6,e.length-7):e},n1=function(e,r){return r&&(!Hn(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},WI=function t(){return Gc&&requestAnimationFrame(t)},s1=function(){return up=1},i1=function(){return up=0},Ks=function(e){return e},Kc=function(e){return Math.round(e*1e5)/1e5||0},UT=function(){return typeof window<"u"},HT=function(){return me||UT()&&(me=window.gsap)&&me.registerPlugin&&me},Co=function(e){return!!~Xx.indexOf(e)},zT=function(e){return(e==="Height"?Zx:Ke["inner"+e])||$n["client"+e]||pt["client"+e]},$T=function(e){return xa(e,"getBoundingClientRect")||(Co(e)?function(){return Sh.width=Ke.innerWidth,Sh.height=Zx,Sh}:function(){return ki(e)})},YI=function(e,r,n){var s=n.d,i=n.d2,a=n.a;return(a=xa(e,"getBoundingClientRect"))?function(){return a()[s]}:function(){return(r?zT(i):e["client"+i])||0}},GI=function(e,r){return!r||~ri.indexOf(e)?$T(e):function(){return Sh}},ei=function(e,r){var n=r.s,s=r.d2,i=r.d,a=r.a;return Math.max(0,(n="scroll"+s)&&(a=xa(e,n))?a()-$T(e)()[i]:Co(e)?($n[n]||pt[n])-zT(s):e[n]-e["offset"+s])},$d=function(e,r){for(var n=0;n<ul.length;n+=3)(!r||~r.indexOf(ul[n+1]))&&e(ul[n],ul[n+1],ul[n+2])},Hn=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="function"},Jc=function(e){return typeof e=="number"},Ka=function(e){return typeof e=="object"},Dc=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},hm=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Qo=Math.abs,VT="left",qT="top",eb="right",tb="bottom",mo="width",go="height",fu="Right",pu="Left",mu="Top",gu="Bottom",ar="padding",is="margin",Gl="Width",rb="Height",pr="px",as=function(e){return Ke.getComputedStyle(e)},KI=function(e){var r=as(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},a1=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},ki=function(e,r){var n=r&&as(e)[r0]!=="matrix(1, 0, 0, 1, 0, 0)"&&me.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return n&&n.progress(0).kill(),s},Kh=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},WT=function(e){var r=[],n=e.labels,s=e.duration(),i;for(i in n)r.push(n[i]/s);return r},JI=function(e){return function(r){return me.utils.snap(WT(e),r)}},nb=function(e){var r=me.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return n?function(s,i,a){a===void 0&&(a=.001);var o;if(!i)return r(s);if(i>0){for(s-=a,o=0;o<n.length;o++)if(n[o]>=s)return n[o];return n[o-1]}else for(o=n.length,s+=a;o--;)if(n[o]<=s)return n[o];return n[0]}:function(s,i,a){a===void 0&&(a=.001);var o=r(s);return!i||Math.abs(o-s)<a||o-s<0==i<0?o:r(i<0?s-e:s+e)}},XI=function(e){return function(r,n){return nb(WT(e))(r,n.direction)}},Vd=function(e,r,n,s){return n.split(",").forEach(function(i){return e(r,i,s)})},wr=function(e,r,n,s,i){return e.addEventListener(r,n,{passive:!s,capture:!!i})},vr=function(e,r,n,s){return e.removeEventListener(r,n,!!s)},qd=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},o1={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Wd={toggleActions:"play",anticipatePin:0},Jh={top:0,left:0,center:.5,bottom:1,right:1},Eh=function(e,r){if(Hn(e)){var n=e.indexOf("="),s=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(s*=r/100),e=e.substr(0,n-1)),e=s+(e in Jh?Jh[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},Yd=function(e,r,n,s,i,a,o,l){var u=i.startColor,d=i.endColor,h=i.fontSize,p=i.indent,f=i.fontWeight,m=Nt.createElement("div"),g=Co(n)||xa(n,"pinType")==="fixed",b=e.indexOf("scroller")!==-1,y=g?pt:n,E=e.indexOf("start")!==-1,T=E?u:d,k="border-color:"+T+";font-size:"+h+";color:"+T+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return k+="position:"+((b||l)&&g?"fixed;":"absolute;"),(b||l||!g)&&(k+=(s===mr?eb:tb)+":"+(a+parseFloat(p))+"px;"),o&&(k+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),m._isStart=E,m.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),m.style.cssText=k,m.innerText=r||r===0?e+"-"+r:e,y.children[0]?y.insertBefore(m,y.children[0]):y.appendChild(m),m._offset=m["offset"+s.op.d2],Th(m,0,s,E),m},Th=function(e,r,n,s){var i={display:"block"},a=n[s?"os2":"p2"],o=n[s?"p2":"os2"];e._isFlipped=s,i[n.a+"Percent"]=s?-100:0,i[n.a]=s?"1px":0,i["border"+a+Gl]=1,i["border"+o+Gl]=0,i[n.p]=r+"px",me.set(e,i)},Ge=[],a0={},Gu,l1=function(){return Kr()-ms>34&&(Gu||(Gu=requestAnimationFrame(Ai)))},Zo=function(){(!cn||!cn.isPressed||cn.startX>pt.clientWidth)&&(Je.cache++,cn?Gu||(Gu=requestAnimationFrame(Ai)):Ai(),ms||jo("scrollStart"),ms=Kr())},fm=function(){BT=Ke.innerWidth,FT=Ke.innerHeight},Xc=function(e){Je.cache++,(e===!0||!Wr&&!LT&&!Nt.fullscreenElement&&!Nt.webkitFullscreenElement&&(!n0||BT!==Ke.innerWidth||Math.abs(Ke.innerHeight-FT)>Ke.innerHeight*.25))&&Yh.restart(!0)},Ao={},QI=[],YT=function t(){return vr(nt,"scrollEnd",t)||to(!0)},jo=function(e){return Ao[e]&&Ao[e].map(function(r){return r()})||QI},Un=[],GT=function(e){for(var r=0;r<Un.length;r+=5)(!e||Un[r+4]&&Un[r+4].query===e)&&(Un[r].style.cssText=Un[r+1],Un[r].getBBox&&Un[r].setAttribute("transform",Un[r+2]||""),Un[r+3].uncache=1)},sb=function(e,r){var n;for(dn=0;dn<Ge.length;dn++)n=Ge[dn],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));Gh=!0,r&&GT(r),r||jo("revert")},KT=function(e,r){Je.cache++,(r||!hn)&&Je.forEach(function(n){return Xr(n)&&n.cacheID++&&(n.rec=0)}),Hn(e)&&(Ke.history.scrollRestoration=Qx=e)},hn,xo=0,c1,ZI=function(){if(c1!==xo){var e=c1=xo;requestAnimationFrame(function(){return e===xo&&to(!0)})}},JT=function(){pt.appendChild(Ol),Zx=!cn&&Ol.offsetHeight||Ke.innerHeight,pt.removeChild(Ol)},u1=function(e){return Yu(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},to=function(e,r){if($n=Nt.documentElement,pt=Nt.body,Xx=[Ke,Nt,$n,pt],ms&&!e&&!Gh){wr(nt,"scrollEnd",YT);return}JT(),hn=nt.isRefreshing=!0,Je.forEach(function(s){return Xr(s)&&++s.cacheID&&(s.rec=s())});var n=jo("refreshInit");MT&&nt.sort(),r||sb(),Je.forEach(function(s){Xr(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),Ge.slice(0).forEach(function(s){return s.refresh()}),Gh=!1,Ge.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",a=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-a),s.refresh()}}),i0=1,u1(!0),Ge.forEach(function(s){var i=ei(s.scroller,s._dir),a=s.vars.end==="max"||s._endClamp&&s.end>i,o=s._startClamp&&s.start>=i;(a||o)&&s.setPositions(o?i-1:s.start,a?Math.max(o?i:s.start+1,i):s.end,!0)}),u1(!1),i0=0,n.forEach(function(s){return s&&s.render&&s.render(-1)}),Je.forEach(function(s){Xr(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),KT(Qx,1),Yh.pause(),xo++,hn=2,Ai(2),Ge.forEach(function(s){return Xr(s.vars.onRefresh)&&s.vars.onRefresh(s)}),hn=nt.isRefreshing=!1,jo("refresh")},o0=0,kh=1,xu,Ai=function(e){if(e===2||!hn&&!Gh){nt.isUpdating=!0,xu&&xu.update(0);var r=Ge.length,n=Kr(),s=n-dm>=50,i=r&&Ge[0].scroll();if(kh=o0>i?-1:1,hn||(o0=i),s&&(ms&&!up&&n-ms>200&&(ms=0,jo("scrollEnd")),Yc=dm,dm=n),kh<0){for(dn=r;dn-- >0;)Ge[dn]&&Ge[dn].update(0,s);kh=1}else for(dn=0;dn<r;dn++)Ge[dn]&&Ge[dn].update(0,s);nt.isUpdating=!1}Gu=0},l0=[VT,qT,tb,eb,is+gu,is+fu,is+mu,is+pu,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Nh=l0.concat([mo,go,"boxSizing","max"+Gl,"max"+rb,"position",is,ar,ar+mu,ar+fu,ar+gu,ar+pu]),e3=function(e,r,n){Il(n);var s=e._gsap;if(s.spacerIsNative)Il(s.spacerState);else if(e._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(e,r),i.removeChild(r))}e._gsap.swappedIn=!1},pm=function(e,r,n,s){if(!e._gsap.swappedIn){for(var i=l0.length,a=r.style,o=e.style,l;i--;)l=l0[i],a[l]=n[l];a.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(a.display="inline-block"),o[tb]=o[eb]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[mo]=Kh(e,mn)+pr,a[go]=Kh(e,mr)+pr,a[ar]=o[is]=o[qT]=o[VT]="0",Il(s),o[mo]=o["max"+Gl]=n[mo],o[go]=o["max"+rb]=n[go],o[ar]=n[ar],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},t3=/([A-Z])/g,Il=function(e){if(e){var r=e.t.style,n=e.length,s=0,i,a;for((e.t._gsap||me.core.getCache(e.t)).uncache=1;s<n;s+=2)a=e[s+1],i=e[s],a?r[i]=a:r[i]&&r.removeProperty(i.replace(t3,"-$1").toLowerCase())}},Gd=function(e){for(var r=Nh.length,n=e.style,s=[],i=0;i<r;i++)s.push(Nh[i],n[Nh[i]]);return s.t=e,s},r3=function(e,r,n){for(var s=[],i=e.length,a=n?8:0,o;a<i;a+=2)o=e[a],s.push(o,o in r?r[o]:e[a+1]);return s.t=e.t,s},Sh={left:0,top:0},d1=function(e,r,n,s,i,a,o,l,u,d,h,p,f,m){Xr(e)&&(e=e(l)),Hn(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?Eh("0"+e.substr(3),n):0));var g=f?f.time():0,b,y,E;if(f&&f.seek(0),isNaN(e)||(e=+e),Jc(e))f&&(e=me.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,e)),o&&Th(o,n,s,!0);else{Xr(r)&&(r=r(l));var T=(e||"0").split(" "),k,w,v,N;E=kn(r,l)||pt,k=ki(E)||{},(!k||!k.left&&!k.top)&&as(E).display==="none"&&(N=E.style.display,E.style.display="block",k=ki(E),N?E.style.display=N:E.style.removeProperty("display")),w=Eh(T[0],k[s.d]),v=Eh(T[1]||"0",n),e=k[s.p]-u[s.p]-d+w+i-v,o&&Th(o,v,s,n-v<20||o._isStart&&v>20),n-=n-v}if(m&&(l[m]=e||-.001,e<0&&(e=0)),a){var A=e+n,I=a._isStart;b="scroll"+s.d2,Th(a,A,s,I&&A>20||!I&&(h?Math.max(pt[b],$n[b]):a.parentNode[b])<=A+1),h&&(u=ki(o),h&&(a.style[s.op.p]=u[s.op.p]-s.op.m-a._offset+pr))}return f&&E&&(b=ki(E),f.seek(p),y=ki(E),f._caScrollDist=b[s.p]-y[s.p],e=e/f._caScrollDist*p),f&&f.seek(g),f?e:Math.round(e)},n3=/(webkit|moz|length|cssText|inset)/i,h1=function(e,r,n,s){if(e.parentNode!==r){var i=e.style,a,o;if(r===pt){e._stOrig=i.cssText,o=as(e);for(a in o)!+a&&!n3.test(a)&&o[a]&&typeof i[a]=="string"&&a!=="0"&&(i[a]=o[a]);i.top=n,i.left=s}else i.cssText=e._stOrig;me.core.getCache(e).uncache=1,r.appendChild(e)}},XT=function(e,r,n){var s=r,i=s;return function(a){var o=Math.round(e());return o!==s&&o!==i&&Math.abs(o-s)>3&&Math.abs(o-i)>3&&(a=o,n&&n()),i=s,s=Math.round(a),s}},Kd=function(e,r,n){var s={};s[r.p]="+="+n,me.set(e,s)},f1=function(e,r){var n=Sa(e,r),s="_scroll"+r.p2,i=function a(o,l,u,d,h){var p=a.tween,f=l.onComplete,m={};u=u||n();var g=XT(n,u,function(){p.kill(),a.tween=0});return h=d&&h||0,d=d||o-u,p&&p.kill(),l[s]=o,l.inherit=!1,l.modifiers=m,m[s]=function(){return g(u+d*p.ratio+h*p.ratio*p.ratio)},l.onUpdate=function(){Je.cache++,a.tween&&Ai()},l.onComplete=function(){a.tween=0,f&&f.call(p)},p=a.tween=me.to(e,l),p};return e[s]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},wr(e,"wheel",n.wheelHandler),nt.isTouch&&wr(e,"touchmove",n.wheelHandler),i},nt=function(){function t(r,n){cl||t.register(me)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),s0(this),this.init(r,n)}var e=t.prototype;return e.init=function(n,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Gc){this.update=this.refresh=this.kill=Ks;return}n=a1(Hn(n)||Jc(n)||n.nodeType?{trigger:n}:n,Wd);var i=n,a=i.onUpdate,o=i.toggleClass,l=i.id,u=i.onToggle,d=i.onRefresh,h=i.scrub,p=i.trigger,f=i.pin,m=i.pinSpacing,g=i.invalidateOnRefresh,b=i.anticipatePin,y=i.onScrubComplete,E=i.onSnapComplete,T=i.once,k=i.snap,w=i.pinReparent,v=i.pinSpacer,N=i.containerAnimation,A=i.fastScrollEnd,I=i.preventOverlaps,S=n.horizontal||n.containerAnimation&&n.horizontal!==!1?mn:mr,U=!h&&h!==0,M=kn(n.scroller||Ke),$=me.core.getCache(M),Y=Co(M),G=("pinType"in n?n.pinType:xa(M,"pinType")||Y&&"fixed")==="fixed",J=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],Z=U&&n.toggleActions.split(" "),ee="markers"in n?n.markers:Wd.markers,je=Y?0:parseFloat(as(M)["border"+S.p2+Gl])||0,_=this,Ie=n.onRefreshInit&&function(){return n.onRefreshInit(_)},Oe=YI(M,Y,S),P=GI(M,Y),Ne=0,ot=0,We=0,Se=Sa(M,S),ht,ct,jt,_t,Ot,Ze,Et,rr,gr,z,zr,an,R,F,q,ce,oe,X,L,W,le,ye,Fe,Tt,ft,xr,dr,wn,Lt,Rr,nr,et,La,vs,ws,_s,Fa,Go,di;if(_._startClamp=_._endClamp=!1,_._dir=S,b*=45,_.scroller=M,_.scroll=N?N.time.bind(N):Se,_t=Se(),_.vars=n,s=s||n.animation,"refreshPriority"in n&&(MT=1,n.refreshPriority===-9999&&(xu=_)),$.tweenScroll=$.tweenScroll||{top:f1(M,mr),left:f1(M,mn)},_.tweenTo=ht=$.tweenScroll[S.p],_.scrubDuration=function(ue){La=Jc(ue)&&ue,La?et?et.duration(ue):et=me.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:La,paused:!0,onComplete:function(){return y&&y(_)}}):(et&&et.progress(1).kill(),et=0)},s&&(s.vars.lazy=!1,s._initted&&!_.isReverted||s.vars.immediateRender!==!1&&n.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),_.animation=s.pause(),s.scrollTrigger=_,_.scrubDuration(h),Rr=0,l||(l=s.vars.id)),k&&((!Ka(k)||k.push)&&(k={snapTo:k}),"scrollBehavior"in pt.style&&me.set(Y?[pt,$n]:M,{scrollBehavior:"auto"}),Je.forEach(function(ue){return Xr(ue)&&ue.target===(Y?Nt.scrollingElement||$n:M)&&(ue.smooth=!1)}),jt=Xr(k.snapTo)?k.snapTo:k.snapTo==="labels"?JI(s):k.snapTo==="labelsDirectional"?XI(s):k.directional!==!1?function(ue,Me){return nb(k.snapTo)(ue,Kr()-ot<500?0:Me.direction)}:me.utils.snap(k.snapTo),vs=k.duration||{min:.1,max:2},vs=Ka(vs)?hu(vs.min,vs.max):hu(vs,vs),ws=me.delayedCall(k.delay||La/2||.1,function(){var ue=Se(),Me=Kr()-ot<500,Te=ht.tween;if((Me||Math.abs(_.getVelocity())<10)&&!Te&&!up&&Ne!==ue){var Le=(ue-Ze)/F,br=s&&!U?s.totalProgress():Le,st=Me?0:(br-nr)/(Kr()-Yc)*1e3||0,Gt=me.utils.clamp(-Le,1-Le,Qo(st/2)*st/.185),$r=Le+(k.inertia===!1?0:Gt),zt,It,xt=k,Es=xt.onStart,Ft=xt.onInterrupt,Ln=xt.onComplete;if(zt=jt($r,_),Jc(zt)||(zt=$r),It=Math.max(0,Math.round(Ze+zt*F)),ue<=Et&&ue>=Ze&&It!==ue){if(Te&&!Te._initted&&Te.data<=Qo(It-ue))return;k.inertia===!1&&(Gt=zt-Le),ht(It,{duration:vs(Qo(Math.max(Qo($r-br),Qo(zt-br))*.185/st/.05||0)),ease:k.ease||"power3",data:Qo(It-ue),onInterrupt:function(){return ws.restart(!0)&&Ft&&Ft(_)},onComplete:function(){_.update(),Ne=Se(),s&&!U&&(et?et.resetTo("totalProgress",zt,s._tTime/s._tDur):s.progress(zt)),Rr=nr=s&&!U?s.totalProgress():_.progress,E&&E(_),Ln&&Ln(_)}},ue,Gt*F,It-ue-Gt*F),Es&&Es(_,ht.tween)}}else _.isActive&&Ne!==ue&&ws.restart(!0)}).pause()),l&&(a0[l]=_),p=_.trigger=kn(p||f!==!0&&f),di=p&&p._gsap&&p._gsap.stRevert,di&&(di=di(_)),f=f===!0?p:kn(f),Hn(o)&&(o={targets:p,className:o}),f&&(m===!1||m===is||(m=!m&&f.parentNode&&f.parentNode.style&&as(f.parentNode).display==="flex"?!1:ar),_.pin=f,ct=me.core.getCache(f),ct.spacer?q=ct.pinState:(v&&(v=kn(v),v&&!v.nodeType&&(v=v.current||v.nativeElement),ct.spacerIsNative=!!v,v&&(ct.spacerState=Gd(v))),ct.spacer=X=v||Nt.createElement("div"),X.classList.add("pin-spacer"),l&&X.classList.add("pin-spacer-"+l),ct.pinState=q=Gd(f)),n.force3D!==!1&&me.set(f,{force3D:!0}),_.spacer=X=ct.spacer,Lt=as(f),Tt=Lt[m+S.os2],W=me.getProperty(f),le=me.quickSetter(f,S.a,pr),pm(f,X,Lt),oe=Gd(f)),ee){an=Ka(ee)?a1(ee,o1):o1,z=Yd("scroller-start",l,M,S,an,0),zr=Yd("scroller-end",l,M,S,an,0,z),L=z["offset"+S.op.d2];var Sc=kn(xa(M,"content")||M);rr=this.markerStart=Yd("start",l,Sc,S,an,L,0,N),gr=this.markerEnd=Yd("end",l,Sc,S,an,L,0,N),N&&(Go=me.quickSetter([rr,gr],S.a,pr)),!G&&!(ri.length&&xa(M,"fixedMarkers")===!0)&&(KI(Y?pt:M),me.set([z,zr],{force3D:!0}),xr=me.quickSetter(z,S.a,pr),wn=me.quickSetter(zr,S.a,pr))}if(N){var Be=N.vars.onUpdate,Ce=N.vars.onUpdateParams;N.eventCallback("onUpdate",function(){_.update(0,0,1),Be&&Be.apply(N,Ce||[])})}if(_.previous=function(){return Ge[Ge.indexOf(_)-1]},_.next=function(){return Ge[Ge.indexOf(_)+1]},_.revert=function(ue,Me){if(!Me)return _.kill(!0);var Te=ue!==!1||!_.enabled,Le=Wr;Te!==_.isReverted&&(Te&&(_s=Math.max(Se(),_.scroll.rec||0),We=_.progress,Fa=s&&s.progress()),rr&&[rr,gr,z,zr].forEach(function(br){return br.style.display=Te?"none":"block"}),Te&&(Wr=_,_.update(Te)),f&&(!w||!_.isActive)&&(Te?e3(f,X,q):pm(f,X,as(f),ft)),Te||_.update(Te),Wr=Le,_.isReverted=Te)},_.refresh=function(ue,Me,Te,Le){if(!((Wr||!_.enabled)&&!Me)){if(f&&ue&&ms){wr(t,"scrollEnd",YT);return}!hn&&Ie&&Ie(_),Wr=_,ht.tween&&!Te&&(ht.tween.kill(),ht.tween=0),et&&et.pause(),g&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(Bi){return Bi.vars.immediateRender&&Bi.render(0,!0,!0)})),_.isReverted||_.revert(!0,!0),_._subPinOffset=!1;var br=Oe(),st=P(),Gt=N?N.duration():ei(M,S),$r=F<=.01||!F,zt=0,It=Le||0,xt=Ka(Te)?Te.end:n.end,Es=n.endTrigger||p,Ft=Ka(Te)?Te.start:n.start||(n.start===0||!p?0:f?"0 0":"0 100%"),Ln=_.pinnedContainer=n.pinnedContainer&&kn(n.pinnedContainer,_),Bs=p&&Math.max(0,Ge.indexOf(_))||0,Dr=Bs,Mr,Vr,Ba,Pd,qr,hr,Us,Kp,Ey,Cc,Hs,Ac,Rd;for(ee&&Ka(Te)&&(Ac=me.getProperty(z,S.p),Rd=me.getProperty(zr,S.p));Dr-- >0;)hr=Ge[Dr],hr.end||hr.refresh(0,1)||(Wr=_),Us=hr.pin,Us&&(Us===p||Us===f||Us===Ln)&&!hr.isReverted&&(Cc||(Cc=[]),Cc.unshift(hr),hr.revert(!0,!0)),hr!==Ge[Dr]&&(Bs--,Dr--);for(Xr(Ft)&&(Ft=Ft(_)),Ft=r1(Ft,"start",_),Ze=d1(Ft,p,br,S,Se(),rr,z,_,st,je,G,Gt,N,_._startClamp&&"_startClamp")||(f?-.001:0),Xr(xt)&&(xt=xt(_)),Hn(xt)&&!xt.indexOf("+=")&&(~xt.indexOf(" ")?xt=(Hn(Ft)?Ft.split(" ")[0]:"")+xt:(zt=Eh(xt.substr(2),br),xt=Hn(Ft)?Ft:(N?me.utils.mapRange(0,N.duration(),N.scrollTrigger.start,N.scrollTrigger.end,Ze):Ze)+zt,Es=p)),xt=r1(xt,"end",_),Et=Math.max(Ze,d1(xt||(Es?"100% 0":Gt),Es,br,S,Se()+zt,gr,zr,_,st,je,G,Gt,N,_._endClamp&&"_endClamp"))||-.001,zt=0,Dr=Bs;Dr--;)hr=Ge[Dr],Us=hr.pin,Us&&hr.start-hr._pinPush<=Ze&&!N&&hr.end>0&&(Mr=hr.end-(_._startClamp?Math.max(0,hr.start):hr.start),(Us===p&&hr.start-hr._pinPush<Ze||Us===Ln)&&isNaN(Ft)&&(zt+=Mr*(1-hr.progress)),Us===f&&(It+=Mr));if(Ze+=zt,Et+=zt,_._startClamp&&(_._startClamp+=zt),_._endClamp&&!hn&&(_._endClamp=Et||-.001,Et=Math.min(Et,ei(M,S))),F=Et-Ze||(Ze-=.01)&&.001,$r&&(We=me.utils.clamp(0,1,me.utils.normalize(Ze,Et,_s))),_._pinPush=It,rr&&zt&&(Mr={},Mr[S.a]="+="+zt,Ln&&(Mr[S.p]="-="+Se()),me.set([rr,gr],Mr)),f&&!(i0&&_.end>=ei(M,S)))Mr=as(f),Pd=S===mr,Ba=Se(),ye=parseFloat(W(S.a))+It,!Gt&&Et>1&&(Hs=(Y?Nt.scrollingElement||$n:M).style,Hs={style:Hs,value:Hs["overflow"+S.a.toUpperCase()]},Y&&as(pt)["overflow"+S.a.toUpperCase()]!=="scroll"&&(Hs.style["overflow"+S.a.toUpperCase()]="scroll")),pm(f,X,Mr),oe=Gd(f),Vr=ki(f,!0),Kp=G&&Sa(M,Pd?mn:mr)(),m?(ft=[m+S.os2,F+It+pr],ft.t=X,Dr=m===ar?Kh(f,S)+F+It:0,Dr&&(ft.push(S.d,Dr+pr),X.style.flexBasis!=="auto"&&(X.style.flexBasis=Dr+pr)),Il(ft),Ln&&Ge.forEach(function(Bi){Bi.pin===Ln&&Bi.vars.pinSpacing!==!1&&(Bi._subPinOffset=!0)}),G&&Se(_s)):(Dr=Kh(f,S),Dr&&X.style.flexBasis!=="auto"&&(X.style.flexBasis=Dr+pr)),G&&(qr={top:Vr.top+(Pd?Ba-Ze:Kp)+pr,left:Vr.left+(Pd?Kp:Ba-Ze)+pr,boxSizing:"border-box",position:"fixed"},qr[mo]=qr["max"+Gl]=Math.ceil(Vr.width)+pr,qr[go]=qr["max"+rb]=Math.ceil(Vr.height)+pr,qr[is]=qr[is+mu]=qr[is+fu]=qr[is+gu]=qr[is+pu]="0",qr[ar]=Mr[ar],qr[ar+mu]=Mr[ar+mu],qr[ar+fu]=Mr[ar+fu],qr[ar+gu]=Mr[ar+gu],qr[ar+pu]=Mr[ar+pu],ce=r3(q,qr,w),hn&&Se(0)),s?(Ey=s._initted,cm(1),s.render(s.duration(),!0,!0),Fe=W(S.a)-ye+F+It,dr=Math.abs(F-Fe)>1,G&&dr&&ce.splice(ce.length-2,2),s.render(0,!0,!0),Ey||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),cm(0)):Fe=F,Hs&&(Hs.value?Hs.style["overflow"+S.a.toUpperCase()]=Hs.value:Hs.style.removeProperty("overflow-"+S.a));else if(p&&Se()&&!N)for(Vr=p.parentNode;Vr&&Vr!==pt;)Vr._pinOffset&&(Ze-=Vr._pinOffset,Et-=Vr._pinOffset),Vr=Vr.parentNode;Cc&&Cc.forEach(function(Bi){return Bi.revert(!1,!0)}),_.start=Ze,_.end=Et,_t=Ot=hn?_s:Se(),!N&&!hn&&(_t<_s&&Se(_s),_.scroll.rec=0),_.revert(!1,!0),ot=Kr(),ws&&(Ne=-1,ws.restart(!0)),Wr=0,s&&U&&(s._initted||Fa)&&s.progress()!==Fa&&s.progress(Fa||0,!0).render(s.time(),!0,!0),($r||We!==_.progress||N||g||s&&!s._initted)&&(s&&!U&&(s._initted||We||s.vars.immediateRender!==!1)&&s.totalProgress(N&&Ze<-.001&&!We?me.utils.normalize(Ze,Et,0):We,!0),_.progress=$r||(_t-Ze)/F===We?0:We),f&&m&&(X._pinOffset=Math.round(_.progress*Fe)),et&&et.invalidate(),isNaN(Ac)||(Ac-=me.getProperty(z,S.p),Rd-=me.getProperty(zr,S.p),Kd(z,S,Ac),Kd(rr,S,Ac-(Le||0)),Kd(zr,S,Rd),Kd(gr,S,Rd-(Le||0))),$r&&!hn&&_.update(),d&&!hn&&!R&&(R=!0,d(_),R=!1)}},_.getVelocity=function(){return(Se()-Ot)/(Kr()-Yc)*1e3||0},_.endAnimation=function(){Dc(_.callbackAnimation),s&&(et?et.progress(1):s.paused()?U||Dc(s,_.direction<0,1):Dc(s,s.reversed()))},_.labelToScroll=function(ue){return s&&s.labels&&(Ze||_.refresh()||Ze)+s.labels[ue]/s.duration()*F||0},_.getTrailing=function(ue){var Me=Ge.indexOf(_),Te=_.direction>0?Ge.slice(0,Me).reverse():Ge.slice(Me+1);return(Hn(ue)?Te.filter(function(Le){return Le.vars.preventOverlaps===ue}):Te).filter(function(Le){return _.direction>0?Le.end<=Ze:Le.start>=Et})},_.update=function(ue,Me,Te){if(!(N&&!Te&&!ue)){var Le=hn===!0?_s:_.scroll(),br=ue?0:(Le-Ze)/F,st=br<0?0:br>1?1:br||0,Gt=_.progress,$r,zt,It,xt,Es,Ft,Ln,Bs;if(Me&&(Ot=_t,_t=N?Se():Le,k&&(nr=Rr,Rr=s&&!U?s.totalProgress():st)),b&&f&&!Wr&&!zd&&ms&&(!st&&Ze<Le+(Le-Ot)/(Kr()-Yc)*b?st=1e-4:st===1&&Et>Le+(Le-Ot)/(Kr()-Yc)*b&&(st=.9999)),st!==Gt&&_.enabled){if($r=_.isActive=!!st&&st<1,zt=!!Gt&&Gt<1,Ft=$r!==zt,Es=Ft||!!st!=!!Gt,_.direction=st>Gt?1:-1,_.progress=st,Es&&!Wr&&(It=st&&!Gt?0:st===1?1:Gt===1?2:3,U&&(xt=!Ft&&Z[It+1]!=="none"&&Z[It+1]||Z[It],Bs=s&&(xt==="complete"||xt==="reset"||xt in s))),I&&(Ft||Bs)&&(Bs||h||!s)&&(Xr(I)?I(_):_.getTrailing(I).forEach(function(Ba){return Ba.endAnimation()})),U||(et&&!Wr&&!zd?(et._dp._time-et._start!==et._time&&et.render(et._dp._time-et._start),et.resetTo?et.resetTo("totalProgress",st,s._tTime/s._tDur):(et.vars.totalProgress=st,et.invalidate().restart())):s&&s.totalProgress(st,!!(Wr&&(ot||ue)))),f){if(ue&&m&&(X.style[m+S.os2]=Tt),!G)le(Kc(ye+Fe*st));else if(Es){if(Ln=!ue&&st>Gt&&Et+1>Le&&Le+1>=ei(M,S),w)if(!ue&&($r||Ln)){var Dr=ki(f,!0),Mr=Le-Ze;h1(f,pt,Dr.top+(S===mr?Mr:0)+pr,Dr.left+(S===mr?0:Mr)+pr)}else h1(f,X);Il($r||Ln?ce:oe),dr&&st<1&&$r||le(ye+(st===1&&!Ln?Fe:0))}}k&&!ht.tween&&!Wr&&!zd&&ws.restart(!0),o&&(Ft||T&&st&&(st<1||!um))&&Yu(o.targets).forEach(function(Ba){return Ba.classList[$r||T?"add":"remove"](o.className)}),a&&!U&&!ue&&a(_),Es&&!Wr?(U&&(Bs&&(xt==="complete"?s.pause().totalProgress(1):xt==="reset"?s.restart(!0).pause():xt==="restart"?s.restart(!0):s[xt]()),a&&a(_)),(Ft||!um)&&(u&&Ft&&hm(_,u),J[It]&&hm(_,J[It]),T&&(st===1?_.kill(!1,1):J[It]=0),Ft||(It=st===1?1:3,J[It]&&hm(_,J[It]))),A&&!$r&&Math.abs(_.getVelocity())>(Jc(A)?A:2500)&&(Dc(_.callbackAnimation),et?et.progress(1):Dc(s,xt==="reverse"?1:!st,1))):U&&a&&!Wr&&a(_)}if(wn){var Vr=N?Le/N.duration()*(N._caScrollDist||0):Le;xr(Vr+(z._isFlipped?1:0)),wn(Vr)}Go&&Go(-Le/N.duration()*(N._caScrollDist||0))}},_.enable=function(ue,Me){_.enabled||(_.enabled=!0,wr(M,"resize",Xc),Y||wr(M,"scroll",Zo),Ie&&wr(t,"refreshInit",Ie),ue!==!1&&(_.progress=We=0,_t=Ot=Ne=Se()),Me!==!1&&_.refresh())},_.getTween=function(ue){return ue&&ht?ht.tween:et},_.setPositions=function(ue,Me,Te,Le){if(N){var br=N.scrollTrigger,st=N.duration(),Gt=br.end-br.start;ue=br.start+Gt*ue/st,Me=br.start+Gt*Me/st}_.refresh(!1,!1,{start:n1(ue,Te&&!!_._startClamp),end:n1(Me,Te&&!!_._endClamp)},Le),_.update()},_.adjustPinSpacing=function(ue){if(ft&&ue){var Me=ft.indexOf(S.d)+1;ft[Me]=parseFloat(ft[Me])+ue+pr,ft[1]=parseFloat(ft[1])+ue+pr,Il(ft)}},_.disable=function(ue,Me){if(_.enabled&&(ue!==!1&&_.revert(!0,!0),_.enabled=_.isActive=!1,Me||et&&et.pause(),_s=0,ct&&(ct.uncache=1),Ie&&vr(t,"refreshInit",Ie),ws&&(ws.pause(),ht.tween&&ht.tween.kill()&&(ht.tween=0)),!Y)){for(var Te=Ge.length;Te--;)if(Ge[Te].scroller===M&&Ge[Te]!==_)return;vr(M,"resize",Xc),Y||vr(M,"scroll",Zo)}},_.kill=function(ue,Me){_.disable(ue,Me),et&&!Me&&et.kill(),l&&delete a0[l];var Te=Ge.indexOf(_);Te>=0&&Ge.splice(Te,1),Te===dn&&kh>0&&dn--,Te=0,Ge.forEach(function(Le){return Le.scroller===_.scroller&&(Te=1)}),Te||hn||(_.scroll.rec=0),s&&(s.scrollTrigger=null,ue&&s.revert({kill:!1}),Me||s.kill()),rr&&[rr,gr,z,zr].forEach(function(Le){return Le.parentNode&&Le.parentNode.removeChild(Le)}),xu===_&&(xu=0),f&&(ct&&(ct.uncache=1),Te=0,Ge.forEach(function(Le){return Le.pin===f&&Te++}),Te||(ct.spacer=0)),n.onKill&&n.onKill(_)},Ge.push(_),_.enable(!1,!1),di&&di(_),s&&s.add&&!F){var dt=_.update;_.update=function(){_.update=dt,Je.cache++,Ze||Et||_.refresh()},me.delayedCall(.01,_.update),F=.01,Ze=Et=0}else _.refresh();f&&ZI()},t.register=function(n){return cl||(me=n||HT(),UT()&&window.document&&t.enable(),cl=Gc),cl},t.defaults=function(n){if(n)for(var s in n)Wd[s]=n[s];return Wd},t.disable=function(n,s){Gc=0,Ge.forEach(function(a){return a[s?"kill":"disable"](n)}),vr(Ke,"wheel",Zo),vr(Nt,"scroll",Zo),clearInterval(Hd),vr(Nt,"touchcancel",Ks),vr(pt,"touchstart",Ks),Vd(vr,Nt,"pointerdown,touchstart,mousedown",s1),Vd(vr,Nt,"pointerup,touchend,mouseup",i1),Yh.kill(),$d(vr);for(var i=0;i<Je.length;i+=3)qd(vr,Je[i],Je[i+1]),qd(vr,Je[i],Je[i+2])},t.enable=function(){if(Ke=window,Nt=document,$n=Nt.documentElement,pt=Nt.body,me&&(Yu=me.utils.toArray,hu=me.utils.clamp,s0=me.core.context||Ks,cm=me.core.suppressOverwrites||Ks,Qx=Ke.history.scrollRestoration||"auto",o0=Ke.pageYOffset||0,me.core.globals("ScrollTrigger",t),pt)){Gc=1,Ol=document.createElement("div"),Ol.style.height="100vh",Ol.style.position="absolute",JT(),WI(),Qt.register(me),t.isTouch=Qt.isTouch,qi=Qt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),n0=Qt.isTouch===1,wr(Ke,"wheel",Zo),Xx=[Ke,Nt,$n,pt],me.matchMedia?(t.matchMedia=function(u){var d=me.matchMedia(),h;for(h in u)d.add(h,u[h]);return d},me.addEventListener("matchMediaInit",function(){return sb()}),me.addEventListener("matchMediaRevert",function(){return GT()}),me.addEventListener("matchMedia",function(){to(0,1),jo("matchMedia")}),me.matchMedia().add("(orientation: portrait)",function(){return fm(),fm})):console.warn("Requires GSAP 3.11.0 or later"),fm(),wr(Nt,"scroll",Zo);var n=pt.hasAttribute("style"),s=pt.style,i=s.borderTopStyle,a=me.core.Animation.prototype,o,l;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",o=ki(pt),mr.m=Math.round(o.top+mr.sc())||0,mn.m=Math.round(o.left+mn.sc())||0,i?s.borderTopStyle=i:s.removeProperty("border-top-style"),n||(pt.setAttribute("style",""),pt.removeAttribute("style")),Hd=setInterval(l1,250),me.delayedCall(.5,function(){return zd=0}),wr(Nt,"touchcancel",Ks),wr(pt,"touchstart",Ks),Vd(wr,Nt,"pointerdown,touchstart,mousedown",s1),Vd(wr,Nt,"pointerup,touchend,mouseup",i1),r0=me.utils.checkPrefix("transform"),Nh.push(r0),cl=Kr(),Yh=me.delayedCall(.2,to).pause(),ul=[Nt,"visibilitychange",function(){var u=Ke.innerWidth,d=Ke.innerHeight;Nt.hidden?(e1=u,t1=d):(e1!==u||t1!==d)&&Xc()},Nt,"DOMContentLoaded",to,Ke,"load",to,Ke,"resize",Xc],$d(wr),Ge.forEach(function(u){return u.enable(0,1)}),l=0;l<Je.length;l+=3)qd(vr,Je[l],Je[l+1]),qd(vr,Je[l],Je[l+2])}},t.config=function(n){"limitCallbacks"in n&&(um=!!n.limitCallbacks);var s=n.syncInterval;s&&clearInterval(Hd)||(Hd=s)&&setInterval(l1,s),"ignoreMobileResize"in n&&(n0=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&($d(vr)||$d(wr,n.autoRefreshEvents||"none"),LT=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,s){var i=kn(n),a=Je.indexOf(i),o=Co(i);~a&&Je.splice(a,o?6:2),s&&(o?ri.unshift(Ke,s,pt,s,$n,s):ri.unshift(i,s))},t.clearMatchMedia=function(n){Ge.forEach(function(s){return s._ctx&&s._ctx.query===n&&s._ctx.kill(!0,!0)})},t.isInViewport=function(n,s,i){var a=(Hn(n)?kn(n):n).getBoundingClientRect(),o=a[i?mo:go]*s||0;return i?a.right-o>0&&a.left+o<Ke.innerWidth:a.bottom-o>0&&a.top+o<Ke.innerHeight},t.positionInViewport=function(n,s,i){Hn(n)&&(n=kn(n));var a=n.getBoundingClientRect(),o=a[i?mo:go],l=s==null?o/2:s in Jh?Jh[s]*o:~s.indexOf("%")?parseFloat(s)*o/100:parseFloat(s)||0;return i?(a.left+l)/Ke.innerWidth:(a.top+l)/Ke.innerHeight},t.killAll=function(n){if(Ge.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var s=Ao.killAll||[];Ao={},s.forEach(function(i){return i()})}},t}();nt.version="3.13.0";nt.saveStyles=function(t){return t?Yu(t).forEach(function(e){if(e&&e.style){var r=Un.indexOf(e);r>=0&&Un.splice(r,5),Un.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),me.core.getCache(e),s0())}}):Un};nt.revert=function(t,e){return sb(!t,e)};nt.create=function(t,e){return new nt(t,e)};nt.refresh=function(t){return t?Xc(!0):(cl||nt.register())&&to(!0)};nt.update=function(t){return++Je.cache&&Ai(t===!0?2:0)};nt.clearScrollMemory=KT;nt.maxScroll=function(t,e){return ei(t,e?mn:mr)};nt.getScrollFunc=function(t,e){return Sa(kn(t),e?mn:mr)};nt.getById=function(t){return a0[t]};nt.getAll=function(){return Ge.filter(function(t){return t.vars.id!=="ScrollSmoother"})};nt.isScrolling=function(){return!!ms};nt.snapDirectional=nb;nt.addEventListener=function(t,e){var r=Ao[t]||(Ao[t]=[]);~r.indexOf(e)||r.push(e)};nt.removeEventListener=function(t,e){var r=Ao[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};nt.batch=function(t,e){var r=[],n={},s=e.interval||.016,i=e.batchMax||1e9,a=function(u,d){var h=[],p=[],f=me.delayedCall(s,function(){d(h,p),h=[],p=[]}).pause();return function(m){h.length||f.restart(!0),h.push(m.trigger),p.push(m),i<=h.length&&f.progress(1)}},o;for(o in e)n[o]=o.substr(0,2)==="on"&&Xr(e[o])&&o!=="onRefreshInit"?a(o,e[o]):e[o];return Xr(i)&&(i=i(),wr(nt,"refresh",function(){return i=e.batchMax()})),Yu(t).forEach(function(l){var u={};for(o in n)u[o]=n[o];u.trigger=l,r.push(nt.create(u))}),r};var p1=function(e,r,n,s){return r>s?e(s):r<0&&e(0),n>s?(s-r)/(n-r):n<0?r/(r-n):1},mm=function t(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Qt.isTouch?" pinch-zoom":""):"none",e===$n&&t(pt,r)},Jd={auto:1,scroll:1},s3=function(e){var r=e.event,n=e.target,s=e.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,a=i._gsap||me.core.getCache(i),o=Kr(),l;if(!a._isScrollT||o-a._isScrollT>2e3){for(;i&&i!==pt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Jd[(l=as(i)).overflowY]||Jd[l.overflowX]));)i=i.parentNode;a._isScroll=i&&i!==n&&!Co(i)&&(Jd[(l=as(i)).overflowY]||Jd[l.overflowX]),a._isScrollT=o}(a._isScroll||s==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},QT=function(e,r,n,s){return Qt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:s=s&&s3,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return n&&wr(Nt,Qt.eventTypes[0],g1,!1,!0)},onDisable:function(){return vr(Nt,Qt.eventTypes[0],g1,!0)}})},i3=/(input|label|select|textarea)/i,m1,g1=function(e){var r=i3.test(e.target.tagName);(r||m1)&&(e._gsapAllow=!0,m1=r)},a3=function(e){Ka(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,s=r.momentum,i=r.allowNestedScroll,a=r.onRelease,o,l,u=kn(e.target)||$n,d=me.core.globals().ScrollSmoother,h=d&&d.get(),p=qi&&(e.content&&kn(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),f=Sa(u,mr),m=Sa(u,mn),g=1,b=(Qt.isTouch&&Ke.visualViewport?Ke.visualViewport.scale*Ke.visualViewport.width:Ke.outerWidth)/Ke.innerWidth,y=0,E=Xr(s)?function(){return s(o)}:function(){return s||2.8},T,k,w=QT(u,e.type,!0,i),v=function(){return k=!1},N=Ks,A=Ks,I=function(){l=ei(u,mr),A=hu(qi?1:0,l),n&&(N=hu(0,ei(u,mn))),T=xo},S=function(){p._gsap.y=Kc(parseFloat(p._gsap.y)+f.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},U=function(){if(k){requestAnimationFrame(v);var ee=Kc(o.deltaY/2),je=A(f.v-ee);if(p&&je!==f.v+f.offset){f.offset=je-f.v;var _=Kc((parseFloat(p&&p._gsap.y)||0)-f.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+_+", 0, 1)",p._gsap.y=_+"px",f.cacheID=Je.cache,Ai()}return!0}f.offset&&S(),k=!0},M,$,Y,G,J=function(){I(),M.isActive()&&M.vars.scrollY>l&&(f()>l?M.progress(1)&&f(l):M.resetTo("scrollY",l))};return p&&me.set(p,{y:"+=0"}),e.ignoreCheck=function(Z){return qi&&Z.type==="touchmove"&&U()||g>1.05&&Z.type!=="touchstart"||o.isGesturing||Z.touches&&Z.touches.length>1},e.onPress=function(){k=!1;var Z=g;g=Kc((Ke.visualViewport&&Ke.visualViewport.scale||1)/b),M.pause(),Z!==g&&mm(u,g>1.01?!0:n?!1:"x"),$=m(),Y=f(),I(),T=xo},e.onRelease=e.onGestureStart=function(Z,ee){if(f.offset&&S(),!ee)G.restart(!0);else{Je.cache++;var je=E(),_,Ie;n&&(_=m(),Ie=_+je*.05*-Z.velocityX/.227,je*=p1(m,_,Ie,ei(u,mn)),M.vars.scrollX=N(Ie)),_=f(),Ie=_+je*.05*-Z.velocityY/.227,je*=p1(f,_,Ie,ei(u,mr)),M.vars.scrollY=A(Ie),M.invalidate().duration(je).play(.01),(qi&&M.vars.scrollY>=l||_>=l-1)&&me.to({},{onUpdate:J,duration:je})}a&&a(Z)},e.onWheel=function(){M._ts&&M.pause(),Kr()-y>1e3&&(T=0,y=Kr())},e.onChange=function(Z,ee,je,_,Ie){if(xo!==T&&I(),ee&&n&&m(N(_[2]===ee?$+(Z.startX-Z.x):m()+ee-_[1])),je){f.offset&&S();var Oe=Ie[2]===je,P=Oe?Y+Z.startY-Z.y:f()+je-Ie[1],Ne=A(P);Oe&&P!==Ne&&(Y+=Ne-P),f(Ne)}(je||ee)&&Ai()},e.onEnable=function(){mm(u,n?!1:"x"),nt.addEventListener("refresh",J),wr(Ke,"resize",J),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=m.smooth=!1),w.enable()},e.onDisable=function(){mm(u,!0),vr(Ke,"resize",J),nt.removeEventListener("refresh",J),w.kill()},e.lockAxis=e.lockAxis!==!1,o=new Qt(e),o.iOS=qi,qi&&!f()&&f(1),qi&&me.ticker.add(Ks),G=o._dc,M=me.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:XT(f,f(),function(){return M.pause()})},onUpdate:Ai,onComplete:G.vars.onComplete}),o};nt.sort=function(t){if(Xr(t))return Ge.sort(t);var e=Ke.pageYOffset||0;return nt.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+Ke.innerHeight}),Ge.sort(t||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};nt.observe=function(t){return new Qt(t)};nt.normalizeScroll=function(t){if(typeof t>"u")return cn;if(t===!0&&cn)return cn.enable();if(t===!1){cn&&cn.kill(),cn=t;return}var e=t instanceof Qt?t:a3(t);return cn&&cn.target===e.target&&cn.kill(),Co(e.target)&&(cn=e),e};nt.core={_getVelocityProp:t0,_inputObserver:QT,_scrollers:Je,_proxies:ri,bridge:{ss:function(){ms||jo("scrollStart"),ms=Kr()},ref:function(){return Wr}}};HT()&&me.registerPlugin(nt);$s.registerPlugin(nt);const li=()=>({ref:D.useRef(null),fadeInUp:(o,l=0)=>{$s.fromTo(o,{opacity:0,y:50},{opacity:1,y:0,duration:.8,delay:l,ease:"power2.out"})},fadeInLeft:(o,l=0)=>{$s.fromTo(o,{opacity:0,x:-50},{opacity:1,x:0,duration:.8,delay:l,ease:"power2.out"})},fadeInRight:(o,l=0)=>{$s.fromTo(o,{opacity:0,x:50},{opacity:1,x:0,duration:.8,delay:l,ease:"power2.out"})},staggerFadeIn:(o,l=.1)=>{$s.fromTo(o,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:l,ease:"power2.out"})},scrollReveal:(o,l)=>{const u=window.innerWidth<=768;$s.fromTo(o,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:l||o,start:u?"top 95%":"top 90%",end:"bottom 10%",toggleActions:"play none none reverse",markers:!1,onEnter:()=>{$s.set(o,{visibility:"visible"})}}})},scrollRevealMobile:(o,l)=>{$s.fromTo(o,{opacity:0,y:30},{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:l||o,start:"top 98%",end:"bottom 5%",toggleActions:"play none none reverse",onEnter:()=>{$s.set(o,{visibility:"visible"})}}})}}),o3="modulepreload",l3=function(t){return"/"+t},x1={},yd=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=l3(l),l in x1)return;x1[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":o3,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},c3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yd(async()=>{const{default:n}=await Promise.resolve().then(()=>xc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ib extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class u3 extends ib{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class b1 extends ib{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y1 extends ib{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var c0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(c0||(c0={}));var d3=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class h3{constructor(e,{headers:r={},customFetch:n,region:s=c0.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=c3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return d3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(g=>{throw new u3(g)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new b1(h);if(!h.ok)throw new y1(h);let f=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield h.json():f==="application/octet-stream"?m=yield h.blob():f==="text/event-stream"?m=h:f==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof y1||s instanceof b1?s.context:void 0}}})}}var Nn={},ab={},dp={},vd={},hp={},fp={},f3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kl=f3();const p3=Kl.fetch,ZT=Kl.fetch.bind(Kl),ek=Kl.Headers,m3=Kl.Request,g3=Kl.Response,xc=Object.freeze(Object.defineProperty({__proto__:null,Headers:ek,Request:m3,Response:g3,default:ZT,fetch:p3},Symbol.toStringTag,{value:"Module"})),x3=RA(xc);var pp={};Object.defineProperty(pp,"__esModule",{value:!0});let b3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};pp.default=b3;var tk=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fp,"__esModule",{value:!0});const y3=tk(x3),v3=tk(pp);let w3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=y3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,d=null,h=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,p=200,f="OK")}catch{i.status===404&&g===""?(p=204,f="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,f="OK"),u&&this.shouldThrowOnError)throw new v3.default(u)}return{error:u,data:d,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};fp.default=w3;var _3=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hp,"__esModule",{value:!0});const E3=_3(fp);let T3=class extends E3.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hp.default=T3;var k3=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vd,"__esModule",{value:!0});const N3=k3(hp);let S3=class extends N3.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};vd.default=S3;var C3=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dp,"__esModule",{value:!0});const Mc=C3(vd);let A3=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Mc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Mc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Mc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Mc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dp.default=A3;var mp={},gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.version=void 0;gp.version="0.0.0-automated";Object.defineProperty(mp,"__esModule",{value:!0});mp.DEFAULT_HEADERS=void 0;const j3=gp;mp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${j3.version}`};var rk=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ab,"__esModule",{value:!0});const O3=rk(dp),I3=rk(vd),P3=mp;let R3=class nk{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},P3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new O3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nk(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new I3.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ab.default=R3;var bc=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.PostgrestError=Nn.PostgrestBuilder=Nn.PostgrestTransformBuilder=Nn.PostgrestFilterBuilder=Nn.PostgrestQueryBuilder=Nn.PostgrestClient=void 0;const sk=bc(ab);Nn.PostgrestClient=sk.default;const ik=bc(dp);Nn.PostgrestQueryBuilder=ik.default;const ak=bc(vd);Nn.PostgrestFilterBuilder=ak.default;const ok=bc(hp);Nn.PostgrestTransformBuilder=ok.default;const lk=bc(fp);Nn.PostgrestBuilder=lk.default;const ck=bc(pp);Nn.PostgrestError=ck.default;var D3=Nn.default={PostgrestClient:sk.default,PostgrestQueryBuilder:ik.default,PostgrestFilterBuilder:ak.default,PostgrestTransformBuilder:ok.default,PostgrestBuilder:lk.default,PostgrestError:ck.default};const{PostgrestClient:M3,PostgrestQueryBuilder:ZY,PostgrestFilterBuilder:eG,PostgrestTransformBuilder:tG,PostgrestBuilder:rG,PostgrestError:nG}=D3;function L3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const F3=L3(),B3="2.11.15",U3=`realtime-js/${B3}`,H3="1.0.0",uk=1e4,z3=1e3;var bu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bu||(bu={}));var Yr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yr||(Yr={}));var Ns;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ns||(Ns={}));var u0;(function(t){t.websocket="websocket"})(u0||(u0={}));var Xa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xa||(Xa={}));class $3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class dk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const v1=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=V3(a,t,e,s),i),{})},V3=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?hk(i,a):d0(a)},hk=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return G3(e,r)}switch(t){case kt.bool:return q3(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return W3(e);case kt.json:case kt.jsonb:return Y3(e);case kt.timestamp:return K3(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return d0(e);default:return d0(e)}},d0=t=>t,q3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},W3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Y3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},G3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>hk(e,o))}return t},K3=t=>typeof t=="string"?t.replace(" ","T"):t,fk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gm{constructor(e,r,n={},s=uk){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var w1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(w1||(w1={}));class yu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=yu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yu.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),m=d.filter(b=>f.indexOf(b.presence_ref)<0),g=h.filter(b=>p.indexOf(b.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_1||(_1={}));var E1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E1||(E1={}));var wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wi||(wi={}));class ob{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,Ns.join,this.params,this.timeout),this.rejoinTimer=new dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ns.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yu(this),this.broadcastEndpointURL=fk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Yr.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(wi.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(wi.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(wi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<f;g++){const b=p[g],{filter:{event:y,schema:E,table:T,filter:k}}=b,w=d&&d[g];if(w&&w.event===y&&w.schema===E&&w.table===T&&w.filter===k)m.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),this.state=Yr.errored,e==null||e(wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(wi.SUBSCRIBED);return}}).receive("error",d=>{this.state=Yr.errored,e==null||e(wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ns.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new gm(this,Ns.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gm(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Ns;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,g,b;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=f.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var m,g,b,y,E,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const k=f.id,w=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((g=r.ids)===null||g===void 0?void 0:g.includes(k))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(E=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return k==="*"||k===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:g,table:b,commit_timestamp:y,type:E,errors:T}=m;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(m))}f.callback(p,n)})}_isClosed(){return this.state===Yr.closed}_isJoined(){return this.state===Yr.joined}_isJoining(){return this.state===Yr.joining}_isLeaving(){return this.state===Yr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ob.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ns.close,{},e)}_onError(e){this._on(Ns.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=v1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=v1(e.columns,e.old_record)),r}}const T1=()=>{},J3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X3{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T1,this.ref=0,this.logger=T1,this.conn=null,this.sendBuffer=[],this.serializer=new $3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>yd(async()=>{const{default:l}=await Promise.resolve().then(()=>xc);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${u0.websocket}`,this.httpEndpoint=fk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=F3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H3}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bu.connecting:return Xa.Connecting;case bu.open:return Xa.Open;case bu.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ob(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:U3};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ns.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(z3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ns.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([J3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _r(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Q3 extends lb{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class h0 extends lb{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Z3=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const pk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yd(async()=>{const{default:n}=await Promise.resolve().then(()=>xc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},e4=()=>Z3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yd(()=>Promise.resolve().then(()=>xc),void 0)).Response:Response}),f0=t=>{if(Array.isArray(t))return t.map(r=>f0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=f0(n)}),e},t4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var zo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const xm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r4=(t,e,r)=>zo(void 0,void 0,void 0,function*(){const n=yield e4();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new Q3(xm(s),i,a))}).catch(s=>{e(new h0(xm(s),s))}):e(new h0(xm(t),t))}),n4=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(t4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function wd(t,e,r,n,s,i){return zo(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,n4(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>r4(l,o,n))})})}function Xh(t,e,r,n){return zo(this,void 0,void 0,function*(){return wd(t,"GET",e,r,n)})}function _i(t,e,r,n,s){return zo(this,void 0,void 0,function*(){return wd(t,"POST",e,n,s,r)})}function p0(t,e,r,n,s){return zo(this,void 0,void 0,function*(){return wd(t,"PUT",e,n,s,r)})}function s4(t,e,r,n){return zo(this,void 0,void 0,function*(){return wd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mk(t,e,r,n,s){return zo(this,void 0,void 0,function*(){return wd(t,"DELETE",e,n,s,r)})}var _n=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const i4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a4{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=pk(s)}uploadOrUpdate(e,r,n,s){return _n(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},k1),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?p0:_i)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}upload(e,r,n){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return _n(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:k1.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield p0(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(_r(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return _n(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield _i(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new lb("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}update(e,r,n){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _n(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}copy(e,r,n){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield _i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return _n(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield _i(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return _n(this,void 0,void 0,function*(){try{const s=yield _i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}download(e,r){return _n(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Xh(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(_r(o))return{data:null,error:o};throw o}})}info(e){return _n(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:f0(n),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}exists(e){return _n(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield s4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_r(n)&&n instanceof h0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return _n(this,void 0,void 0,function*(){try{return{data:yield mk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}list(e,r,n){return _n(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},i4),r),{prefix:e||""});return{data:yield _i(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const o4="2.10.4",l4={"X-Client-Info":`storage-js/${o4}`};var el=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class c4{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},l4),r),this.fetch=pk(n)}listBuckets(){return el(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_r(e))return{data:null,error:e};throw e}})}getBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return el(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return el(this,void 0,void 0,function*(){try{return{data:yield p0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}emptyBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}deleteBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield mk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}}class u4 extends c4{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new a4(this.url,this.headers,e,this.fetch)}}const d4="2.53.0";let Qc="";typeof Deno<"u"?Qc="deno":typeof document<"u"?Qc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qc="react-native":Qc="node";const h4={"X-Client-Info":`supabase-js-${Qc}/${d4}`},f4={headers:h4},p4={schema:"public"},m4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g4={};var x4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const b4=t=>{let e;return t?e=t:typeof fetch>"u"?e=ZT:e=fetch,(...r)=>e(...r)},y4=()=>typeof Headers>"u"?ek:Headers,v4=(t,e,r)=>{const n=b4(r),s=y4();return(i,a)=>x4(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var w4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function _4(t){return t.endsWith("/")?t:t+"/"}function E4(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>w4(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const gk="2.71.1",dl=30*1e3,m0=3,bm=m0*dl,T4="http://localhost:9999",k4="supabase.auth.token",N4={"X-Client-Info":`gotrue-js/${gk}`},g0="X-Supabase-Api-Version",xk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C4=10*60*1e3;class cb extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class A4 extends cb{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j4(t){return He(t)&&t.name==="AuthApiError"}class bk extends cb{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Pa extends cb{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Wi extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O4(t){return He(t)&&t.name==="AuthSessionMissingError"}class Xd extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qd extends Pa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zd extends Pa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I4(t){return He(t)&&t.name==="AuthImplicitGrantRedirectError"}class N1 extends Pa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x0 extends Pa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ym(t){return He(t)&&t.name==="AuthRetryableFetchError"}class S1 extends Pa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class b0 extends Pa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C1=` 	
\r=`.split(""),P4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<C1.length;e+=1)t[C1[e].charCodeAt(0)]=-2;for(let e=0;e<Qh.length;e+=1)t[Qh[e].charCodeAt(0)]=e;return t})();function A1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qh[n]),e.queuedBits-=6}}function yk(t,e,r){const n=P4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function j1(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{M4(a,n,r)};for(let a=0;a<t.length;a+=1)yk(t.charCodeAt(a),s,i);return e.join("")}function R4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}R4(n,e)}}function M4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function L4(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)yk(t.charCodeAt(s),r,n);return new Uint8Array(e)}function F4(t){const e=[];return D4(t,r=>e.push(r)),new Uint8Array(e)}function B4(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>A1(s,r,n)),A1(null,r,n),e.join("")}function U4(t){return Math.round(Date.now()/1e3)+t}function H4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ks=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},vk=()=>{if(!ks())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function z4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const wk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yd(async()=>{const{default:n}=await Promise.resolve().then(()=>xc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Va=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hi=async(t,e)=>{await t.removeItem(e)};class xp{constructor(){this.promise=new xp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}xp.promiseConstructor=Promise;function vm(t){const e=t.split(".");if(e.length!==3)throw new b0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!S4.test(e[n]))throw new b0("JWT not in base64url format");return{header:JSON.parse(j1(e[0])),payload:JSON.parse(j1(e[1])),signature:L4(e[2]),raw:{header:e[0],payload:e[1]}}}async function V4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q4(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function W4(t){return("0"+t.toString(16)).substr(-2)}function Y4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,W4).join("")}async function G4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function K4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await G4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tl(t,e,r=!1){const n=Y4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hl(t,`${e}-code-verifier`,s);const i=await K4(n);return[i,n===i?"plain":"s256"]}const J4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X4(t){const e=t.headers.get(g0);if(!e||!e.match(J4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Q4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Z4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(t){if(!eP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function O1(t){return JSON.parse(JSON.stringify(t))}var tP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ja=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rP=[502,503,504];async function I1(t){var e;if(!$4(t))throw new x0(Ja(t),0);if(rP.includes(t.status))throw new x0(Ja(t),t.status);let r;try{r=await t.json()}catch(i){throw new bk(Ja(i),i)}let n;const s=X4(t);if(s&&s.getTime()>=xk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new S1(Ja(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Wi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new S1(Ja(r),t.status,r.weak_password.reasons);throw new A4(Ja(r),t.status||500,n)}const nP=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function tt(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[g0]||(i[g0]=xk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await sP(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sP(t,e,r,n,s,i){const a=nP(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new x0(Ja(l),0)}if(o.ok||await I1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await I1(l)}}function bi(t){var e;let r=null;lP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=U4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function P1(t){const e=bi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iP(t){return{data:t,error:null}}function aP(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=tP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function oP(t){return t}function lP(t){return t.access_token&&t.refresh_token&&t.expires_in}const _m=["global","local","others"];var cP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class uP{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=wk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=_m[0]){if(_m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_m.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ea})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=cP(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:aP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ea})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:oP});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){rl(e);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ea})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rl(e);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ea})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){rl(e);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ea})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){rl(e.userId);try{const{data:r,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rl(e.userId),rl(e.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}function R1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function dP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nl={debug:!!(globalThis&&vk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _k extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hP extends _k{}async function fP(t,e,r){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dP();const pP={url:T4,storageKey:k4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D1(t,e,r){return await r()}const sl={};class Ku{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ku.nextInstanceID,Ku.nextInstanceID+=1,this.instanceID>0&&ks()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pP),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new uP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wk(s.fetch),this.lock=s.lock||D1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ks()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fP:this.lock=D1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:vk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R1(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=R1(this.memoryStorage)),ks()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=sl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=sl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=z4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ks()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),I4(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?{error:r}:{error:new bk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bi}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await tl(this.storage,this.storageKey)),i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:m},xform:bi})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:bi})}else throw new Qd("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P1})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P1})}else throw new Qd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,o,l,u,d,h,p,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:b,wallet:y,statement:E,options:T}=e;let k;if(ks())if(typeof y=="object")k=y;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))k=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const w=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const v=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),E?{statement:E}:null));let N;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")N=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)N=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)m=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(d=T==null?void 0:T.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const v=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=v}}try{const{data:b,error:y}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:B4(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bi});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Xd}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(He(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Va(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:bi});if(await Hi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bi}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await tl(this.storage,this.storageKey));const{error:h}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qd("You must provide either an email or phone number.")}catch(o){if(He(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await tl(this.storage,this.storageKey)),await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:iP})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Wi;const{error:s}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(He(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Qd("You must provide either an email or phone number and a type")}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Va(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=wm()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ea}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wi}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ea})})}catch(r){if(He(r))return O4(r)&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Wi;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await tl(this.storage,this.storageKey));const{data:u,error:d}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ea});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wi;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=vm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(He(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Wi;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ks())throw new Zd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new N1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N1("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new Zd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=dl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=p-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(j4(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=H4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await tl(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ks()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await q4(async s=>(s>0&&await V4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bi})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ym(i)&&Date.now()+a-n<dl})}catch(n){if(this._debug(r,"error",n),He(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ks()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Va(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await hl(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:wm()}else if(s&&!s.user&&!s.user){const a=await Va(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Hi(this.storage,this.storageKey+"-user"),await hl(this.storage,this.storageKey,s)):s.user=wm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${bm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ym(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Wi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),He(i)){const a={session:null,error:i};return ym(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=O1(s);await hl(this.storage,this.storageKey,i)}else{const s=O1(r);await hl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Hi(this.storage,this.storageKey),await Hi(this.storage,this.storageKey+"-code-verifier"),await Hi(this.storage,this.storageKey+"-user"),this.userStorage&&await Hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ks()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/dl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dl}ms, refresh threshold is ${m0} ticks`),s<=m0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _k)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ks()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await tl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await tt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vm(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+C4>s)return n;const{data:i,error:a}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=vm(n);r!=null&&r.allowExpired||Q4(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=Z4(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,F4(`${o}.${l}`)))throw new b0("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}Ku.nextInstanceID=0;const mP=Ku;class gP extends mP{constructor(e){super(e)}}var xP=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class bP{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=_4(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:p4,realtime:g4,auth:Object.assign(Object.assign({},m4),{storageKey:u}),global:f4},h=E4(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=v4(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new M3(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new u4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new h3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return xP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gP({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new X3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yP=(t,e,r)=>new bP(t,e,r);function vP(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vP()&&console.warn("â ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wP="https://jpbfnfyyyfvvudbhafzq.supabase.co",_P="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpwYmZuZnl5eWZ2dnVkYmhhZnpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDIyNjgsImV4cCI6MjA2OTgxODI2OH0.SzY6bbWRoeLm1_pJee4TJ_ilsvqORGgmlphWMDavqPU";console.log("Environment check:",{hasSupabaseUrl:!0,hasSupabaseKey:!0,isDev:!1,isProd:!0});const qe=yP(wP,_P),Ek=async()=>{const{data:t,error:e}=await qe.from("appointments").select("*").order("date",{ascending:!0});if(e)throw e;return t},Tk=async t=>{const{data:e,error:r}=await qe.from("appointments").insert(t).select().single();if(r)throw r;return e},kk=async(t,e)=>{const{data:r,error:n}=await qe.from("appointments").update(e).eq("id",t).select().single();if(n)throw n;return r},Nk=async t=>{const{error:e}=await qe.from("appointments").delete().eq("id",t);if(e)throw e},Sk=async t=>{const{data:e,error:r}=await qe.from("contact_messages").insert(t).select().single();if(r)throw r;return e},EP=async()=>{const{data:t,error:e}=await qe.from("contact_messages").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},TP=!0,we={hero:{name:"Victory Johnson",title:"Full-Stack Software Engineer",description:"Crafting exceptional digital experiences with 4+ years of expertise in full-stack development, no-code solutions, and modern web technologies.",email:"victory@example.com",github:"https://github.com/victoryjohnson",linkedin:"https://linkedin.com/in/victoryjohnson",phone:"+1 (555) 123-4567",location:"San Francisco, CA"},about:{summary:"I'm a passionate full-stack software engineer with over 4 years of experience building scalable web applications and innovative digital solutions.",experience:"4+",projects:"50+",clients:"25+",technologies:"20+"},experiences:[{id:"1",company:"TechCorp Solutions",position:"Senior Full-Stack Developer",duration:"2022 - Present",location:"San Francisco, CA",description:"Leading development of scalable web applications serving 100K+ users.",responsibilities:["Architected and developed microservices using Node.js and Python","Led a team of 5 developers in agile development practices","Implemented CI/CD pipelines reducing deployment time by 60%"],technologies:["React","Node.js","PostgreSQL","AWS","Docker","TypeScript"],logo:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=100"}],education:[{id:"1",degree:"Bachelor of Science in Computer Science",university:"University of California, Berkeley",duration:"2018 - 2022",location:"Berkeley, CA",gpa:"3.8/4.0",description:"Focused on software engineering, algorithms, and data structures.",achievements:["Dean's List (2018-2022)","Computer Science Honor Society","Research Assistant in AI Lab","Graduated with Distinction"],logo:"https://images.pexels.com/photos/267885/pexels-photo-267885.jpeg?auto=compress&cs=tinysrgb&w=100"}],projects:[{id:"1",slug:"ecommerce-platform",title:"E-Commerce Platform",description:"Full-stack e-commerce solution with payment integration, inventory management, and admin dashboard.",content:"This project represents a comprehensive e-commerce solution built from the ground up.",category:"fullstack",tags:["e-commerce","web application","payment processing"],tech:["React","Node.js","PostgreSQL","Stripe","Docker","TypeScript"],github:"https://github.com/victoryjohnson/ecommerce-platform",live:"https://ecommerce-demo.victoryjohnson.com",featured:!0,image:"https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=500",screenshots:[],role:"Lead Full-Stack Developer",contributions:["Architected the entire application structure and database schema","Implemented secure authentication and authorization system","Developed responsive frontend with modern React patterns"],analytics:{linesOfCode:25e3,uptime:"99.9%",users:1500,performance:"95/100"}},{id:"2",slug:"task-management-app",title:"Task Management App",description:"Collaborative project management tool with real-time updates, team collaboration, and analytics.",content:"A modern task management application that helps teams organize, track, and complete projects efficiently.",category:"frontend",tags:["web application","task management","collaboration"],tech:["Next.js","TypeScript","Tailwind CSS","Supabase","Zustand","Framer Motion"],github:"https://github.com/victoryjohnson/task-manager",live:"https://taskmanager-demo.example.com",featured:!0,image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=500",screenshots:[],role:"Frontend Lead Developer",contributions:["Led frontend development team of 3 developers","Implemented real-time features using WebSockets","Built responsive UI with Next.js and Tailwind CSS"],analytics:{linesOfCode:18e3,uptime:"99.8%",users:800,performance:"92/100"}},{id:"3",slug:"api-gateway-service",title:"API Gateway Service",description:"Microservices API gateway with authentication, rate limiting, and monitoring capabilities.",content:"A robust API gateway service to handle microservices communication, authentication, and monitoring.",category:"backend",tags:["api","microservices","gateway"],tech:["Python","FastAPI","Docker","Redis","PostgreSQL","Prometheus","Grafana"],github:"https://github.com/victoryjohnson/api-gateway",live:void 0,featured:!1,image:"https://images.pexels.com/photos/1181677/pexels-photo-1181677.jpeg?auto=compress&cs=tinysrgb&w=500",screenshots:[],role:"Backend Developer",contributions:["Designed microservices architecture","Implemented JWT-based authentication","Built rate limiting and throttling mechanisms"],analytics:{linesOfCode:12e3,uptime:"99.9%",users:2e3,performance:"98/100"}}],blogPosts:[{id:"1",slug:"building-scalable-react-applications-typescript",title:"Building Scalable React Applications with TypeScript",summary:"Learn best practices for structuring large React applications with TypeScript, including advanced patterns and performance optimizations.",content:`# Building Scalable React Applications with TypeScript

When building large-scale React applications, proper architecture and TypeScript integration become crucial for maintainability and developer experience.`,tags:["React","TypeScript","Architecture"],coverImage:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=500",featured:!0,published:!0,readTime:"8 min read",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"2",slug:"microservices-architecture-lessons-learned",title:"Microservices Architecture: Lessons Learned",summary:"Real-world insights from implementing microservices at scale, including common pitfalls and solutions.",content:`# Microservices Architecture: Lessons Learned

After implementing microservices at scale, I've learned valuable lessons about architecture, deployment, and team coordination.`,tags:["Microservices","Architecture","Backend"],coverImage:"https://images.pexels.com/photos/1181677/pexels-photo-1181677.jpeg?auto=compress&cs=tinysrgb&w=500",featured:!1,published:!0,readTime:"12 min read",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-10T00:00:00Z"},{id:"3",slug:"future-web-development-trends-2024",title:"The Future of Web Development: Trends to Watch",summary:"Exploring emerging technologies and trends that will shape the future of web development in 2024 and beyond.",content:`# The Future of Web Development: Trends to Watch

As we move into 2024, several emerging technologies and trends are shaping the future of web development.`,tags:["Web Development","Trends","Future"],coverImage:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=500",featured:!0,published:!0,readTime:"6 min read",createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-05T00:00:00Z"}],profileImage:{image:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=500",alt:"Victory Johnson"},resume:{file_url:"/Software Engineer - Victory Johnson.pdf",file_name:"Victory Johnson - Software Engineer Resume.pdf",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-01-15T00:00:00Z"},skills:[{id:"1",name:"React",category:"frontend",level:95,order_index:1},{id:"2",name:"TypeScript",category:"frontend",level:90,order_index:2},{id:"3",name:"Next.js",category:"frontend",level:88,order_index:3},{id:"4",name:"Tailwind CSS",category:"frontend",level:92,order_index:4},{id:"5",name:"Node.js",category:"backend",level:85,order_index:5},{id:"6",name:"Python",category:"backend",level:80,order_index:6},{id:"7",name:"Express.js",category:"backend",level:82,order_index:7},{id:"8",name:"FastAPI",category:"backend",level:75,order_index:8},{id:"9",name:"PostgreSQL",category:"database",level:85,order_index:9},{id:"10",name:"MongoDB",category:"database",level:80,order_index:10},{id:"11",name:"Supabase",category:"database",level:88,order_index:11},{id:"12",name:"Firebase",category:"database",level:82,order_index:12},{id:"13",name:"Docker",category:"tools",level:78,order_index:13},{id:"14",name:"AWS",category:"tools",level:75,order_index:14},{id:"15",name:"Git",category:"tools",level:90,order_index:15},{id:"16",name:"Figma",category:"tools",level:85,order_index:16}]},Oo={async get(){try{const{data:t,error:e}=await qe.from("hero").select("*").order("created_at",{ascending:!1}).limit(1).single();if(e)throw e;return t||we.hero}catch{return console.warn("Using mock hero data"),we.hero}},async update(t){try{const{error:e}=await qe.from("hero").upsert(t);if(e)throw e;H.success("Hero section updated successfully!")}catch{console.warn("Hero update failed, using mock storage"),Object.assign(we.hero,t),H.success("Hero section updated successfully!")}}},Jl={async get(){try{const{data:t,error:e}=await qe.from("about").select("*").order("created_at",{ascending:!1}).limit(1).single();if(e)throw e;return t||we.about}catch{return console.warn("Using mock about data"),we.about}},async update(t){try{const{error:e}=await qe.from("about").upsert(t);if(e)throw e;H.success("About section updated successfully!")}catch{console.warn("About update failed, using mock storage"),Object.assign(we.about,t),H.success("About section updated successfully!")}}},Pi={async getAll(){try{const{data:t,error:e}=await qe.from("work_experience").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||we.experiences}catch{return console.warn("Using mock experience data"),we.experiences}},async create(t){try{const{error:e}=await qe.from("work_experience").insert(t);if(e)throw e;H.success("Experience added successfully!")}catch{console.warn("Experience creation failed, using mock storage");const r=(we.experiences.length+1).toString();we.experiences.unshift({...t,id:r,logo:t.logo||""}),H.success("Experience added successfully!")}},async update(t,e){try{const{error:r}=await qe.from("work_experience").update(e).eq("id",t);if(r)throw r;H.success("Experience updated successfully!")}catch{console.warn("Experience update failed, using mock storage");const n=we.experiences.findIndex(s=>s.id===t);n!==-1&&(we.experiences[n]={...e,id:t}),H.success("Experience updated successfully!")}},async delete(t){try{const{error:e}=await qe.from("work_experience").delete().eq("id",t);if(e)throw e;H.success("Experience deleted successfully!")}catch{console.warn("Experience deletion failed, using mock storage"),we.experiences=we.experiences.filter(r=>r.id!==t),H.success("Experience deleted successfully!")}}},Ri={async getAll(){try{const{data:t,error:e}=await qe.from("education").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||we.education}catch{return console.warn("Using mock education data"),we.education}},async create(t){try{const{error:e}=await qe.from("education").insert(t);if(e)throw e;H.success("Education added successfully!")}catch{console.warn("Education creation failed, using mock storage");const r=(we.education.length+1).toString();we.education.unshift({...t,id:r}),H.success("Education added successfully!")}},async update(t,e){try{const{error:r}=await qe.from("education").update(e).eq("id",t);if(r)throw r;H.success("Education updated successfully!")}catch{console.warn("Education update failed, using mock storage");const n=we.education.findIndex(s=>s.id===t);n!==-1&&(we.education[n]={...e,id:t}),H.success("Education updated successfully!")}},async delete(t){try{const{error:e}=await qe.from("education").delete().eq("id",t);if(e)throw e;H.success("Education deleted successfully!")}catch{console.warn("Education deletion failed, using mock storage"),we.education=we.education.filter(r=>r.id!==t),H.success("Education deleted successfully!")}}},Rs={async getAll(){try{const{data:t,error:e}=await qe.from("projects").select("*").order("created_at",{ascending:!1});if(e)throw e;const r=(t||[]).map(s=>({...s,tags:s.tags||[],tech:s.tech||[],contributions:s.contributions||[],screenshots:s.screenshots||[],category:s.category||"fullstack"}));return r.length>0?r:we.projects}catch{return console.warn("Using mock project data"),console.log("ProjectService.getAll() - Mock data:",we.projects),we.projects}},async getBySlug(t){try{const{data:e,error:r}=await qe.from("projects").select("*").eq("slug",t).single();if(r)throw r;return e}catch{return console.warn("Project not found in database, checking mock data"),we.projects.find(n=>n.slug===t)||null}},async create(t){try{const{error:e}=await qe.from("projects").insert(t);if(e)throw e;H.success("Project added successfully!")}catch{console.warn("Project creation failed, using mock storage");const r=(we.projects.length+1).toString();we.projects.unshift({...t,id:r,github:t.github||"",live:t.live||"",image:t.image||"",screenshots:t.screenshots||[],analytics:t.analytics||{linesOfCode:0,uptime:"",users:0,performance:""}}),H.success("Project added successfully!")}},async update(t,e){try{const{error:r}=await qe.from("projects").update(e).eq("id",t);if(r)throw r;H.success("Project updated successfully!")}catch{console.warn("Project update failed, using mock storage");const n=we.projects.findIndex(s=>s.id===t);n!==-1&&(we.projects[n]={...e,id:t}),H.success("Project updated successfully!")}},async delete(t){try{const{error:e}=await qe.from("projects").delete().eq("id",t);if(e)throw e;H.success("Project deleted successfully!")}catch{console.warn("Project deletion failed, using mock storage"),we.projects=we.projects.filter(r=>r.id!==t),H.success("Project deleted successfully!")}}},Ds={async getAll(){try{let t=3,e;for(;t>0;)try{const{data:r,error:n}=await qe.from("blog_posts").select("*").order("created_at",{ascending:!1});if(n)throw n;const s=(r||[]).map(i=>({id:i.id,title:i.title,slug:i.slug,summary:i.summary,content:i.content,tags:i.tags||[],coverImage:i.cover_image,featured:i.featured,published:i.published,readTime:i.read_time,createdAt:i.created_at,updatedAt:i.updated_at}));return s.length>0?s:we.blogPosts}catch(r){e=r,t--,t>0&&(console.log(`Retrying... ${t} attempts left`),await new Promise(n=>setTimeout(n,1e3)))}throw e}catch(t){return console.warn("Using mock blog data due to error:",t),we.blogPosts}},async create(t){var e;try{console.log("BlogService.create called with data:",t);const r={title:t.title,slug:t.slug,summary:t.summary,content:t.content,tags:t.tags,cover_image:t.coverImage,published:t.published,featured:t.featured,read_time:t.readTime};console.log("Transformed data for Supabase:",r);const{data:n,error:s}=await qe.from("blog_posts").insert(r).select();if(console.log("Supabase response:",{result:n,error:s}),s)throw console.error("Supabase error:",s),(e=s.message)!=null&&e.includes("row-level security policy")&&!TP&&(console.warn("Authentication required for blog post creation. Using mock storage."),H.error("Authentication required. Using local storage for now.")),s;console.log("Blog post created successfully:",n),H.success("Blog post added successfully!")}catch(r){console.error("Blog creation failed:",r),console.warn("Blog creation failed, using mock storage");const n=(we.blogPosts.length+1).toString(),s={...t,id:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};we.blogPosts.unshift(s),H.success("Blog post added to local storage!")}},async update(t,e){try{const r={title:e.title,slug:e.slug,summary:e.summary,content:e.content,tags:e.tags,cover_image:e.coverImage,published:e.published,featured:e.featured,read_time:e.readTime},{error:n}=await qe.from("blog_posts").update(r).eq("id",t);if(n)throw n;H.success("Blog post updated successfully!")}catch{console.warn("Blog update failed, using mock storage");const n=we.blogPosts.findIndex(s=>s.id===t);n!==-1&&(we.blogPosts[n]={...e,id:t}),H.success("Blog post updated successfully!")}},async delete(t){try{const{error:e}=await qe.from("blog_posts").delete().eq("id",t);if(e)throw e;H.success("Blog post deleted successfully!")}catch{console.warn("Blog deletion failed, using mock storage"),we.blogPosts=we.blogPosts.filter(r=>r.id!==t),H.success("Blog post deleted successfully!")}}},Io={async get(){try{const{data:t,error:e}=await qe.from("profile_image").select("*").single();if(e)throw e;return t||we.profileImage}catch{return console.warn("Using mock profile image data"),we.profileImage}},async update(t){try{const{error:e}=await qe.from("profile_image").upsert(t);if(e)throw e;H.success("Profile image updated successfully!")}catch{console.warn("Profile image update failed, using mock storage"),Object.assign(we.profileImage,t),H.success("Profile image updated successfully!")}}},Ju={async get(){try{const{data:t,error:e}=await qe.from("resume").select("*").single();if(e)throw e;return t||we.resume}catch{return console.warn("Using mock resume data"),we.resume}},async update(t){try{const{error:e}=await qe.from("resume").upsert(t);if(e)throw e;H.success("Resume updated successfully!")}catch{console.warn("Resume update failed, using mock storage"),Object.assign(we.resume,t),H.success("Resume updated successfully!")}}},Xu={async getAll(){try{const{data:t,error:e}=await qe.from("skills").select("*").order("order_index",{ascending:!0});if(e)throw e;return t||we.skills}catch{return console.warn("Using mock skills data"),we.skills}},async create(t){try{const{error:e}=await qe.from("skills").insert(t);if(e)throw e;H.success("Skill added successfully!")}catch{console.warn("Skill creation failed, using mock storage");const r=(we.skills.length+1).toString();we.skills.push({...t,id:r,order_index:t.order_index||we.skills.length+1}),H.success("Skill added successfully!")}},async update(t,e){try{console.log("Updating skill with ID:",t,"Data:",e);const{error:r}=await qe.from("skills").update(e).eq("id",t);if(r)throw console.error("Supabase error:",r),r;console.log("Skill updated successfully in database"),H.success("Skill updated successfully!")}catch(r){console.error("Skill update failed:",r),console.warn("Skill update failed, using mock storage");const n=we.skills.findIndex(s=>s.id===t);n!==-1&&(we.skills[n]={...e,id:t},console.log("Updated skill in mock data:",we.skills[n])),H.success("Skill updated successfully!")}},async delete(t){try{const{error:e}=await qe.from("skills").delete().eq("id",t);if(e)throw e;H.success("Skill deleted successfully!")}catch{console.warn("Skill deletion failed, using mock storage"),we.skills=we.skills.filter(r=>r.id!==t),H.success("Skill deleted successfully!")}}},Ch={async getAll(){try{return await EP()||[]}catch{return console.warn("Using mock contact messages data"),[]}},async create(t){try{await Sk(t),H.success("Message sent successfully!")}catch(e){throw console.error("Contact message creation failed:",e),e}},async updateStatus(t,e){try{const{error:r}=await qe.from("contact_messages").update({status:e}).eq("id",t);if(r)throw r;H.success("Message status updated successfully!")}catch(r){console.error("Failed to update message status:",r),H.error("Failed to update message status")}},async delete(t){try{const{error:e}=await qe.from("contact_messages").delete().eq("id",t);if(e)throw e;H.success("Message deleted successfully!")}catch(e){console.error("Failed to delete message:",e),H.error("Failed to delete message")}}},kP={async getAll(){try{return await Ek()||[]}catch{return console.warn("Using mock appointments data"),[]}},async create(t){try{await Tk(t),H.success("Appointment booked successfully!")}catch(e){throw console.error("Appointment creation failed:",e),e}},async update(t,e){try{await kk(t,e),H.success("Appointment updated successfully!")}catch(r){console.error("Failed to update appointment:",r),H.error("Failed to update appointment")}},async delete(t){try{await Nk(t),H.success("Appointment deleted successfully!")}catch(e){console.error("Failed to delete appointment:",e),H.error("Failed to delete appointment")}}},NP=()=>{const{fadeInUp:t,fadeInLeft:e,staggerFadeIn:r}=li(),[n,s]=D.useState(null),[i,a]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const d=await Oo.get();s(d)}catch(d){console.error("Failed to fetch hero data:",d)}finally{a(!1)}})()},[]),D.useEffect(()=>{if(!i&&n){const d=window.innerWidth<=768?.1:.2;t(".hero-title",d),t(".hero-subtitle",d+.2),t(".hero-description",d+.4),r(".hero-button",.1),e(".hero-social",d+.6)}},[i,n]);const o=()=>{const u=document.querySelector("#projects");u&&u.scrollIntoView({behavior:"smooth"})},l=()=>{const u=document.createElement("a");u.href="/Software Engineer - Victory Johnson.pdf",u.download="Victory Johnson - Software Engineer Resume.pdf",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return i?c.jsx("section",{className:"min-h-screen flex items-center justify-center relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):c.jsxs("section",{className:"min-h-screen flex items-center justify-center relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[c.jsx("div",{className:"absolute inset-0 opacity-20",children:c.jsx("div",{className:"w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMzNzQxNTEiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxIi8+PC9nPjwvZz48L3N2Zz4=')]"})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"hero-title text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-4 sm:mb-6 opacity-0 leading-tight",children:(n==null?void 0:n.name)||"Victory Johnson"}),c.jsx("h2",{className:"hero-subtitle text-lg sm:text-xl md:text-2xl text-blue-400 font-medium mb-6 sm:mb-8 opacity-0",children:(n==null?void 0:n.title)||"Full-Stack Software Engineer"}),c.jsx("p",{className:"hero-description text-base sm:text-lg md:text-xl text-gray-300 mb-8 sm:mb-12 max-w-3xl mx-auto leading-relaxed opacity-0 px-4 sm:px-0",children:(n==null?void 0:n.description)||"Crafting exceptional digital experiences with 4+ years of expertise in full-stack development, no-code solutions, and modern web technologies. Passionate about building scalable applications that make a difference."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-12 sm:mb-16 px-4 sm:px-0",children:[c.jsxs(K,{size:"lg",className:"hero-button opacity-0 w-full sm:w-auto",onClick:o,children:[c.jsx("span",{className:"hidden sm:inline",children:"View Projects"}),c.jsx("span",{className:"sm:hidden",children:"Projects"}),c.jsx(Ty,{className:"w-5 h-5 ml-2"})]}),c.jsxs(K,{variant:"outline",size:"lg",className:"hero-button opacity-0 w-full sm:w-auto",onClick:l,children:[c.jsx(Bl,{className:"w-5 h-5 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Download Resume"}),c.jsx("span",{className:"sm:hidden",children:"Resume"})]}),c.jsxs(K,{variant:"secondary",size:"lg",className:"hero-button opacity-0 w-full sm:w-auto",onClick:()=>{const u=document.querySelector("#contact");u&&u.scrollIntoView({behavior:"smooth"})},children:[c.jsx(Or,{className:"w-5 h-5 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Book Appointment"}),c.jsx("span",{className:"sm:hidden",children:"Book"})]})]}),c.jsxs("div",{className:"hero-social flex justify-center space-x-4 sm:space-x-6 opacity-0",children:[(n==null?void 0:n.github)&&c.jsx("a",{href:n.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-200 p-2",children:c.jsx(fc,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(n==null?void 0:n.linkedin)&&c.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-200 p-2",children:c.jsx(W_,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(n==null?void 0:n.email)&&c.jsx("a",{href:`mailto:${n.email}`,className:"text-gray-400 hover:text-white transition-colors duration-200 p-2",children:c.jsx(As,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),c.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:c.jsx(Ty,{className:"w-6 h-6 text-gray-400"})})]})},SP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState(null),[s,i]=D.useState(null),[a,o]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const[d,h]=await Promise.all([Jl.get(),Io.get()]);n(d),i(h)}catch(d){console.error("Failed to fetch about data:",d)}finally{o(!1)}})()},[]),D.useEffect(()=>{if(!a){const d=window.innerWidth<=768?e:t;d(".about-content"),d(".about-image"),d(".about-stats")}},[a]);const l=[{icon:Fu,label:"Years Experience",value:(r==null?void 0:r.experience)||"4+"},{icon:Y_,label:"Projects Completed",value:(r==null?void 0:r.projects)||"50+"},{icon:FA,label:"Happy Clients",value:(r==null?void 0:r.clients)||"25+"},{icon:kx,label:"Technologies",value:(r==null?void 0:r.technologies)||"20+"}];return a?c.jsx("section",{id:"about",className:"py-20 bg-gray-800",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading about section..."})]})})}):c.jsx("section",{id:"about",className:"py-12 sm:py-16 lg:py-20 bg-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[c.jsxs("div",{className:"about-content opacity-0 order-2 lg:order-1",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4 sm:mb-6",children:"About Me"}),c.jsx("div",{className:"space-y-4 text-gray-300 text-base sm:text-lg leading-relaxed",children:c.jsx("p",{children:(r==null?void 0:r.summary)||"I'm a passionate full-stack software engineer with over 4 years of experience building scalable web applications and innovative digital solutions. My journey began with a curiosity for how things work, which evolved into a deep love for creating technology that solves real-world problems."})})]}),c.jsx("div",{className:"about-image opacity-0 order-1 lg:order-2",children:c.jsxs("div",{className:"relative max-w-sm mx-auto lg:max-w-none",children:[c.jsx("div",{className:"aspect-square rounded-2xl bg-gradient-to-br from-blue-600 to-purple-600 p-1",children:s!=null&&s.image?c.jsx("img",{src:s.image,alt:s.alt||"Victory Johnson",className:"w-full h-full object-cover rounded-2xl"}):c.jsx("div",{className:"w-full h-full bg-gray-700 rounded-2xl flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gray-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:c.jsx("span",{className:"text-2xl sm:text-4xl",children:"ð¤"})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Profile Image"})]})})}),c.jsx("div",{className:"absolute -top-2 -right-2 sm:-top-4 sm:-right-4 w-12 h-12 sm:w-20 sm:h-20 bg-blue-600 rounded-full opacity-20 animate-pulse"}),c.jsx("div",{className:"absolute -bottom-2 -left-2 sm:-bottom-4 sm:-left-4 w-10 h-10 sm:w-16 sm:h-16 bg-purple-600 rounded-full opacity-20 animate-pulse delay-1000"})]})})]}),c.jsx("div",{className:"about-stats mt-12 sm:mt-16 opacity-0",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:l.map((u,d)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 rounded-lg mb-3 sm:mb-4",children:c.jsx(u.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),c.jsx("div",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:u.value}),c.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:u.label})]},d))})})]})})},CP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState("all"),[s,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{const m=window.innerWidth<=768?e:t;m(".skills-header"),m(".skills-filters"),m(".skills-grid")},[]),D.useEffect(()=>{!a&&s.length>0&&document.querySelectorAll(".skill-card").forEach((m,g)=>{m.style.opacity="0",m.style.transform="translateY(20px)",setTimeout(()=>{m.style.transition="all 0.6s ease-out",m.style.opacity="1",m.style.transform="translateY(0)"},g*100)})},[r,a,s.length]);const l=async()=>{try{const f=await Xu.getAll();console.log("Loaded skills:",f),i(f)}catch(f){console.error("Skills component: Failed to load skills:",f)}finally{o(!1)}};D.useEffect(()=>{l()},[]),D.useEffect(()=>{const f=()=>{document.hidden||l()};return document.addEventListener("visibilitychange",f),()=>document.removeEventListener("visibilitychange",f)},[]);const u=[{id:1,name:"React",level:90,category:"frontend"},{id:2,name:"TypeScript",level:85,category:"frontend"},{id:3,name:"Node.js",level:88,category:"backend"},{id:4,name:"PostgreSQL",level:82,category:"database"},{id:5,name:"Docker",level:75,category:"tools"},{id:6,name:"AWS",level:80,category:"tools"}],d={all:"All Skills",frontend:"Frontend",backend:"Backend",database:"Database",tools:"Tools & DevOps",design:"Design",other:"Other"},h=s.length>0?s:u,p=r==="all"?h:h.filter(f=>f.category===r);return c.jsx("section",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[c.jsxs("div",{className:"skills-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Skills & Technologies"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"A comprehensive toolkit built through years of hands-on experience and continuous learning"})]}),c.jsx("div",{className:"skills-filters flex flex-wrap justify-center gap-2 sm:gap-4 mb-8 sm:mb-12 opacity-0 px-4 sm:px-0",children:Object.entries(d).map(([f,m])=>c.jsx("button",{onClick:()=>n(f),className:`px-3 sm:px-6 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 ${r===f?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:m},f))}),c.jsx("div",{className:"skills-grid opacity-0",children:a?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):p.length===0?c.jsx("div",{className:"text-center py-12 text-gray-400",children:c.jsx("p",{children:"No skills available for this category."})}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map((f,m)=>c.jsxs("div",{className:"skill-card bg-gray-800 rounded-lg p-4 sm:p-6 hover:bg-gray-750 transition-colors duration-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-white font-medium text-sm sm:text-base",children:f.name}),c.jsxs("span",{className:"text-blue-400 text-xs sm:text-sm font-medium",children:[f.level,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${f.level}%`}})})]},f.id||f.name))})})]})})})},AP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState("all"),[s,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const f=await Rs.getAll();i(f)}catch(f){console.error("Failed to fetch projects:",f)}finally{o(!1)}})()},[]),D.useEffect(()=>{if(!a){const f=window.innerWidth<=768?e:t;f(".projects-header"),f(".projects-filters"),f(".projects-grid")}},[a]);const l=[{id:1,slug:"ecommerce-platform",title:"E-Commerce Platform",description:"Full-stack e-commerce solution with payment integration, inventory management, and admin dashboard.",image:"https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["React","Node.js","PostgreSQL","Stripe"],category:"fullstack",github:"https://github.com",live:"https://example.com",featured:!0},{id:2,slug:"task-management-app",title:"Task Management App",description:"Collaborative project management tool with real-time updates, team collaboration, and analytics.",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["Next.js","TypeScript","Supabase","Tailwind"],category:"frontend",github:"https://github.com",live:"https://example.com",featured:!0},{id:3,slug:"api-gateway-service",title:"API Gateway Service",description:"Microservices API gateway with authentication, rate limiting, and monitoring capabilities.",image:"https://images.pexels.com/photos/1181677/pexels-photo-1181677.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["Python","FastAPI","Docker","Redis"],category:"backend",github:"https://github.com",featured:!1},{id:4,slug:"mobile-banking-app",title:"Mobile Banking App",description:"Secure mobile banking application with biometric authentication and real-time transactions.",image:"https://images.pexels.com/photos/4386431/pexels-photo-4386431.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["React Native","Node.js","MongoDB","AWS"],category:"mobile",github:"https://github.com",live:"https://example.com",featured:!0},{id:5,slug:"analytics-dashboard",title:"Analytics Dashboard",description:"Real-time analytics dashboard with interactive charts, data visualization, and reporting.",image:"https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["Vue.js","D3.js","Python","PostgreSQL"],category:"frontend",github:"https://github.com",live:"https://example.com",featured:!1},{id:6,slug:"iot-monitoring-system",title:"IoT Monitoring System",description:"IoT device monitoring system with real-time data collection and alert management.",image:"https://images.pexels.com/photos/2599244/pexels-photo-2599244.jpeg?auto=compress&cs=tinysrgb&w=500",tech:["Python","MQTT","InfluxDB","Grafana"],category:"backend",github:"https://github.com",featured:!1}],u=[{key:"all",label:"All Projects"},{key:"fullstack",label:"Full Stack"},{key:"frontend",label:"Frontend"},{key:"backend",label:"Backend"},{key:"mobile",label:"Mobile"}],d=s.length>0?s:l,h=r==="all"?d:d.filter(p=>p.category===r);return a?c.jsx("section",{id:"projects",className:"py-20 bg-gray-800",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading projects section..."})]})})}):c.jsx("section",{id:"projects",className:"py-12 sm:py-16 lg:py-20 bg-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"projects-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Featured Projects"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"A showcase of my recent work, demonstrating expertise across different technologies and domains"})]}),c.jsx("div",{className:"projects-filters flex flex-wrap justify-center gap-2 sm:gap-4 mb-8 sm:mb-12 opacity-0 px-4 sm:px-0",children:u.map(p=>c.jsxs("button",{onClick:()=>n(p.key),className:`flex items-center px-3 sm:px-6 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 ${r===p.key?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:[c.jsx(Nx,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),p.label]},p.key))}),c.jsx("div",{className:"projects-grid opacity-0",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:h.map(p=>c.jsxs("div",{className:"block bg-gray-900 rounded-xl overflow-hidden hover:transform hover:scale-105 transition-all duration-300 group cursor-pointer",onClick:()=>window.location.href=`/projects/${p.slug}`,children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("img",{src:p.image,alt:p.title,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),p.featured&&c.jsx("div",{className:"absolute top-3 left-3 sm:top-4 sm:left-4 bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-medium",children:"Featured"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"})]}),c.jsxs("div",{className:"p-4 sm:p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2 group-hover:text-blue-400 transition-colors duration-200",children:p.title}),c.jsx("p",{className:"text-gray-300 mb-4 text-sm leading-relaxed",children:p.description}),c.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-4",children:p.tech&&Array.isArray(p.tech)&&p.tech.length>0&&p.tech.map(f=>c.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:f},f))}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",onClick:f=>f.stopPropagation(),children:[p.github&&c.jsx("a",{href:p.github,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:c.jsxs(K,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(fc,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Code"}),c.jsx("span",{className:"sm:hidden",children:"GitHub"})]})}),p.live&&c.jsx("a",{href:p.live,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:c.jsxs(K,{size:"sm",className:"w-full sm:w-auto",children:[c.jsx(md,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Live Demo"}),c.jsx("span",{className:"sm:hidden",children:"Demo"})]})}),c.jsx(Nr,{to:`/projects/${p.slug}`,className:"flex-1",children:c.jsxs(K,{variant:"outline",size:"sm",className:"flex items-center w-full sm:w-auto",children:[c.jsx(G_,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Details"}),c.jsx("span",{className:"sm:hidden",children:"View"})]})})]})]})]},p.id))})}),c.jsx("div",{className:"text-center mt-8 sm:mt-12",children:c.jsx(Nr,{to:"/projects",children:c.jsx(K,{variant:"outline",size:"lg",children:"View All Projects"})})})]})})},jP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState([]),[s,i]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const u=await Pi.getAll();n(u)}catch(u){console.error("Failed to fetch experiences:",u)}finally{i(!1)}})()},[]),D.useEffect(()=>{if(!s){const u=window.innerWidth<=768?e:t;u(".experience-header"),u(".experience-timeline")}},[s]);const a=[{id:1,company:"TechCorp Solutions",position:"Senior Full-Stack Developer",duration:"2022 - Present",location:"San Francisco, CA",description:"Leading development of scalable web applications serving 100K+ users. Architected microservices infrastructure and mentored junior developers.",responsibilities:["Architected and developed microservices using Node.js and Python","Led a team of 5 developers in agile development practices","Implemented CI/CD pipelines reducing deployment time by 60%","Optimized database queries improving application performance by 40%"],technologies:["React","Node.js","PostgreSQL","AWS","Docker","TypeScript"],logo:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:2,company:"StartupXYZ",position:"Full-Stack Developer",duration:"2021 - 2022",location:"Remote",description:"Built the core platform from scratch, handling both frontend and backend development. Worked directly with founders to define product requirements.",responsibilities:["Developed MVP from concept to launch in 6 months","Built responsive web application using React and Next.js","Designed and implemented RESTful APIs with Express.js","Integrated third-party services including Stripe and SendGrid"],technologies:["Next.js","Express.js","MongoDB","Stripe","Vercel"],logo:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:3,company:"Digital Agency Pro",position:"Frontend Developer",duration:"2020 - 2021",location:"New York, NY",description:"Specialized in creating high-performance, responsive websites for enterprise clients. Collaborated with design teams to implement pixel-perfect interfaces.",responsibilities:["Developed 20+ responsive websites using modern frameworks","Collaborated with UX/UI designers to implement design systems","Optimized websites for performance achieving 95+ Lighthouse scores","Maintained and updated legacy codebases"],technologies:["React","Vue.js","Sass","Webpack","Figma"],logo:"https://images.pexels.com/photos/3184360/pexels-photo-3184360.jpeg?auto=compress&cs=tinysrgb&w=100"}];if(s)return c.jsx("section",{id:"experience",className:"py-20 bg-gray-900",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading experience section..."})]})})});const o=r.length>0?r:a;return c.jsx("section",{id:"experience",className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[c.jsxs("div",{className:"experience-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Work Experience"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"My professional journey building impactful solutions across different industries and company sizes"})]}),c.jsx("div",{className:"experience-timeline opacity-0",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-px top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-600 to-purple-600"}),o.map((l,u)=>c.jsxs("div",{className:"relative mb-12 sm:mb-16 last:mb-0",children:[c.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-blue-600 rounded-full border-4 border-gray-900 z-10"}),c.jsx("div",{className:`md:w-1/2 ${u%2===0?"md:pr-8 lg:pr-12":"md:ml-auto md:pl-8 lg:pl-12"}`,children:c.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 sm:p-6 hover:bg-gray-750 transition-colors duration-200",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[c.jsx("img",{src:l.logo,alt:l.company,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg object-cover flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white truncate",children:l.position}),c.jsx("p",{className:"text-blue-400 font-medium text-sm sm:text-base truncate",children:l.company})]})]}),c.jsx(md,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 hover:text-white cursor-pointer transition-colors duration-200 flex-shrink-0 ml-2"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 mb-4 text-xs sm:text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l.duration]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(gd,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l.location]})]}),c.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed text-sm sm:text-base",children:l.description}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-white font-medium mb-2 text-sm sm:text-base",children:"Key Responsibilities:"}),c.jsx("ul",{className:"space-y-1",children:l.responsibilities.map((d,h)=>c.jsxs("li",{className:"text-gray-300 text-xs sm:text-sm flex items-start",children:[c.jsx("span",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-blue-400 rounded-full mt-1.5 sm:mt-2 mr-2 sm:mr-3 flex-shrink-0"}),d]},h))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium mb-2 text-sm sm:text-base",children:"Technologies Used:"}),c.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:l.technologies.map(d=>c.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-xs",children:d},d))})]})]})})]},l.id))]})})]})})})},OP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState([]),[s,i]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const u=await Ri.getAll();n(u)}catch(u){console.error("Failed to fetch education:",u)}finally{i(!1)}})()},[]),D.useEffect(()=>{if(!s){const u=window.innerWidth<=768?e:t;u(".education-header"),u(".education-grid")}},[s]);const a=[{id:1,degree:"Bachelor of Science in Computer Science",university:"University of California, Berkeley",duration:"2018 - 2022",location:"Berkeley, CA",gpa:"3.8/4.0",description:"Focused on software engineering, algorithms, and data structures. Completed capstone project on machine learning applications.",achievements:["Dean's List (2018-2022)","Computer Science Honor Society","Research Assistant in AI Lab","Graduated with Distinction"],logo:"https://images.pexels.com/photos/267885/pexels-photo-267885.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:2,degree:"Full-Stack Web Development",university:"Coding Bootcamp",duration:"2020",location:"San Francisco, CA",gpa:"N/A",description:"Intensive 12-week program covering modern web development technologies and best practices.",achievements:["Top 10% of cohort","Built 5 full-stack projects","Mentored junior developers","Received Excellence Award"],logo:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=100"}];if(s)return c.jsx("section",{id:"education",className:"py-20 bg-gray-800",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading education section..."})]})})});const o=r.length>0?r:a;return c.jsx("section",{id:"education",className:"py-12 sm:py-16 lg:py-20 bg-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"education-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Education"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"My academic journey and continuous learning path that shaped my technical foundation"})]}),c.jsx("div",{className:"education-grid opacity-0",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:o.map(l=>c.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 sm:p-6 hover:bg-gray-850 transition-colors duration-200",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[c.jsx("img",{src:l.logo,alt:l.university,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg object-cover flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white truncate",children:l.degree}),c.jsx("p",{className:"text-blue-400 font-medium text-sm sm:text-base truncate",children:l.university})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm flex-shrink-0 ml-2",children:[c.jsx(kx,{className:"w-3 h-3 sm:w-4 sm:h-4"}),c.jsx("span",{children:l.gpa})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 mb-4 text-xs sm:text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l.duration]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(gd,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l.location]})]}),c.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed text-sm sm:text-base",children:l.description}),c.jsxs("div",{children:[c.jsxs("h4",{className:"text-white font-medium mb-2 flex items-center text-sm sm:text-base",children:[c.jsx(sp,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Key Achievements:"]}),c.jsx("ul",{className:"space-y-1",children:l.achievements.map((u,d)=>c.jsxs("li",{className:"text-gray-300 text-xs sm:text-sm flex items-start",children:[c.jsx("span",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-blue-400 rounded-full mt-1.5 sm:mt-2 mr-2 sm:mr-3 flex-shrink-0"}),u]},d))})]})]},l.id))})})]})})},IP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState([]),[s,i]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const d=await Ds.getAll();n(d)}catch(d){console.error("Failed to fetch blog posts:",d)}finally{i(!1)}})()},[]),D.useEffect(()=>{if(!s){const d=window.innerWidth<=768?e:t;d(".blog-header"),d(".blog-grid")}},[s]);const a=[{id:1,slug:"building-scalable-react-applications-typescript",title:"Building Scalable React Applications with TypeScript",summary:"Learn best practices for structuring large React applications with TypeScript, including advanced patterns and performance optimizations.",content:"Full article content here...",tags:["React","TypeScript","Architecture"],coverImage:"https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=500",createdAt:"2024-01-15T00:00:00Z",readTime:"8 min read",featured:!0,published:!0},{id:2,slug:"microservices-architecture-lessons-learned",title:"Microservices Architecture: Lessons Learned",summary:"Real-world insights from implementing microservices at scale, including common pitfalls and solutions.",content:"Full article content here...",tags:["Microservices","Architecture","Backend"],coverImage:"https://images.pexels.com/photos/1181677/pexels-photo-1181677.jpeg?auto=compress&cs=tinysrgb&w=500",createdAt:"2024-01-10T00:00:00Z",readTime:"12 min read",featured:!1,published:!0},{id:3,slug:"future-web-development-trends-2024",title:"The Future of Web Development: Trends to Watch",summary:"Exploring emerging technologies and trends that will shape the future of web development in 2024 and beyond.",content:"Full article content here...",tags:["Web Development","Trends","Future"],coverImage:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=500",createdAt:"2024-01-05T00:00:00Z",readTime:"6 min read",featured:!0,published:!0}],o=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",l=r.length>0?r.filter(u=>u.published):a;return s?c.jsx("section",{id:"blog",className:"py-20 bg-gray-800",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading blog section..."})]})})}):c.jsx("section",{id:"blog",className:"py-12 sm:py-16 lg:py-20 bg-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"blog-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Latest Blog Posts"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"Sharing insights, tutorials, and thoughts on software development, technology trends, and best practices"})]}),c.jsx("div",{className:"blog-grid opacity-0",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:l.map(u=>c.jsx(Nr,{to:`/blog/${u.slug}`,className:"block",children:c.jsxs("article",{className:"bg-gray-900 rounded-xl overflow-hidden hover:transform hover:scale-105 transition-all duration-300 group cursor-pointer",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("img",{src:u.coverImage,alt:u.title,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),u.featured&&c.jsx("div",{className:"absolute top-3 left-3 sm:top-4 sm:left-4 bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-medium",children:"Featured"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"})]}),c.jsxs("div",{className:"p-4 sm:p-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center text-gray-400 text-xs sm:text-sm mb-3 gap-2 sm:gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),o(u.createdAt)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ea,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),u.readTime]})]}),c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 group-hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:u.title}),c.jsx("p",{className:"text-gray-300 mb-4 text-sm leading-relaxed line-clamp-3",children:u.summary}),c.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-4",children:u.tags.map(d=>c.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs",children:[c.jsx(Sx,{className:"w-3 h-3 mr-1"}),d]},d))}),c.jsxs("div",{className:"flex items-center text-blue-400 text-sm font-medium group-hover:text-blue-300 transition-colors duration-200",children:["Read More",c.jsx(G_,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})]})},u.id))})}),c.jsx("div",{className:"text-center mt-8 sm:mt-12",children:c.jsx(Nr,{to:"/blog",children:c.jsx(K,{variant:"outline",size:"lg",children:"View All Posts"})})})]})})},PP={adminEmail:"victoryjohnson@vctry4real.dev",adminName:"Victory Johnson",siteName:"Victory Johnson Portfolio",zohoEmail:"",zohoPassword:"",zohoHost:"smtp.zoho.com",zohoPort:587};class RP{constructor(e){this.config={...PP,...e}}async sendContactNotification(e){try{console.log("ð§ Attempting to send email notification..."),console.log("ð§ To:",this.config.adminEmail),console.log("ð§ Subject:",`New Contact Message from ${e.name}`),await this.sendEmail({to:this.config.adminEmail,subject:`New Contact Message from ${e.name}`,html:this.generateNotificationEmail(e)}),console.log("ð§ Email notification sent successfully via Zoho Mail!")}catch(r){console.error("Failed to send contact notification:",r)}}generateNotificationEmail(e){const r=new Date().toLocaleString();return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>New Contact Message</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: #2563eb; color: white; padding: 20px; border-radius: 8px 8px 0 0; }
          .content { background: #f8fafc; padding: 20px; border-radius: 0 0 8px 8px; }
          .message-box { background: white; padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid #2563eb; }
          .contact-info { background: #e0e7ff; padding: 15px; border-radius: 6px; margin: 15px 0; }
          .footer { text-align: center; margin-top: 20px; color: #6b7280; font-size: 14px; }
          .button { display: inline-block; background: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; margin: 10px 5px; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>ð§ New Contact Message</h1>
            <p>You have received a new message from your portfolio website</p>
          </div>
          
          <div class="content">
            <div class="contact-info">
              <h3>Contact Information</h3>
              <p><strong>Name:</strong> ${e.name}</p>
                             <p><strong>Email:</strong> ${e.email}</p>
              <p><strong>Subject:</strong> ${e.subject}</p>
              <p><strong>Received:</strong> ${r}</p>
            </div>
            
            <div class="message-box">
              <h3>Message</h3>
              <p>${e.message.replace(/\n/g,"<br>")}</p>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
              <a href="https://mail.zoho.com/zm/#compose" target="_blank" class="button">Open Zoho Mail</a>
              <a href="mailto:${e.email}?subject=${encodeURIComponent(`Re: ${e.subject}`)}&body=${encodeURIComponent(`Hi ${e.name},

Thank you for your message. I'll get back to you soon.

Best regards,
Victory Johnson`)}" class="button">Quick Reply</a>
              <a href="${window.location.origin}/admin" class="button">View in Admin Panel</a>
            </div>
            <div style="text-align: center; margin: 10px 0; font-size: 14px; color: #6b7280;">
              <p><strong>Quick Reply Info:</strong></p>
              <p>To: ${e.email}</p>
              <p>Subject: Re: ${e.subject}</p>
            </div>
          </div>
          
          <div class="footer">
            <p>This notification was sent from ${this.config.siteName}</p>
            <p>You can manage contact messages in your admin panel</p>
          </div>
        </div>
      </body>
      </html>
    `}async sendEmail({to:e,subject:r,html:n}){try{const s=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,subject:r,html:n,config:{adminName:this.config.adminName,siteName:this.config.siteName}})});if(!s.ok)throw new Error(`Failed to send email: ${s.statusText}`);const i=await s.json();if(!i.success)throw new Error(i.error||"Failed to send email")}catch(s){throw console.error("Email sending failed:",s),console.log("ð§ EMAIL SENDING FAILED - FALLBACK TO CONSOLE"),console.log("To:",e),console.log("Subject:",r),console.log("HTML Content Length:",n.length),console.log("Error:",s),s}}async testConnection(){try{return await this.sendEmail({to:this.config.adminEmail,subject:"Test Email - Zoho Configuration",html:`
          <h2>Test Email</h2>
          <p>This is a test email to verify your Zoho Mail configuration is working correctly.</p>
          <p><strong>Configuration:</strong></p>
          <ul>
            <li>Admin Email: ${this.config.adminEmail}</li>
            <li>Site Name: ${this.config.siteName}</li>
          </ul>
          <p>If you received this email, your Zoho Mail integration is working!</p>
        `}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}getZohoSetupInstructions(){return`
# Zoho Mail Setup Instructions

## 1. Create a Zoho Mail Account
- Go to https://www.zoho.com/mail/
- Sign up for a free or paid account
- Verify your email address

## 2. Enable SMTP Access
- Log into your Zoho Mail account
- Go to Settings > Mail Accounts
- Enable SMTP access for your account

## 3. Generate App Password
- Go to Settings > Security
- Enable 2-Factor Authentication (if not already enabled)
- Generate an App Password for SMTP
- Save this password securely

## 4. Configure in Admin Panel
- Go to your admin panel > Notifications tab
- Enter your Zoho email address
- Enter the app password (not your regular password)
- Test the connection

## 5. SMTP Settings
- Host: smtp.zoho.com
- Port: 587 (TLS) or 465 (SSL)
- Username: Your Zoho email address
- Password: Your app password

## 6. Test Configuration
- Use the "Test Connection" button in the admin panel
- Send a test email to verify everything works
    `}}const Zc=new RP,DP={adminEmail:"victoryjohnson@vctry4real.dev",adminName:"Victory Johnson",siteName:"Victory Johnson Portfolio"};class MP{constructor(e){this.config={...DP,...e}}async sendNewAppointmentNotification(e){try{console.log("ð Sending new appointment notification..."),await this.sendEmail({to:this.config.adminEmail,subject:`New Appointment Booking - ${e.name}`,html:this.generateNewAppointmentEmail(e)}),console.log("ð New appointment notification sent successfully!")}catch(r){console.error("Failed to send new appointment notification:",r)}}async sendAppointmentConfirmation(e){try{console.log("ð Sending appointment confirmation..."),console.log("ð To:",e.email),console.log("ð Subject:",`Appointment Confirmed - ${e.reason}`),await this.sendEmail({to:e.email,subject:`Appointment Confirmed - ${e.reason}`,html:this.generateConfirmationEmail(e)}),console.log("ð Appointment confirmation sent successfully!"),console.log("ð Email was sent to:",e.email);try{await this.sendEmail({to:this.config.adminEmail,subject:`[COPY] Appointment Confirmation Sent - ${e.name}`,html:this.generateConfirmationCopyEmail(e)}),console.log("ð Confirmation copy sent to admin")}catch(r){console.error("Failed to send confirmation copy to admin:",r)}}catch(r){throw console.error("Failed to send appointment confirmation:",r),r}}async sendAppointmentCancellation(e){try{console.log("ð Sending appointment cancellation..."),await this.sendEmail({to:e.email,subject:`Appointment Cancelled - ${e.reason}`,html:this.generateCancellationEmail(e)}),console.log("ð Appointment cancellation sent successfully!")}catch(r){throw console.error("Failed to send appointment cancellation:",r),r}}generateNewAppointmentEmail(e){const r=new Date().toLocaleString(),n=new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="light">
        <meta name="supported-color-schemes" content="light">
        <title>New Appointment Booking - ${this.config.siteName}</title>
        <style>
          body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            line-height: 1.6; 
            color: #333; 
            margin: 0; 
            padding: 0; 
            background-color: #f8fafc;
          }
          .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background-color: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          .header { 
            background: linear-gradient(135deg, #10b981 0%, #059669 100%); 
            color: white; 
            padding: 30px 20px; 
            text-align: center;
          }
          .header h1 { margin: 0; font-size: 28px; font-weight: 600; }
          .header p { margin: 10px 0 0 0; font-size: 16px; opacity: 0.9; }
          .content { 
            padding: 30px 20px; 
            background-color: #ffffff;
          }
          .contact-info { 
            background: #d1fae5; 
            padding: 20px; 
            border-radius: 8px; 
            margin: 20px 0; 
            border-left: 4px solid #10b981;
          }
          .contact-info h3 { margin: 0 0 15px 0; color: #1f2937; }
          .contact-info p { margin: 8px 0; }
          .appointment-details { 
            background: #f8fafc; 
            padding: 20px; 
            border-radius: 8px; 
            margin: 20px 0; 
            border-left: 4px solid #10b981;
          }
          .appointment-details h3 { margin: 0 0 15px 0; color: #1f2937; }
          .appointment-details p { margin: 8px 0; }
          .footer { 
            text-align: center; 
            padding: 20px; 
            background-color: #f8fafc;
            border-top: 1px solid #e5e7eb;
            color: #6b7280; 
            font-size: 14px; 
          }
          .button { 
            display: inline-block; 
            background: #10b981; 
            color: white; 
            padding: 12px 24px; 
            text-decoration: none; 
            border-radius: 6px; 
            margin: 10px 5px; 
            font-weight: 500;
            transition: background-color 0.2s;
          }
          .button:hover { background: #059669; }
          .quick-reply-info { 
            background: #f3f4f6; 
            padding: 15px; 
            border-radius: 6px; 
            margin: 20px 0; 
            text-align: center;
          }
          .quick-reply-info p { margin: 5px 0; font-size: 14px; }
          @media only screen and (max-width: 600px) {
            .container { margin: 0; }
            .header, .content, .footer { padding: 20px 15px; }
            .button { display: block; margin: 10px 0; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>ð New Appointment Booking</h1>
            <p>You have received a new appointment request</p>
          </div>
          
          <div class="content">
            <div class="contact-info">
              <h3>Client Information</h3>
              <p><strong>Name:</strong> ${e.name}</p>
              <p><strong>Email:</strong> ${e.email}</p>
              <p><strong>Consultation Type:</strong> ${e.reason}</p>
              <p><strong>Booked:</strong> ${r}</p>
            </div>
            
            <div class="appointment-details">
              <h3>Appointment Details</h3>
              <p><strong>Date:</strong> ${n}</p>
              <p><strong>Time:</strong> ${e.time}</p>
              <p><strong>Status:</strong> <span style="color: #f59e0b; font-weight: bold;">Pending Confirmation</span></p>
              ${e.message?`<p><strong>Additional Details:</strong></p><p>${e.message.replace(/\n/g,"<br>")}</p>`:""}
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
              <a href="https://mail.zoho.com/zm/#compose" target="_blank" class="button">Open Zoho Mail</a>
              <a href="mailto:${e.email}?subject=${encodeURIComponent(`Re: Appointment Confirmation - ${e.reason}`)}&body=${encodeURIComponent(`Hi ${e.name},

Thank you for booking an appointment with me!

I'm confirming your ${e.reason} consultation on ${n} at ${e.time}.

I'll send you a calendar invite shortly with the meeting details.

Looking forward to our conversation!

Best regards,
${this.config.adminName}`)}" class="button">Quick Reply</a>
              <a href="${window.location.origin}/admin" class="button">View in Admin Panel</a>
            </div>
            
            <div class="quick-reply-info">
              <p><strong>Quick Reply Info:</strong></p>
              <p>To: ${e.email}</p>
              <p>Subject: Re: Appointment Confirmation - ${e.reason}</p>
            </div>
          </div>
          
          <div class="footer">
            <p>This notification was sent from <strong>${this.config.siteName}</strong></p>
            <p>You can manage appointments in your admin panel</p>
          </div>
        </div>
      </body>
      </html>
    `}generateConfirmationEmail(e){const r=new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="light">
        <meta name="supported-color-schemes" content="light">
        <title>Appointment Confirmed - ${this.config.siteName}</title>
        <style>
          body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            line-height: 1.6; 
            color: #333; 
            margin: 0; 
            padding: 0; 
            background-color: #f8fafc;
          }
          .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background-color: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          .header { 
            background: linear-gradient(135deg, #10b981 0%, #059669 100%); 
            color: white; 
            padding: 30px 20px; 
            text-align: center;
          }
          .header h1 { margin: 0; font-size: 28px; font-weight: 600; }
          .header p { margin: 10px 0 0 0; font-size: 16px; opacity: 0.9; }
          .content { 
            padding: 30px 20px; 
            background-color: #ffffff;
          }
          .appointment-details { 
            background: #f8fafc; 
            padding: 20px; 
            border-radius: 8px; 
            margin: 20px 0; 
            border-left: 4px solid #10b981;
          }
          .appointment-details h3 { margin: 0 0 15px 0; color: #1f2937; }
          .appointment-details p { margin: 8px 0; }
          .footer { 
            text-align: center; 
            padding: 20px; 
            background-color: #f8fafc;
            border-top: 1px solid #e5e7eb;
            color: #6b7280; 
            font-size: 14px; 
          }
          .footer a { color: #10b981; text-decoration: none; }
          .footer a:hover { text-decoration: underline; }
          .unsubscribe { 
            text-align: center; 
            padding: 15px; 
            background-color: #f3f4f6;
            border-top: 1px solid #e5e7eb;
            color: #6b7280; 
            font-size: 12px; 
          }
          .unsubscribe a { color: #6b7280; text-decoration: none; }
          @media only screen and (max-width: 600px) {
            .container { margin: 0; }
            .header, .content, .footer { padding: 20px 15px; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>â Appointment Confirmed</h1>
            <p>Your consultation has been confirmed</p>
          </div>
          
          <div class="content">
            <p>Hi ${e.name},</p>
            
            <p>Great news! Your appointment has been confirmed. Here are the details:</p>
            
            <div class="appointment-details">
              <h3>Appointment Details</h3>
              <p><strong>Date:</strong> ${r}</p>
              <p><strong>Time:</strong> ${e.time}</p>
              <p><strong>Consultation Type:</strong> ${e.reason}</p>
              <p><strong>Status:</strong> <span style="color: #10b981; font-weight: bold;">Confirmed</span></p>
            </div>
            
            <p>I'll send you a calendar invite shortly with the meeting link and any additional information you might need.</p>
            
            <p>If you need to reschedule or cancel, please let me know at least 24 hours in advance.</p>
            
            <p>Looking forward to our conversation!</p>
            
            <p>Best regards,<br><strong>${this.config.adminName}</strong></p>
          </div>
          
          <div class="footer">
            <p>This email was sent from <strong>${this.config.siteName}</strong></p>
            <p>If you have any questions, please reply to this email or contact us directly.</p>
          </div>
          
          <div class="unsubscribe">
            <p>You received this email because you booked an appointment with ${this.config.siteName}. 
            <a href="mailto:${this.config.adminEmail}?subject=unsubscribe">Unsubscribe</a></p>
          </div>
        </div>
      </body>
      </html>
    `}generateConfirmationCopyEmail(e){const r=new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Appointment Confirmation Copy</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: #3b82f6; color: white; padding: 20px; border-radius: 8px 8px 0 0; }
          .content { background: #f8fafc; padding: 20px; border-radius: 0 0 8px 8px; }
          .appointment-details { background: white; padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid #3b82f6; }
          .footer { text-align: center; margin-top: 20px; color: #6b7280; font-size: 14px; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>ð Confirmation Email Copy</h1>
            <p>This is a copy of the confirmation email sent to the client</p>
          </div>
          
          <div class="content">
            <p><strong>Client:</strong> ${e.name} (${e.email})</p>
            <p><strong>Sent:</strong> ${new Date().toLocaleString()}</p>
            
            <div class="appointment-details">
              <h3>Appointment Details</h3>
              <p><strong>Date:</strong> ${r}</p>
              <p><strong>Time:</strong> ${e.time}</p>
              <p><strong>Consultation Type:</strong> ${e.reason}</p>
              <p><strong>Status:</strong> <span style="color: #10b981; font-weight: bold;">Confirmed</span></p>
            </div>
            
            <p>This confirmation email was automatically sent to the client when you confirmed their appointment.</p>
          </div>
          
          <div class="footer">
            <p>This is an automated copy from ${this.config.siteName}</p>
          </div>
        </div>
      </body>
      </html>
    `}generateCancellationEmail(e){const r=new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Appointment Cancelled</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: #ef4444; color: white; padding: 20px; border-radius: 8px 8px 0 0; }
          .content { background: #f8fafc; padding: 20px; border-radius: 0 0 8px 8px; }
          .appointment-details { background: white; padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid #ef4444; }
          .footer { text-align: center; margin-top: 20px; color: #6b7280; font-size: 14px; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>â Appointment Cancelled</h1>
            <p>Your appointment has been cancelled</p>
          </div>
          
          <div class="content">
            <p>Hi ${e.name},</p>
            
            <p>Unfortunately, I need to cancel our scheduled appointment. Here are the details of the cancelled appointment:</p>
            
            <div class="appointment-details">
              <h3>Cancelled Appointment</h3>
              <p><strong>Date:</strong> ${r}</p>
              <p><strong>Time:</strong> ${e.time}</p>
              <p><strong>Consultation Type:</strong> ${e.reason}</p>
              <p><strong>Status:</strong> <span style="color: #ef4444; font-weight: bold;">Cancelled</span></p>
            </div>
            
            <p>I apologize for any inconvenience this may cause. Please feel free to book a new appointment at your convenience.</p>
            
            <p>If you have any questions or would like to reschedule, please don't hesitate to reach out.</p>
            
            <p>Best regards,<br>${this.config.adminName}</p>
          </div>
          
          <div class="footer">
            <p>This email was sent from ${this.config.siteName}</p>
          </div>
        </div>
      </body>
      </html>
    `}async sendEmail({to:e,subject:r,html:n}){try{console.log("ð§ Sending email via API..."),console.log("ð§ To:",e),console.log("ð§ Subject:",r);const s=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,subject:r,html:n,config:{adminName:this.config.adminName,siteName:this.config.siteName}})});if(console.log("ð§ API Response Status:",s.status),console.log("ð§ API Response OK:",s.ok),!s.ok){const a=await s.text();throw console.error("ð§ API Error Response:",a),new Error(`Failed to send email: ${s.statusText} - ${a}`)}const i=await s.json();if(console.log("ð§ API Response Result:",i),!i.success)throw new Error(i.error||"Failed to send email");console.log("ð§ Email sent successfully via API")}catch(s){throw console.error("ð§ Email sending failed:",s),s}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}const y0=new MP,Ck=({isOpen:t,onClose:e})=>{const[r,n]=D.useState("date"),[s,i]=D.useState(""),[a,o]=D.useState(""),[l,u]=D.useState({name:"",email:"",date:"",time:"",reason:"",message:""}),[d,h]=D.useState(!1),p=()=>{const v=[],N=new Date;for(let A=1;A<=30;A++){const I=new Date(N);I.setDate(N.getDate()+A),I.getDay()!==0&&I.getDay()!==6&&v.push(I.toISOString().split("T")[0])}return v},f=()=>{const v=[];for(let I=9;I<18;I++)for(let S=0;S<60;S+=30){const U=`${I.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`;v.push({time:U,available:!0,label:`${I>12?I-12:I}:${S.toString().padStart(2,"0")} ${I>=12?"PM":"AM"}`})}return v},m=p(),g=f(),b=v=>{i(v),u(N=>({...N,date:v})),n("time")},y=v=>{o(v),u(N=>({...N,time:v})),n("details")},E=v=>{u({...l,[v.target.name]:v.target.value})},T=async v=>{v.preventDefault(),h(!0);try{const N=await Tk({name:l.name,email:l.email,date:l.date,time:l.time,reason:l.reason,message:l.message,status:"pending"});try{await y0.sendNewAppointmentNotification(N)}catch(A){console.error("Failed to send email notification:",A)}n("confirmation"),H.success("Appointment booked successfully!")}catch(N){console.error("Failed to book appointment:",N),H.error("Failed to book appointment. Please try again.")}finally{h(!1)}},k=()=>{n("date"),i(""),o(""),u({name:"",email:"",date:"",time:"",reason:"",message:""}),e()},w=v=>new Date(v).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[c.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg",children:c.jsx(Or,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Schedule Appointment"}),c.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Book a consultation call"})]})]}),c.jsx("button",{onClick:k,className:"text-gray-400 hover:text-white transition-colors duration-200 p-1",children:c.jsx(Cr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),c.jsx("div",{className:"flex items-center justify-center p-3 sm:p-4 border-b border-gray-700",children:c.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:["date","time","details","confirmation"].map((v,N)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs sm:text-sm font-medium ${r===v?"bg-blue-600 text-white":N<["date","time","details","confirmation"].indexOf(r)?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:N<["date","time","details","confirmation"].indexOf(r)?c.jsx(Ul,{className:"w-3 h-3 sm:w-4 sm:h-4"}):N+1}),N<3&&c.jsx("div",{className:`w-6 sm:w-12 h-0.5 mx-1 sm:mx-2 ${N<["date","time","details","confirmation"].indexOf(r)?"bg-green-600":"bg-gray-600"}`})]},v))})}),c.jsxs("div",{className:"p-4 sm:p-6",children:[r==="date"&&c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-base sm:text-lg font-medium text-white mb-2",children:"Select a Date"}),c.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Choose a convenient date for your consultation"})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:m.slice(0,21).map(v=>c.jsxs("button",{onClick:()=>b(v),className:"p-2 sm:p-3 text-center rounded-lg border border-gray-600 hover:border-blue-500 hover:bg-blue-600/10 transition-colors duration-200",children:[c.jsx("div",{className:"text-white font-medium text-sm sm:text-base",children:new Date(v).getDate()}),c.jsx("div",{className:"text-gray-400 text-xs",children:new Date(v).toLocaleDateString("en-US",{weekday:"short"})})]},v))})]}),r==="time"&&c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-base sm:text-lg font-medium text-white mb-2",children:"Select a Time"}),c.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:["Available times for ",w(s)]})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3",children:g.map(v=>c.jsx("button",{onClick:()=>y(v.time),disabled:!v.available,className:`p-2 sm:p-3 text-center rounded-lg border transition-colors duration-200 text-sm sm:text-base ${v.available?"border-gray-600 hover:border-blue-500 hover:bg-blue-600/10 text-white":"border-gray-700 bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:v.label},v.time))}),c.jsx("div",{className:"flex space-x-3",children:c.jsx(K,{variant:"outline",onClick:()=>n("date"),className:"flex-1",children:"Back"})})]}),r==="details"&&c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-base sm:text-lg font-medium text-white mb-2",children:"Your Details"}),c.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:["Appointment scheduled for ",w(s)," at ",a]})]}),c.jsxs("form",{onSubmit:T,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),c.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:E,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Your full name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:E,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-300 mb-2",children:"Consultation Type"}),c.jsxs("select",{id:"reason",name:"reason",value:l.reason,onChange:E,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",children:[c.jsx("option",{value:"",children:"Select consultation type"}),c.jsx("option",{value:"Project Discussion",children:"Project Discussion"}),c.jsx("option",{value:"Technical Consultation",children:"Technical Consultation"}),c.jsx("option",{value:"Career Advice",children:"Career Advice"}),c.jsx("option",{value:"Code Review",children:"Code Review"}),c.jsx("option",{value:"General Inquiry",children:"General Inquiry"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Details"}),c.jsx("textarea",{id:"message",name:"message",value:l.message,onChange:E,rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm sm:text-base",placeholder:"Tell me about your project or what you'd like to discuss..."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[c.jsx(K,{type:"button",variant:"outline",onClick:()=>n("time"),className:"flex-1",children:"Back"}),c.jsx(K,{type:"submit",disabled:d,className:"flex-1",children:d?"Booking...":"Book Appointment"})]})]})]}),r==="confirmation"&&c.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-green-600 rounded-full mx-auto",children:c.jsx(Ul,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:"Appointment Confirmed!"}),c.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Your consultation has been scheduled successfully."})]}),c.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 sm:p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[c.jsx("span",{className:"text-gray-400",children:"Date:"}),c.jsx("span",{className:"text-white",children:w(l.date)})]}),c.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[c.jsx("span",{className:"text-gray-400",children:"Time:"}),c.jsx("span",{className:"text-white",children:l.time})]}),c.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[c.jsx("span",{className:"text-gray-400",children:"Type:"}),c.jsx("span",{className:"text-white",children:l.reason})]})]}),c.jsx("div",{className:"bg-blue-900/20 border border-blue-800 rounded-lg p-3 sm:p-4",children:c.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[c.jsx(To,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-blue-300 font-medium mb-1 text-sm sm:text-base",children:"What's Next?"}),c.jsx("p",{className:"text-gray-300 text-xs sm:text-sm",children:"You'll receive a calendar invite and confirmation email shortly. I'll also send you a meeting link before our call."})]})]})}),c.jsx(K,{onClick:k,className:"w-full",children:"Close"})]})]})]})}):null},LP=()=>{const{scrollReveal:t,scrollRevealMobile:e}=li(),[r,n]=D.useState({name:"",email:"",subject:"",message:""}),[s,i]=D.useState(!1),[a,o]=D.useState(!1),[l,u]=D.useState({email:"victory@example.com",phone:"+1 (555) 123-4567",location:"San Francisco, CA"});D.useEffect(()=>{const m=window.innerWidth<=768?e:t;m(".contact-header"),m(".contact-info"),m(".contact-form"),m(".booking-section")},[]),D.useEffect(()=>{(async()=>{try{const m=await Oo.get();u({email:m.email,phone:m.phone,location:m.location})}catch(m){console.error("Failed to fetch contact info:",m)}})()},[]);const d=f=>{n({...r,[f.target.name]:f.target.value})},h=async f=>{f.preventDefault(),o(!0);try{await Sk(r),await Zc.sendContactNotification(r),H.success("Message sent successfully! I'll get back to you soon."),n({name:"",email:"",subject:"",message:""})}catch(m){console.error("Failed to send message:",m),H.error("Failed to send message. Please try again.")}finally{o(!1)}},p=[{icon:As,label:"Email",value:l.email,href:`mailto:${l.email}`},{icon:BA,label:"Phone",value:l.phone,href:l.phone?`tel:${l.phone.replace(/\s+/g,"")}`:"#"},{icon:gd,label:"Location",value:l.location,href:"#"}];return c.jsxs("section",{id:"contact",className:"py-12 sm:py-16 lg:py-20 bg-gray-900",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"contact-header text-center mb-12 sm:mb-16 opacity-0",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Let's Work Together"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4 sm:px-0",children:"Ready to bring your ideas to life? Get in touch and let's discuss how we can create something amazing together."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[c.jsxs("div",{className:"space-y-6 sm:space-y-8 order-2 lg:order-1",children:[c.jsxs("div",{className:"contact-info opacity-0",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Get in Touch"}),c.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.map((f,m)=>c.jsxs("a",{href:f.href,className:"flex items-center p-3 sm:p-4 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors duration-200 group",children:[c.jsx("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 rounded-lg mr-3 sm:mr-4 group-hover:bg-blue-700 transition-colors duration-200 flex-shrink-0",children:c.jsx(f.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:f.label}),c.jsx("p",{className:"text-white font-medium text-sm sm:text-base truncate",children:f.value})]})]},m))})]}),c.jsxs("div",{className:"booking-section opacity-0",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Schedule a Meeting"}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[c.jsx(Or,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400 mr-2 sm:mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium text-sm sm:text-base",children:"Free Consultation"}),c.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"30-minute discovery call"})]})]}),c.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[c.jsx(Ea,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400 mr-2 sm:mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Available Monday - Friday"}),c.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"9:00 AM - 6:00 PM PST"})]})]}),c.jsxs(K,{className:"w-full",onClick:()=>i(!0),children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Book Appointment"]})]})]})]}),c.jsxs("div",{className:"contact-form opacity-0 order-1 lg:order-2",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Send a Message"}),c.jsxs("form",{onSubmit:h,className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),c.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:d,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm sm:text-base",placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:d,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm sm:text-base",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),c.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:d,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm sm:text-base",placeholder:"What's this about?"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),c.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:d,required:!0,rows:5,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 resize-none text-sm sm:text-base",placeholder:"Tell me about your project..."})]}),c.jsxs(K,{type:"submit",size:"lg",className:"w-full",disabled:a,children:[c.jsx(UA,{className:"w-4 h-4 mr-2"}),a?"Sending...":"Send Message"]})]})]})]})]}),c.jsx(Ck,{isOpen:s,onClose:()=>i(!1)})]})},FP=()=>c.jsxs(c.Fragment,{children:[c.jsx(NP,{}),c.jsx(SP,{}),c.jsx(CP,{}),c.jsx(AP,{}),c.jsx(jP,{}),c.jsx(OP,{}),c.jsx(IP,{}),c.jsx(LP,{})]}),ub=({searchValue:t,onSearchChange:e,filters:r,activeFilters:n,onFilterChange:s,placeholder:i="Search...",className:a=""})=>{const[o,l]=D.useState(!1),u=f=>{const m=n.includes(f)?n.filter(g=>g!==f):[...n,f];s(m)},d=()=>{s([])},h=()=>{e("")},p=D.useMemo(()=>r.filter(f=>n.includes(f.value)).map(f=>f.label),[r,n]);return c.jsxs("div",{className:`space-y-4 ${a}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Hl,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),className:"block w-full pl-10 pr-10 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:i}),t&&c.jsx("button",{onClick:h,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",children:c.jsx(Cr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(K,{variant:"outline",onClick:()=>l(!o),className:"flex items-center space-x-2",children:[c.jsx(Nx,{className:"w-4 h-4"}),c.jsx("span",{children:"Filters"}),c.jsx(HA,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]}),n.length>0&&c.jsx(K,{variant:"outline",size:"sm",onClick:d,className:"text-red-400 hover:text-red-300",children:"Clear All"})]}),o&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-600 rounded-lg shadow-lg z-10",children:c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Filter by Category"}),r.map(f=>c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n.includes(f.value),onChange:()=>u(f.value),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),c.jsx("span",{className:"text-sm text-gray-300",children:f.label}),f.count!==void 0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(",f.count,")"]})]},f.value))]})})]}),n.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((f,m)=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-600 text-white",children:[f,c.jsx("button",{onClick:()=>{var g;return u(((g=r.find(b=>b.label===f))==null?void 0:g.value)||"")},className:"ml-2 hover:bg-blue-700 rounded-full p-0.5",children:c.jsx(Cr,{className:"w-3 h-3"})})]},m))})]})},db=(t,e,r)=>{const[n,s]=D.useState(""),[i,a]=D.useState([]),o=D.useMemo(()=>{let u=t;if(n){const d=n.toLowerCase();u=u.filter(h=>e.some(p=>{const f=h[p];return f&&f.toString().toLowerCase().includes(d)}))}return r&&i.length>0&&(u=u.filter(d=>{const h=d[r];return h&&i.includes(h.toString())})),u},[t,n,i,e,r]),l=D.useMemo(()=>{if(!r)return[];const u=new Map;return t.forEach(d=>{const h=d[r];if(h){const p=h.toString();u.set(p,(u.get(p)||0)+1)}}),Array.from(u.entries()).map(([d,h])=>({value:d,label:d,count:h}))},[t,r]);return{searchValue:n,setSearchValue:s,activeFilters:i,setActiveFilters:a,filteredData:o,filterOptions:l}},BP=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0),{searchValue:s,setSearchValue:i,activeFilters:a,setActiveFilters:o,filteredData:l,filterOptions:u}=db(t,["title","summary","content"]);D.useEffect(()=>{d()},[]);const d=async()=>{try{AE("Blog posts fetch",async()=>{console.log("Fetching blog posts...");const p=await Ds.getAll();console.log("Fetched blog posts:",p),e(p)})}catch(p){console.error("Failed to fetch blog posts:",p),H.error("Unable to load blog posts. Please check your internet connection.")}finally{n(!1)}},h=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"No date";return l.filter(p=>p.published),r?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading blog posts..."})]})}):c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"Blog - vctry4real"}),c.jsx("meta",{name:"description",content:"Read my latest thoughts on software development, technology, and industry insights."})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 border-b border-gray-700",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:"Blog"}),c.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Thoughts on software development, technology, and industry insights"})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx("div",{className:"mb-8",children:c.jsx(ub,{searchValue:s,onSearchChange:i,filters:u,activeFilters:a,onFilterChange:o,placeholder:"Search blog posts by title, summary, or content..."})}),t.length>0&&c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-8 p-4 bg-gray-800 rounded-lg",children:[c.jsxs("span",{children:["Showing ",l.length," of ",t.length," blog posts",(s||a.length>0)&&" (filtered)"]}),(s||a.length>0)&&c.jsx("button",{onClick:()=>{i(""),o([])},className:"text-blue-400 hover:text-blue-300 font-medium",children:"Clear all filters"})]}),l.length===0?c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Hl,{className:"w-8 h-8 text-gray-400"})}),c.jsx("p",{className:"text-gray-400 text-lg mb-2",children:t.length===0?"No blog posts available yet.":"No posts match your search criteria."}),t.length>0&&c.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search terms or filters."})]})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(p=>{var f;return c.jsxs(Nr,{to:`/blog/${p.slug}`,className:"block bg-gray-800 rounded-xl overflow-hidden hover:bg-gray-750 transition-all duration-300 hover:shadow-xl hover:shadow-black/20 group",children:[p.coverImage&&c.jsx("div",{className:"aspect-video overflow-hidden",children:c.jsx("img",{src:p.coverImage,alt:p.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:m=>{const g=m.target;g.style.display="none"}})}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Or,{className:"w-4 h-4"}),c.jsx("span",{children:h(p.createdAt)})]}),p.readTime&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Ea,{className:"w-4 h-4"}),c.jsxs("span",{children:[p.readTime," min read"]})]})]}),c.jsx("h2",{className:"text-xl font-semibold text-white mb-4 line-clamp-2 group-hover:text-blue-400 transition-colors duration-200",children:p.title}),c.jsx("p",{className:"text-gray-400 mb-6 line-clamp-3 leading-relaxed",children:p.summary}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:(f=p.tags)==null?void 0:f.map((m,g)=>c.jsx("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-400 text-xs rounded-full border border-blue-600/30",children:m},g))}),c.jsx("span",{className:"text-blue-400 hover:text-blue-300 font-medium text-sm flex items-center group-hover:translate-x-1 transition-transform duration-200",children:"Read More â"})]})]})]},p.id)})})]})]})]})},UP=t=>{switch(t){case"fullstack":return"bg-purple-600";case"backend":return"bg-green-600";case"frontend":return"bg-blue-600";default:return"bg-gray-600"}},Ak=Ae.memo(({project:t,viewMode:e})=>c.jsxs(Nr,{to:`/projects/${t.slug}`,className:`block bg-gray-800 rounded-xl overflow-hidden hover:bg-gray-750 transition-all duration-300 hover:shadow-xl hover:shadow-black/20 group ${e==="list"?"flex":""}`,children:[t.image&&c.jsx("div",{className:`overflow-hidden ${e==="list"?"w-64 flex-shrink-0":"aspect-video"}`,children:c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:r=>{const n=r.target;n.style.display="none"}})}),c.jsxs("div",{className:`p-6 ${e==="list"?"flex-1":""}`,children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${UP(t.category)}`,children:t.category})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-3 group-hover:text-blue-400 transition-colors duration-200",children:t.title}),c.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:t.description}),t.tech&&Array.isArray(t.tech)&&t.tech.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Technologies:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.tech.map((r,n)=>c.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded border border-gray-600",children:r},n))})]}),t.tags&&Array.isArray(t.tags)&&t.tags.length>0&&c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((r,n)=>c.jsx("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded-full border border-blue-600/30",children:r},n))})}),c.jsxs("div",{className:"flex items-center justify-between",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[t.github&&c.jsxs("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors duration-200",children:[c.jsx(fc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Code"})]}),t.live&&c.jsxs("a",{href:t.live,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:[c.jsx(md,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Live Demo"})]})]}),c.jsx("span",{className:"text-blue-400 hover:text-blue-300 font-medium text-sm flex items-center group-hover:translate-x-1 transition-transform duration-200",children:"Read More â"})]})]})]}));Ak.displayName="ProjectCard";const M1=()=>{const[t,e]=D.useState([]),[r,n]=D.useState([]),[s,i]=D.useState(!0),[a,o]=D.useState("all"),[l,u]=D.useState(""),[d,h]=D.useState("grid"),p=D.useCallback(kO(m=>{u(m)},300),[]);D.useEffect(()=>{(async()=>{try{AE("Projects fetch",async()=>{console.log("ProjectsPage: Fetching projects...");const g=await Rs.getAll();console.log("ProjectsPage: Received data:",g),e(g),n(g)})}catch(g){console.error("Failed to fetch projects:",g)}finally{i(!1)}})()},[]),D.useEffect(()=>{if(!s){const m=document.querySelector(".projects-header"),g=document.querySelector(".projects-filters"),b=document.querySelector(".projects-grid");m&&m.classList.remove("opacity-0"),g&&setTimeout(()=>{g.classList.remove("opacity-0")},200),b&&setTimeout(()=>{b.classList.remove("opacity-0")},400)}},[s]),D.useEffect(()=>{let m=t;if(a!=="all"&&(m=m.filter(g=>g.category===a)),l.trim()){const g=l.toLowerCase();m=m.filter(b=>b.title.toLowerCase().includes(g)||b.description.toLowerCase().includes(g)||b.tech&&Array.isArray(b.tech)&&b.tech.some(y=>y.toLowerCase().includes(g))||b.tags&&Array.isArray(b.tags)&&b.tags.some(y=>y.toLowerCase().includes(g)))}n(m)},[t,a,l]);const f=[{key:"all",label:"All Projects"},{key:"fullstack",label:"Fullstack"},{key:"backend",label:"Backend"},{key:"frontend",label:"Frontend"}];return s?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading projects..."})]})}):c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"Projects - vctry4real"}),c.jsx("meta",{name:"description",content:"Explore my portfolio of web applications, mobile apps, and software projects."})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("div",{className:"projects-header opacity-0 bg-gradient-to-b from-gray-800 to-gray-900 border-b border-gray-700",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:"Projects"}),c.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Explore my portfolio of web applications, mobile apps, and software projects"})]})})}),c.jsxs("div",{className:"projects-filters opacity-0 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"relative w-full max-w-2xl",children:[c.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search projects by title, description, or technologies...",defaultValue:l,onChange:m=>p(m.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),c.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:f.map(m=>c.jsx(K,{variant:a===m.key?"primary":"outline",size:"sm",onClick:()=>o(m.key),className:"min-w-[120px]",children:m.label},m.key))}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[c.jsxs(K,{variant:d==="grid"?"primary":"ghost",size:"sm",onClick:()=>h("grid"),className:"flex items-center space-x-2",children:[c.jsx(zA,{className:"w-4 h-4"}),c.jsx("span",{children:"Grid"})]}),c.jsxs(K,{variant:d==="list"?"primary":"ghost",size:"sm",onClick:()=>h("list"),className:"flex items-center space-x-2",children:[c.jsx(Cx,{className:"w-4 h-4"}),c.jsx("span",{children:"List"})]})]})}),c.jsxs("div",{className:"text-center text-gray-400 mb-8",children:["Showing ",r.length," of ",t.length," projects",(l||a!=="all")&&" (filtered)"]})]}),c.jsx("div",{className:"projects-grid opacity-0 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:r.length===0?c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Hl,{className:"w-8 h-8 text-gray-400"})}),c.jsx("p",{className:"text-gray-400 text-lg mb-2",children:t.length===0?"No projects available yet.":"No projects match your search criteria."}),t.length>0&&c.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search terms or filters."})]})}):c.jsx("div",{className:`grid gap-8 ${d==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:r.map(m=>c.jsx(Ak,{project:m,viewMode:d},m.id))})})]})]})},HP=()=>{var i,a,o;const{slug:t}=lE(),[e,r]=D.useState(null),[n,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{if(t)try{s(!0);const u=await Rs.getBySlug(t);r(u)}catch(u){console.error("Failed to fetch project:",u)}finally{s(!1)}})()},[t]),n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading project..."})]})}):e?c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsxs("title",{children:[e.title," - vctry4real"]}),c.jsx("meta",{name:"description",content:e.description})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 border-b border-gray-700",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsx("div",{className:"flex items-center space-x-4 mb-8",children:c.jsxs(Nr,{to:"/projects",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors duration-200 px-4 py-2 rounded-lg hover:bg-gray-800",children:[c.jsx(ip,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"Back to Projects"})]})})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"mb-12",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium text-white ${e.category==="fullstack"?"bg-purple-600":e.category==="backend"?"bg-green-600":"bg-blue-600"}`,children:e.category}),e.featured&&c.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-600 text-white",children:"Featured"})]}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:e.title}),c.jsx("p",{className:"text-xl text-gray-300 mb-6",children:e.description}),c.jsxs("div",{className:"flex items-center space-x-6 text-gray-400",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bu,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:e.role})]}),e.analytics&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Fu,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm",children:[(i=e.analytics.linesOfCode)==null?void 0:i.toLocaleString()," lines of code"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ng,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm",children:[e.analytics.users," users"]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.image&&c.jsx("div",{className:"rounded-xl overflow-hidden",children:c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover"})}),c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"About This Project"}),c.jsx("div",{className:"prose prose-invert max-w-none",children:c.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.content})})]}),e.tech&&Array.isArray(e.tech)&&e.tech.length>0&&c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Technologies Used"}),c.jsx("div",{className:"flex flex-wrap gap-3",children:e.tech.map((l,u)=>c.jsx("span",{className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg border border-gray-600",children:l},u))})]}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Project Tags"}),c.jsx("div",{className:"flex flex-wrap gap-3",children:e.tags.map((l,u)=>c.jsx("span",{className:"px-4 py-2 bg-blue-600/20 text-blue-400 rounded-full border border-blue-600/30",children:l},u))})]}),e.contributions&&Array.isArray(e.contributions)&&e.contributions.length>0&&c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"My Contributions"}),c.jsx("ul",{className:"space-y-3",children:e.contributions.map((l,u)=>c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-300",children:l})]},u))})]}),e.screenshots&&Array.isArray(e.screenshots)&&e.screenshots.length>0&&c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Screenshots"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.screenshots.map((l,u)=>c.jsx("img",{src:l,alt:`${e.title} screenshot ${u+1}`,className:"rounded-lg w-full h-48 object-cover"},u))})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Links"}),c.jsxs("div",{className:"space-y-3",children:[e.github&&c.jsxs("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[c.jsx(fc,{className:"w-5 h-5 text-gray-300"}),c.jsx("span",{className:"text-gray-300",children:"View Code"})]}),e.live&&c.jsxs("a",{href:e.live,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[c.jsx(md,{className:"w-5 h-5 text-white"}),c.jsx("span",{className:"text-white",children:"Live Demo"})]})]})]}),e.analytics&&c.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Stats"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Lines of Code"}),c.jsx("span",{className:"text-white font-medium",children:(a=e.analytics.linesOfCode)==null?void 0:a.toLocaleString()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Uptime"}),c.jsx("span",{className:"text-white font-medium",children:e.analytics.uptime})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Users"}),c.jsx("span",{className:"text-white font-medium",children:(o=e.analytics.users)==null?void 0:o.toLocaleString()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Performance"}),c.jsx("span",{className:"text-white font-medium",children:e.analytics.performance})]})]})]})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Project Not Found"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"The project you're looking for doesn't exist."}),c.jsx(Nr,{to:"/projects",children:c.jsx(K,{children:"Back to Projects"})})]})})};function L1(t){const e=[],r=String(t||"");let n=r.indexOf(","),s=0,i=!1;for(;!i;){n===-1&&(n=r.length,i=!0);const a=r.slice(s,n).trim();(a||!i)&&e.push(a),s=n+1,n=r.indexOf(",",s)}return e}function jk(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const zP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$P=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VP={};function F1(t,e){return(VP.jsx?$P:zP).test(t)}const qP=/[ \t\n\f\r]/g;function WP(t){return typeof t=="object"?t.type==="text"?B1(t.value):!1:B1(t)}function B1(t){return t.replace(qP,"")===""}let _d=class{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}};_d.prototype.normal={};_d.prototype.property={};_d.prototype.space=void 0;function Ok(t,e){const r={},n={};for(const s of t)Object.assign(r,s.property),Object.assign(n,s.normal);return new _d(r,n,e)}function Qu(t){return t.toLowerCase()}let Dn=class{constructor(e,r){this.attribute=r,this.property=e}};Dn.prototype.attribute="";Dn.prototype.booleanish=!1;Dn.prototype.boolean=!1;Dn.prototype.commaOrSpaceSeparated=!1;Dn.prototype.commaSeparated=!1;Dn.prototype.defined=!1;Dn.prototype.mustUseProperty=!1;Dn.prototype.number=!1;Dn.prototype.overloadedBoolean=!1;Dn.prototype.property="";Dn.prototype.spaceSeparated=!1;Dn.prototype.space=void 0;let YP=0;const ze=$o(),sr=$o(),v0=$o(),se=$o(),St=$o(),Pl=$o(),Fn=$o();function $o(){return 2**++YP}const w0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:sr,commaOrSpaceSeparated:Fn,commaSeparated:Pl,number:se,overloadedBoolean:v0,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),Em=Object.keys(w0);let hb=class extends Dn{constructor(e,r,n,s){let i=-1;if(super(e,r),U1(this,"space",s),typeof n=="number")for(;++i<Em.length;){const a=Em[i];U1(this,Em[i],(n&w0[a])===w0[a])}}};hb.prototype.defined=!0;function U1(t,e,r){r&&(t[e]=r)}function yc(t){const e={},r={};for(const[n,s]of Object.entries(t.properties)){const i=new hb(n,t.transform(t.attributes||{},n),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),e[n]=i,r[Qu(n)]=n,r[Qu(i.attribute)]=n}return new _d(e,r,t.space)}const Ik=yc({properties:{ariaActiveDescendant:null,ariaAtomic:sr,ariaAutoComplete:null,ariaBusy:sr,ariaChecked:sr,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:sr,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:sr,ariaFlowTo:St,ariaGrabbed:sr,ariaHasPopup:null,ariaHidden:sr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:se,ariaLive:null,ariaModal:sr,ariaMultiLine:sr,ariaMultiSelectable:sr,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:sr,ariaReadOnly:sr,ariaRelevant:null,ariaRequired:sr,ariaRoleDescription:St,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:sr,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Pk(t,e){return e in t?t[e]:e}function Rk(t,e){return Pk(t,e.toLowerCase())}const GP=yc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pl,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:St,autoFocus:ze,autoPlay:ze,blocking:St,capture:null,charSet:null,checked:ze,cite:null,className:St,cols:se,colSpan:null,content:null,contentEditable:sr,controls:ze,controlsList:St,coords:se|Pl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:v0,draggable:sr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:St,height:se,hidden:v0,high:se,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:St,itemRef:St,itemScope:ze,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:se,pattern:null,ping:St,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:St,required:ze,reversed:ze,rows:se,rowSpan:se,sandbox:St,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:sr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:sr,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:sr,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:Rk}),KP=yc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pl,g2:Pl,glyphName:Pl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:Fn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fn,rev:Fn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fn,requiredFeatures:Fn,requiredFonts:Fn,requiredFormats:Fn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:Fn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Pk}),Dk=yc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Mk=yc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rk}),Lk=yc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),JP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},XP=/[A-Z]/g,H1=/-[a-z]/g,QP=/^data[-\w.:]+$/i;function fb(t,e){const r=Qu(e);let n=e,s=Dn;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&QP.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(H1,eR);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!H1.test(i)){let a=i.replace(XP,ZP);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}s=hb}return new s(n,e)}function ZP(t){return"-"+t.toLowerCase()}function eR(t){return t.charAt(1).toUpperCase()}const bp=Ok([Ik,GP,Dk,Mk,Lk],"html"),vc=Ok([Ik,KP,Dk,Mk,Lk],"svg");function z1(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Fk(t){return t.join(" ").trim()}var pb={},$1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tR=/\n/g,rR=/^\s*/,nR=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,sR=/^:\s*/,iR=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,aR=/^[;\s]*/,oR=/^\s+|\s+$/g,lR=`
`,V1="/",q1="*",Qa="",cR="comment",uR="declaration",dR=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function s(m){var g=m.match(tR);g&&(r+=g.length);var b=m.lastIndexOf(lR);n=~b?m.length-b:n+m.length}function i(){var m={line:r,column:n};return function(g){return g.position=new a(m),u(),g}}function a(m){this.start=m,this.end={line:r,column:n},this.source=e.source}a.prototype.content=t;function o(m){var g=new Error(e.source+":"+r+":"+n+": "+m);if(g.reason=m,g.filename=e.source,g.line=r,g.column=n,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var b=g[0];return s(b),t=t.slice(b.length),g}}function u(){l(rR)}function d(m){var g;for(m=m||[];g=h();)g!==!1&&m.push(g);return m}function h(){var m=i();if(!(V1!=t.charAt(0)||q1!=t.charAt(1))){for(var g=2;Qa!=t.charAt(g)&&(q1!=t.charAt(g)||V1!=t.charAt(g+1));)++g;if(g+=2,Qa===t.charAt(g-1))return o("End of comment missing");var b=t.slice(2,g-2);return n+=2,s(b),t=t.slice(g),n+=2,m({type:cR,comment:b})}}function p(){var m=i(),g=l(nR);if(g){if(h(),!l(sR))return o("property missing ':'");var b=l(iR),y=m({type:uR,property:W1(g[0].replace($1,Qa)),value:b?W1(b[0].replace($1,Qa)):Qa});return l(aR),y}}function f(){var m=[];d(m);for(var g;g=p();)g!==!1&&(m.push(g),d(m));return m}return u(),f()};function W1(t){return t?t.replace(oR,Qa):Qa}var hR=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pb,"__esModule",{value:!0});pb.default=pR;var fR=hR(dR);function pR(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,fR.default)(t),s=typeof e=="function";return n.forEach(function(i){if(i.type==="declaration"){var a=i.property,o=i.value;s?e(a,o,i):o&&(r=r||{},r[a]=o)}}),r}var yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.camelCase=void 0;var mR=/^--[a-zA-Z0-9_-]+$/,gR=/-([a-z])/g,xR=/^[^-]+$/,bR=/^-(webkit|moz|ms|o|khtml)-/,yR=/^-(ms)-/,vR=function(t){return!t||xR.test(t)||mR.test(t)},wR=function(t,e){return e.toUpperCase()},Y1=function(t,e){return"".concat(e,"-")},_R=function(t,e){return e===void 0&&(e={}),vR(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(yR,Y1):t=t.replace(bR,Y1),t.replace(gR,wR))};yp.camelCase=_R;var ER=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},TR=ER(pb),kR=yp;function _0(t,e){var r={};return!t||typeof t!="string"||(0,TR.default)(t,function(n,s){n&&s&&(r[(0,kR.camelCase)(n,e)]=s)}),r}_0.default=_0;var NR=_0;const SR=hc(NR),vp=Bk("end"),ci=Bk("start");function Bk(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function CR(t){const e=ci(t),r=vp(t);if(e&&r)return{start:e,end:r}}function vu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?G1(t.position):"start"in t||"end"in t?G1(t):"line"in t||"column"in t?E0(t):""}function E0(t){return K1(t&&t.line)+":"+K1(t&&t.column)}function G1(t){return E0(t&&t.start)+"-"+E0(t&&t.end)}function K1(t){return t&&typeof t=="number"?t:1}class rn extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let s="",i={},a=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof e=="string"?s=e:!i.cause&&e&&(a=!0,s=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?i.ruleId=n:(i.source=n.slice(0,l),i.ruleId=n.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=o?o.line:void 0,this.name=vu(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}rn.prototype.file="";rn.prototype.name="";rn.prototype.reason="";rn.prototype.message="";rn.prototype.stack="";rn.prototype.column=void 0;rn.prototype.line=void 0;rn.prototype.ancestors=void 0;rn.prototype.cause=void 0;rn.prototype.fatal=void 0;rn.prototype.place=void 0;rn.prototype.ruleId=void 0;rn.prototype.source=void 0;const mb={}.hasOwnProperty,AR=new Map,jR=/[A-Z]/g,OR=new Set(["table","tbody","thead","tfoot","tr"]),IR=new Set(["td","th"]),Uk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function PR(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=HR(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=UR(r,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?vc:bp,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=Hk(s,t,void 0);return i&&typeof i!="string"?i:s.create(t,s.Fragment,{children:i||void 0},void 0)}function Hk(t,e,r){if(e.type==="element")return RR(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return DR(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return LR(t,e,r);if(e.type==="mdxjsEsm")return MR(t,e);if(e.type==="root")return FR(t,e,r);if(e.type==="text")return BR(t,e)}function RR(t,e,r){const n=t.schema;let s=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=vc,t.schema=s),t.ancestors.push(e);const i=$k(t,e.tagName,!1),a=zR(t,e);let o=xb(t,e);return OR.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!WP(l):!0})),zk(t,a,i,e),gb(a,o),t.ancestors.pop(),t.schema=n,t.create(e,i,a,r)}function DR(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Zu(t,e.position)}function MR(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Zu(t,e.position)}function LR(t,e,r){const n=t.schema;let s=n;e.name==="svg"&&n.space==="html"&&(s=vc,t.schema=s),t.ancestors.push(e);const i=e.name===null?t.Fragment:$k(t,e.name,!0),a=$R(t,e),o=xb(t,e);return zk(t,a,i,e),gb(a,o),t.ancestors.pop(),t.schema=n,t.create(e,i,a,r)}function FR(t,e,r){const n={};return gb(n,xb(t,e)),t.create(e,t.Fragment,n,r)}function BR(t,e){return e.value}function zk(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function gb(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function UR(t,e,r){return n;function n(s,i,a,o){const u=Array.isArray(a.children)?r:e;return o?u(i,a,o):u(i,a)}}function HR(t,e){return r;function r(n,s,i,a){const o=Array.isArray(i.children),l=ci(n);return e(s,i,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function zR(t,e){const r={};let n,s;for(s in e.properties)if(s!=="children"&&mb.call(e.properties,s)){const i=VR(t,s,e.properties[s]);if(i){const[a,o]=i;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&IR.has(e.tagName)?n=o:r[a]=o}}if(n){const i=r.style||(r.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function $R(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const i=n.data.estree.body[0];i.type;const a=i.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,t.evaluater.evaluateExpression(o.argument))}else Zu(t,e.position);else{const s=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const o=n.value.data.estree.body[0];o.type,i=t.evaluater.evaluateExpression(o.expression)}else Zu(t,e.position);else i=n.value===null?!0:n.value;r[s]=i}return r}function xb(t,e){const r=[];let n=-1;const s=t.passKeys?new Map:AR;for(;++n<e.children.length;){const i=e.children[n];let a;if(t.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=s.get(l)||0;a=l+"-"+u,s.set(l,u+1)}}const o=Hk(t,i,a);o!==void 0&&r.push(o)}return r}function VR(t,e,r){const n=fb(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?jk(r):Fk(r)),n.property==="style"){let s=typeof r=="object"?r:qR(t,String(r));return t.stylePropertyNameCase==="css"&&(s=WR(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&n.space?JP[n.property]||n.property:n.attribute,r]}}function qR(t,e){try{return SR(e,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const n=r,s=new rn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Uk+"#cannot-parse-style-attribute",s}}function $k(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let i=-1,a;for(;++i<s.length;){const o=F1(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=a}else n=F1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const s=n.value;return mb.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(n);Zu(t)}function Zu(t,e){const r=new rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=Uk+"#cannot-handle-mdx-estrees-without-createevaluater",r}function WR(t){const e={};let r;for(r in t)mb.call(t,r)&&(e[YR(r)]=t[r]);return e}function YR(t){let e=t.replace(jR,GR);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function GR(t){return"-"+t.toLowerCase()}const Tm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KR={};function bb(t,e){const r=KR,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Vk(t,n,s)}function Vk(t,e,r){if(JR(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return J1(t.children,e,r)}return Array.isArray(t)?J1(t,e,r):""}function J1(t,e,r){const n=[];let s=-1;for(;++s<t.length;)n[s]=Vk(t[s],e,r);return n.join("")}function JR(t){return!!(t&&typeof t=="object")}const X1=document.createElement("i");function yb(t){const e="&"+t+";";X1.innerHTML=e;const r=X1.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function Jn(t,e,r,n){const s=t.length;let i=0,a;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),t.splice(...a);else for(r&&t.splice(e,r);i<n.length;)a=n.slice(i,i+1e4),a.unshift(e,0),t.splice(...a),i+=1e4,e+=1e4}function ls(t,e){return t.length>0?(Jn(t,t.length,0,e),t):e}const Q1={}.hasOwnProperty;function qk(t){const e={};let r=-1;for(;++r<t.length;)XR(e,t[r]);return e}function XR(t,e){let r;for(r in e){const s=(Q1.call(t,r)?t[r]:void 0)||(t[r]={}),i=e[r];let a;if(i)for(a in i){Q1.call(s,a)||(s[a]=[]);const o=i[a];QR(s[a],Array.isArray(o)?o:o?[o]:[])}}}function QR(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Jn(t,0,0,n)}function Wk(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"ï¿½":String.fromCodePoint(r)}function Is(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gn=Ra(/[A-Za-z]/),Qr=Ra(/[\dA-Za-z]/),ZR=Ra(/[#-'*+\--9=?A-Z^-~]/);function Zh(t){return t!==null&&(t<32||t===127)}const T0=Ra(/\d/),eD=Ra(/[\dA-Fa-f]/),tD=Ra(/[!-/:-@[-`{-~]/);function ke(t){return t!==null&&t<-2}function wt(t){return t!==null&&(t<0||t===32)}function rt(t){return t===-2||t===-1||t===32}const wp=Ra(new RegExp("\\p{P}|\\p{S}","u")),Po=Ra(/\s/);function Ra(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function wc(t){const e=[];let r=-1,n=0,s=0;for(;++r<t.length;){const i=t.charCodeAt(r);let a="";if(i===37&&Qr(t.charCodeAt(r+1))&&Qr(t.charCodeAt(r+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const o=t.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(a=String.fromCharCode(i,o),s=1):a="ï¿½"}else a=String.fromCharCode(i);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+s+1,a=""),s&&(r+=s,s=0)}return e.join("")+t.slice(n)}function at(t,e,r,n){const s=n?n-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(l){return rt(l)?(t.enter(r),o(l)):e(l)}function o(l){return rt(l)&&i++<s?(t.consume(l),o):(t.exit(r),e(l))}}const rD={tokenize:nD};function nD(t){const e=t.attempt(this.parser.constructs.contentInitial,n,s);let r;return e;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),at(t,e,"linePrefix")}function s(o){return t.enter("paragraph"),i(o)}function i(o){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ke(o)?(t.consume(o),t.exit("chunkText"),i):(t.consume(o),a)}}const sD={tokenize:iD},Z1={tokenize:aD};function iD(t){const e=this,r=[];let n=0,s,i,a;return o;function o(T){if(n<r.length){const k=r[n];return e.containerState=k[1],t.attempt(k[0].continuation,l,u)(T)}return u(T)}function l(T){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&E();const k=e.events.length;let w=k,v;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){v=e.events[w][1].end;break}y(n);let N=k;for(;N<e.events.length;)e.events[N][1].end={...v},N++;return Jn(e.events,w+1,0,e.events.slice(k)),e.events.length=N,u(T)}return o(T)}function u(T){if(n===r.length){if(!s)return p(T);if(s.currentConstruct&&s.currentConstruct.concrete)return m(T);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Z1,d,h)(T)}function d(T){return s&&E(),y(n),p(T)}function h(T){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,m(T)}function p(T){return e.containerState={},t.attempt(Z1,f,m)(T)}function f(T){return n++,r.push([e.currentConstruct,e.containerState]),p(T)}function m(T){if(T===null){s&&E(),y(0),t.consume(T);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),g(T)}function g(T){if(T===null){b(t.exit("chunkFlow"),!0),y(0),t.consume(T);return}return ke(T)?(t.consume(T),b(t.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(t.consume(T),g)}function b(T,k){const w=e.sliceStream(T);if(k&&w.push(null),T.previous=i,i&&(i.next=T),i=T,s.defineSkip(T.start),s.write(w),e.parser.lazy[T.start.line]){let v=s.events.length;for(;v--;)if(s.events[v][1].start.offset<a&&(!s.events[v][1].end||s.events[v][1].end.offset>a))return;const N=e.events.length;let A=N,I,S;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(I){S=e.events[A][1].end;break}I=!0}for(y(n),v=N;v<e.events.length;)e.events[v][1].end={...S},v++;Jn(e.events,A+1,0,e.events.slice(N)),e.events.length=v}}function y(T){let k=r.length;for(;k-- >T;){const w=r[k];e.containerState=w[1],w[0].exit.call(e,t)}r.length=T}function E(){s.write([null]),i=void 0,s=void 0,e.containerState._closeFlow=void 0}}function aD(t,e,r){return at(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xl(t){if(t===null||wt(t)||Po(t))return 1;if(wp(t))return 2}function _p(t,e,r){const n=[];let s=-1;for(;++s<t.length;){const i=t[s].resolveAll;i&&!n.includes(i)&&(e=i(e,r),n.push(i))}return e}const k0={name:"attention",resolveAll:oD,tokenize:lD};function oD(t,e){let r=-1,n,s,i,a,o,l,u,d;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const h={...t[n][1].end},p={...t[r][1].start};ev(h,-l),ev(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},s={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[n][1].end={...a.start},t[r][1].start={...o.end},u=[],t[n][1].end.offset-t[n][1].start.offset&&(u=ls(u,[["enter",t[n][1],e],["exit",t[n][1],e]])),u=ls(u,[["enter",s,e],["enter",a,e],["exit",a,e],["enter",i,e]]),u=ls(u,_p(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),u=ls(u,[["exit",i,e],["enter",o,e],["exit",o,e],["exit",s,e]]),t[r][1].end.offset-t[r][1].start.offset?(d=2,u=ls(u,[["enter",t[r][1],e],["exit",t[r][1],e]])):d=0,Jn(t,n-1,r-n+3,u),r=n+u.length-d-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function lD(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,s=Xl(n);let i;return a;function a(l){return i=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===i)return t.consume(l),o;const u=t.exit("attentionSequence"),d=Xl(l),h=!d||d===2&&s||r.includes(l),p=!s||s===2&&d||r.includes(n);return u._open=!!(i===42?h:h&&(s||!p)),u._close=!!(i===42?p:p&&(d||!h)),e(l)}}function ev(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const cD={name:"autolink",tokenize:uD};function uD(t,e,r){let n=0;return s;function s(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(f){return gn(f)?(t.consume(f),a):f===64?r(f):u(f)}function a(f){return f===43||f===45||f===46||Qr(f)?(n=1,o(f)):u(f)}function o(f){return f===58?(t.consume(f),n=0,l):(f===43||f===45||f===46||Qr(f))&&n++<32?(t.consume(f),o):(n=0,u(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||Zh(f)?r(f):(t.consume(f),l)}function u(f){return f===64?(t.consume(f),d):ZR(f)?(t.consume(f),u):r(f)}function d(f){return Qr(f)?h(f):r(f)}function h(f){return f===46?(t.consume(f),n=0,d):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):p(f)}function p(f){if((f===45||Qr(f))&&n++<63){const m=f===45?p:h;return t.consume(f),m}return r(f)}}const Ed={partial:!0,tokenize:dD};function dD(t,e,r){return n;function n(i){return rt(i)?at(t,s,"linePrefix")(i):s(i)}function s(i){return i===null||ke(i)?e(i):r(i)}}const Yk={continuation:{tokenize:fD},exit:pD,name:"blockQuote",tokenize:hD};function hD(t,e,r){const n=this;return s;function s(a){if(a===62){const o=n.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),i}return r(a)}function i(a){return rt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function fD(t,e,r){const n=this;return s;function s(a){return rt(a)?at(t,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return t.attempt(Yk,e,r)(a)}}function pD(t){t.exit("blockQuote")}const Gk={name:"characterEscape",tokenize:mD};function mD(t,e,r){return n;function n(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),s}function s(i){return tD(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(i)}}const Kk={name:"characterReference",tokenize:gD};function gD(t,e,r){const n=this;let s=0,i,a;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),i=31,a=Qr,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,a=eD,d):(t.enter("characterReferenceValue"),i=7,a=T0,d(h))}function d(h){if(h===59&&s){const p=t.exit("characterReferenceValue");return a===Qr&&!yb(n.sliceSerialize(p))?r(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&s++<i?(t.consume(h),d):r(h)}}const tv={partial:!0,tokenize:bD},rv={concrete:!0,name:"codeFenced",tokenize:xD};function xD(t,e,r){const n=this,s={partial:!0,tokenize:w};let i=0,a=0,o;return l;function l(v){return u(v)}function u(v){const N=n.events[n.events.length-1];return i=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=v,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(v)}function d(v){return v===o?(a++,t.consume(v),d):a<3?r(v):(t.exit("codeFencedFenceSequence"),rt(v)?at(t,h,"whitespace")(v):h(v))}function h(v){return v===null||ke(v)?(t.exit("codeFencedFence"),n.interrupt?e(v):t.check(tv,g,k)(v)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||ke(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(v)):rt(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),at(t,f,"whitespace")(v)):v===96&&v===o?r(v):(t.consume(v),p)}function f(v){return v===null||ke(v)?h(v):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||ke(v)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(v)):v===96&&v===o?r(v):(t.consume(v),m)}function g(v){return t.attempt(s,k,b)(v)}function b(v){return t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),y}function y(v){return i>0&&rt(v)?at(t,E,"linePrefix",i+1)(v):E(v)}function E(v){return v===null||ke(v)?t.check(tv,g,k)(v):(t.enter("codeFlowValue"),T(v))}function T(v){return v===null||ke(v)?(t.exit("codeFlowValue"),E(v)):(t.consume(v),T)}function k(v){return t.exit("codeFenced"),e(v)}function w(v,N,A){let I=0;return S;function S(G){return v.enter("lineEnding"),v.consume(G),v.exit("lineEnding"),U}function U(G){return v.enter("codeFencedFence"),rt(G)?at(v,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):M(G)}function M(G){return G===o?(v.enter("codeFencedFenceSequence"),$(G)):A(G)}function $(G){return G===o?(I++,v.consume(G),$):I>=a?(v.exit("codeFencedFenceSequence"),rt(G)?at(v,Y,"whitespace")(G):Y(G)):A(G)}function Y(G){return G===null||ke(G)?(v.exit("codeFencedFence"),N(G)):A(G)}}}function bD(t,e,r){const n=this;return s;function s(a){return a===null?r(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i)}function i(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}const km={name:"codeIndented",tokenize:vD},yD={partial:!0,tokenize:wD};function vD(t,e,r){const n=this;return s;function s(u){return t.enter("codeIndented"),at(t,i,"linePrefix",5)(u)}function i(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?l(u):ke(u)?t.attempt(yD,a,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||ke(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function wD(t,e,r){const n=this;return s;function s(a){return n.parser.lazy[n.now().line]?r(a):ke(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):at(t,i,"linePrefix",5)(a)}function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):ke(a)?s(a):r(a)}}const _D={name:"codeText",previous:TD,resolve:ED,tokenize:kD};function ED(t){let e=t.length-4,r=3,n,s;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)s===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(s=n):(n===e||t[n][1].type==="lineEnding")&&(t[s][1].type="codeTextData",n!==s+2&&(t[s][1].end=t[n-1][1].end,t.splice(s+2,n-s-2),e-=n-s-2,n=s+2),s=void 0);return t}function TD(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kD(t,e,r){let n=0,s,i;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),n++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(i=t.enter("codeTextSequence"),s=0,d(h)):ke(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ke(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),s++,d):s===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(i.type="codeTextData",u(h))}}class ND{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const s=r||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&Lc(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Lc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Lc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Lc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Lc(this.left,r.reverse())}}}function Lc(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function Jk(t){const e={};let r=-1,n,s,i,a,o,l,u;const d=new ND(t);for(;++r<d.length;){for(;r in e;)r=e[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,SD(d,r)),r=e[r],u=!0);else if(n[1]._container){for(i=r,s=void 0;i--;)if(a=d.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(n[1].end={...d.get(s)[1].start},o=d.slice(s,r),o.unshift(n),d.splice(s,r-s+1,o))}}return Jn(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function SD(t,e){const r=t.get(e)[1],n=t.get(e)[2];let s=e-1;const i=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let d,h,p=-1,f=r,m=0,g=0;const b=[g];for(;f;){for(;t.get(++s)[1]!==f;);i.push(s),f._tokenizer||(d=n.sliceStream(f),f.next||d.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(g=p+1,b.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):b.pop(),p=b.length;p--;){const y=o.slice(b[p],b[p+1]),E=i.pop();l.push([E,E+y.length-1]),t.splice(E,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const CD={resolve:jD,tokenize:OD},AD={partial:!0,tokenize:ID};function jD(t){return Jk(t),t}function OD(t,e){let r;return n;function n(o){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),s(o)}function s(o){return o===null?i(o):ke(o)?t.check(AD,a,i)(o):(t.consume(o),s)}function i(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function ID(t,e,r){const n=this;return s;function s(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),at(t,i,"linePrefix")}function i(a){if(a===null||ke(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function Xk(t,e,r,n,s,i,a,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(t.enter(n),t.enter(s),t.enter(i),t.consume(y),t.exit(i),p):y===null||y===32||y===41||Zh(y)?r(y):(t.enter(n),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(y))}function p(y){return y===62?(t.enter(i),t.consume(y),t.exit(i),t.exit(s),t.exit(n),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(o),p(y)):y===null||y===60||ke(y)?r(y):(t.consume(y),y===92?m:f)}function m(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function g(y){return!d&&(y===null||y===41||wt(y))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(n),e(y)):d<u&&y===40?(t.consume(y),d++,g):y===41?(t.consume(y),d--,g):y===null||y===32||y===40||Zh(y)?r(y):(t.consume(y),y===92?b:g)}function b(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function Qk(t,e,r,n,s,i){const a=this;let o=0,l;return u;function u(f){return t.enter(n),t.enter(s),t.consume(f),t.exit(s),t.enter(i),d}function d(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(t.exit(i),t.enter(s),t.consume(f),t.exit(s),t.exit(n),e):ke(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||ke(f)||o++>999?(t.exit("chunkString"),d(f)):(t.consume(f),l||(l=!rt(f)),f===92?p:h)}function p(f){return f===91||f===92||f===93?(t.consume(f),o++,h):h(f)}}function Zk(t,e,r,n,s,i){let a;return o;function o(p){return p===34||p===39||p===40?(t.enter(n),t.enter(s),t.consume(p),t.exit(s),a=p===40?41:p,l):r(p)}function l(p){return p===a?(t.enter(s),t.consume(p),t.exit(s),t.exit(n),e):(t.enter(i),u(p))}function u(p){return p===a?(t.exit(i),l(a)):p===null?r(p):ke(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),at(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||ke(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?h:d)}function h(p){return p===a||p===92?(t.consume(p),d):d(p)}}function wu(t,e){let r;return n;function n(s){return ke(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),r=!0,n):rt(s)?at(t,n,r?"linePrefix":"lineSuffix")(s):e(s)}}const PD={name:"definition",tokenize:DD},RD={partial:!0,tokenize:MD};function DD(t,e,r){const n=this;let s;return i;function i(f){return t.enter("definition"),a(f)}function a(f){return Qk.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return s=Is(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):r(f)}function l(f){return wt(f)?wu(t,u)(f):u(f)}function u(f){return Xk(t,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return t.attempt(RD,h,h)(f)}function h(f){return rt(f)?at(t,p,"whitespace")(f):p(f)}function p(f){return f===null||ke(f)?(t.exit("definition"),n.parser.defined.push(s),e(f)):r(f)}}function MD(t,e,r){return n;function n(o){return wt(o)?wu(t,s)(o):r(o)}function s(o){return Zk(t,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return rt(o)?at(t,a,"whitespace")(o):a(o)}function a(o){return o===null||ke(o)?e(o):r(o)}}const LD={name:"hardBreakEscape",tokenize:FD};function FD(t,e,r){return n;function n(i){return t.enter("hardBreakEscape"),t.consume(i),s}function s(i){return ke(i)?(t.exit("hardBreakEscape"),e(i)):r(i)}}const BD={name:"headingAtx",resolve:UD,tokenize:HD};function UD(t,e){let r=t.length-2,n=3,s,i;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(s={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},i={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},Jn(t,n,r-n+1,[["enter",s,e],["enter",i,e],["exit",i,e],["exit",s,e]])),t}function HD(t,e,r){let n=0;return s;function s(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(t.consume(d),a):d===null||wt(d)?(t.exit("atxHeadingSequence"),o(d)):r(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||ke(d)?(t.exit("atxHeading"),e(d)):rt(d)?at(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||wt(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const zD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nv=["pre","script","style","textarea"],$D={concrete:!0,name:"htmlFlow",resolveTo:WD,tokenize:YD},VD={partial:!0,tokenize:KD},qD={partial:!0,tokenize:GD};function WD(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function YD(t,e,r){const n=this;let s,i,a,o,l;return u;function u(P){return d(P)}function d(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),h}function h(P){return P===33?(t.consume(P),p):P===47?(t.consume(P),i=!0,g):P===63?(t.consume(P),s=3,n.interrupt?e:_):gn(P)?(t.consume(P),a=String.fromCharCode(P),b):r(P)}function p(P){return P===45?(t.consume(P),s=2,f):P===91?(t.consume(P),s=5,o=0,m):gn(P)?(t.consume(P),s=4,n.interrupt?e:_):r(P)}function f(P){return P===45?(t.consume(P),n.interrupt?e:_):r(P)}function m(P){const Ne="CDATA[";return P===Ne.charCodeAt(o++)?(t.consume(P),o===Ne.length?n.interrupt?e:M:m):r(P)}function g(P){return gn(P)?(t.consume(P),a=String.fromCharCode(P),b):r(P)}function b(P){if(P===null||P===47||P===62||wt(P)){const Ne=P===47,ot=a.toLowerCase();return!Ne&&!i&&nv.includes(ot)?(s=1,n.interrupt?e(P):M(P)):zD.includes(a.toLowerCase())?(s=6,Ne?(t.consume(P),y):n.interrupt?e(P):M(P)):(s=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(P):i?E(P):T(P))}return P===45||Qr(P)?(t.consume(P),a+=String.fromCharCode(P),b):r(P)}function y(P){return P===62?(t.consume(P),n.interrupt?e:M):r(P)}function E(P){return rt(P)?(t.consume(P),E):S(P)}function T(P){return P===47?(t.consume(P),S):P===58||P===95||gn(P)?(t.consume(P),k):rt(P)?(t.consume(P),T):S(P)}function k(P){return P===45||P===46||P===58||P===95||Qr(P)?(t.consume(P),k):w(P)}function w(P){return P===61?(t.consume(P),v):rt(P)?(t.consume(P),w):T(P)}function v(P){return P===null||P===60||P===61||P===62||P===96?r(P):P===34||P===39?(t.consume(P),l=P,N):rt(P)?(t.consume(P),v):A(P)}function N(P){return P===l?(t.consume(P),l=null,I):P===null||ke(P)?r(P):(t.consume(P),N)}function A(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||wt(P)?w(P):(t.consume(P),A)}function I(P){return P===47||P===62||rt(P)?T(P):r(P)}function S(P){return P===62?(t.consume(P),U):r(P)}function U(P){return P===null||ke(P)?M(P):rt(P)?(t.consume(P),U):r(P)}function M(P){return P===45&&s===2?(t.consume(P),J):P===60&&s===1?(t.consume(P),Z):P===62&&s===4?(t.consume(P),Ie):P===63&&s===3?(t.consume(P),_):P===93&&s===5?(t.consume(P),je):ke(P)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(VD,Oe,$)(P)):P===null||ke(P)?(t.exit("htmlFlowData"),$(P)):(t.consume(P),M)}function $(P){return t.check(qD,Y,Oe)(P)}function Y(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),G}function G(P){return P===null||ke(P)?$(P):(t.enter("htmlFlowData"),M(P))}function J(P){return P===45?(t.consume(P),_):M(P)}function Z(P){return P===47?(t.consume(P),a="",ee):M(P)}function ee(P){if(P===62){const Ne=a.toLowerCase();return nv.includes(Ne)?(t.consume(P),Ie):M(P)}return gn(P)&&a.length<8?(t.consume(P),a+=String.fromCharCode(P),ee):M(P)}function je(P){return P===93?(t.consume(P),_):M(P)}function _(P){return P===62?(t.consume(P),Ie):P===45&&s===2?(t.consume(P),_):M(P)}function Ie(P){return P===null||ke(P)?(t.exit("htmlFlowData"),Oe(P)):(t.consume(P),Ie)}function Oe(P){return t.exit("htmlFlow"),e(P)}}function GD(t,e,r){const n=this;return s;function s(a){return ke(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):r(a)}function i(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function KD(t,e,r){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Ed,e,r)}}const JD={name:"htmlText",tokenize:XD};function XD(t,e,r){const n=this;let s,i,a;return o;function o(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),l}function l(_){return _===33?(t.consume(_),u):_===47?(t.consume(_),w):_===63?(t.consume(_),T):gn(_)?(t.consume(_),A):r(_)}function u(_){return _===45?(t.consume(_),d):_===91?(t.consume(_),i=0,m):gn(_)?(t.consume(_),E):r(_)}function d(_){return _===45?(t.consume(_),f):r(_)}function h(_){return _===null?r(_):_===45?(t.consume(_),p):ke(_)?(a=h,Z(_)):(t.consume(_),h)}function p(_){return _===45?(t.consume(_),f):h(_)}function f(_){return _===62?J(_):_===45?p(_):h(_)}function m(_){const Ie="CDATA[";return _===Ie.charCodeAt(i++)?(t.consume(_),i===Ie.length?g:m):r(_)}function g(_){return _===null?r(_):_===93?(t.consume(_),b):ke(_)?(a=g,Z(_)):(t.consume(_),g)}function b(_){return _===93?(t.consume(_),y):g(_)}function y(_){return _===62?J(_):_===93?(t.consume(_),y):g(_)}function E(_){return _===null||_===62?J(_):ke(_)?(a=E,Z(_)):(t.consume(_),E)}function T(_){return _===null?r(_):_===63?(t.consume(_),k):ke(_)?(a=T,Z(_)):(t.consume(_),T)}function k(_){return _===62?J(_):T(_)}function w(_){return gn(_)?(t.consume(_),v):r(_)}function v(_){return _===45||Qr(_)?(t.consume(_),v):N(_)}function N(_){return ke(_)?(a=N,Z(_)):rt(_)?(t.consume(_),N):J(_)}function A(_){return _===45||Qr(_)?(t.consume(_),A):_===47||_===62||wt(_)?I(_):r(_)}function I(_){return _===47?(t.consume(_),J):_===58||_===95||gn(_)?(t.consume(_),S):ke(_)?(a=I,Z(_)):rt(_)?(t.consume(_),I):J(_)}function S(_){return _===45||_===46||_===58||_===95||Qr(_)?(t.consume(_),S):U(_)}function U(_){return _===61?(t.consume(_),M):ke(_)?(a=U,Z(_)):rt(_)?(t.consume(_),U):I(_)}function M(_){return _===null||_===60||_===61||_===62||_===96?r(_):_===34||_===39?(t.consume(_),s=_,$):ke(_)?(a=M,Z(_)):rt(_)?(t.consume(_),M):(t.consume(_),Y)}function $(_){return _===s?(t.consume(_),s=void 0,G):_===null?r(_):ke(_)?(a=$,Z(_)):(t.consume(_),$)}function Y(_){return _===null||_===34||_===39||_===60||_===61||_===96?r(_):_===47||_===62||wt(_)?I(_):(t.consume(_),Y)}function G(_){return _===47||_===62||wt(_)?I(_):r(_)}function J(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):r(_)}function Z(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),ee}function ee(_){return rt(_)?at(t,je,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):je(_)}function je(_){return t.enter("htmlTextData"),a(_)}}const vb={name:"labelEnd",resolveAll:tM,resolveTo:rM,tokenize:nM},QD={tokenize:sM},ZD={tokenize:iM},eM={tokenize:aM};function tM(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const s=n.type==="labelImage"?4:2;n.type="data",e+=s}}return t.length!==r.length&&Jn(t,0,t.length,r),t}function rM(t,e){let r=t.length,n=0,s,i,a,o;for(;r--;)if(s=t[r][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=r,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(a=r);const l={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[i][1].start},end:{...t[a][1].end}},d={type:"labelText",start:{...t[i+n+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=ls(o,t.slice(i+1,i+n+3)),o=ls(o,[["enter",d,e]]),o=ls(o,_p(e.parser.constructs.insideSpan.null,t.slice(i+n+4,a-3),e)),o=ls(o,[["exit",d,e],t[a-2],t[a-1],["exit",u,e]]),o=ls(o,t.slice(a+1)),o=ls(o,[["exit",l,e]]),Jn(t,i,t.length,o),t}function nM(t,e,r){const n=this;let s=n.events.length,i,a;for(;s--;)if((n.events[s][1].type==="labelImage"||n.events[s][1].type==="labelLink")&&!n.events[s][1]._balanced){i=n.events[s][1];break}return o;function o(p){return i?i._inactive?h(p):(a=n.parser.defined.includes(Is(n.sliceSerialize({start:i.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):r(p)}function l(p){return p===40?t.attempt(QD,d,a?d:h)(p):p===91?t.attempt(ZD,d,a?u:h)(p):a?d(p):h(p)}function u(p){return t.attempt(eM,d,h)(p)}function d(p){return e(p)}function h(p){return i._balanced=!0,r(p)}}function sM(t,e,r){return n;function n(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),s}function s(h){return wt(h)?wu(t,i)(h):i(h)}function i(h){return h===41?d(h):Xk(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return wt(h)?wu(t,l)(h):d(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?Zk(t,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return wt(h)?wu(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):r(h)}}function iM(t,e,r){const n=this;return s;function s(o){return Qk.call(n,t,i,a,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(Is(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):r(o)}function a(o){return r(o)}}function aM(t,e,r){return n;function n(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),s}function s(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):r(i)}}const oM={name:"labelStartImage",resolveAll:vb.resolveAll,tokenize:lM};function lM(t,e,r){const n=this;return s;function s(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),i}function i(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const cM={name:"labelStartLink",resolveAll:vb.resolveAll,tokenize:uM};function uM(t,e,r){const n=this;return s;function s(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const Nm={name:"lineEnding",tokenize:dM};function dM(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),at(t,e,"linePrefix")}}const Ah={name:"thematicBreak",tokenize:hM};function hM(t,e,r){let n=0,s;return i;function i(u){return t.enter("thematicBreak"),a(u)}function a(u){return s=u,o(u)}function o(u){return u===s?(t.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||ke(u))?(t.exit("thematicBreak"),e(u)):r(u)}function l(u){return u===s?(t.consume(u),n++,l):(t.exit("thematicBreakSequence"),rt(u)?at(t,o,"whitespace")(u):o(u))}}const Tn={continuation:{tokenize:gM},exit:bM,name:"list",tokenize:mM},fM={partial:!0,tokenize:yM},pM={partial:!0,tokenize:xM};function mM(t,e,r){const n=this,s=n.events[n.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return o;function o(f){const m=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:T0(f)){if(n.containerState.type||(n.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Ah,r,u)(f):u(f);if(!n.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return r(f)}function l(f){return T0(f)&&++a<10?(t.consume(f),l):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),u(f)):r(f)}function u(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,t.check(Ed,n.interrupt?r:d,t.attempt(fM,p,h))}function d(f){return n.containerState.initialBlankLine=!0,i++,p(f)}function h(f){return rt(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),p):r(f)}function p(f){return n.containerState.size=i+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function gM(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Ed,s,i);function s(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,at(t,e,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!rt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(pM,e,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,at(t,t.attempt(Tn,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function xM(t,e,r){const n=this;return at(t,s,"listItemIndent",n.containerState.size+1);function s(i){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(i):r(i)}}function bM(t){t.exit(this.containerState.type)}function yM(t,e,r){const n=this;return at(t,s,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=n.events[n.events.length-1];return!rt(i)&&a&&a[1].type==="listItemPrefixWhitespace"?e(i):r(i)}}const sv={name:"setextUnderline",resolveTo:vM,tokenize:wM};function vM(t,e){let r=t.length,n,s,i;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(s=r)}else t[r][1].type==="content"&&t.splice(r,1),!i&&t[r][1].type==="definition"&&(i=r);const a={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",i?(t.splice(s,0,["enter",a,e]),t.splice(i+1,0,["exit",t[n][1],e]),t[n][1].end={...t[i][1].end}):t[n][1]=a,t.push(["exit",a,e]),t}function wM(t,e,r){const n=this;let s;return i;function i(u){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(t.enter("setextHeadingLine"),s=u,a(u)):r(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===s?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),rt(u)?at(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ke(u)?(t.exit("setextHeadingLine"),e(u)):r(u)}}const _M={tokenize:EM};function EM(t){const e=this,r=t.attempt(Ed,n,t.attempt(this.parser.constructs.flowInitial,s,at(t,t.attempt(this.parser.constructs.flow,s,t.attempt(CD,s)),"linePrefix")));return r;function n(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function s(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const TM={resolveAll:tN()},kM=eN("string"),NM=eN("text");function eN(t){return{resolveAll:tN(t==="text"?SM:void 0),tokenize:e};function e(r){const n=this,s=this.parser.constructs[t],i=r.attempt(s,a,o);return a;function a(d){return u(d)?i(d):o(d)}function o(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),l}function l(d){return u(d)?(r.exit("data"),i(d)):(r.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const f=h[p];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function tN(t){return e;function e(r,n){let s=-1,i;for(;++s<=r.length;)i===void 0?r[s]&&r[s][1].type==="data"&&(i=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==i+2&&(r[i][1].end=r[s-1][1].end,r.splice(i+2,s-i-2),s=i+2),i=void 0);return t?t(r,n):r}}function SM(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],s=e.sliceStream(n);let i=s.length,a=-1,o=0,l;for(;i--;){const u=s[i];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){i++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(o=0),o){const u={type:r===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:n.start._bufferIndex+a,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(t.splice(r,0,["enter",u,e],["exit",u,e]),r+=2)}r++}return t}const CM={42:Tn,43:Tn,45:Tn,48:Tn,49:Tn,50:Tn,51:Tn,52:Tn,53:Tn,54:Tn,55:Tn,56:Tn,57:Tn,62:Yk},AM={91:PD},jM={[-2]:km,[-1]:km,32:km},OM={35:BD,42:Ah,45:[sv,Ah],60:$D,61:sv,95:Ah,96:rv,126:rv},IM={38:Kk,92:Gk},PM={[-5]:Nm,[-4]:Nm,[-3]:Nm,33:oM,38:Kk,42:k0,60:[cD,JD],91:cM,92:[LD,Gk],93:vb,95:k0,96:_D},RM={null:[k0,TM]},DM={null:[42,95]},MM={null:[]},LM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DM,contentInitial:AM,disable:MM,document:CM,flow:OM,flowInitial:jM,insideSpan:RM,string:IM,text:PM},Symbol.toStringTag,{value:"Module"}));function FM(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},i=[];let a=[],o=[];const l={attempt:N(w),check:N(v),consume:E,enter:T,exit:k,interrupt:N(v,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:p,sliceStream:f,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&i.push(e),u;function h(U){return a=ls(a,U),b(),a[a.length-1]!==null?[]:(A(e,0),u.events=_p(i,u.events,u),u.events)}function p(U,M){return UM(f(U),M)}function f(U){return BM(a,U)}function m(){const{_bufferIndex:U,_index:M,line:$,column:Y,offset:G}=n;return{_bufferIndex:U,_index:M,line:$,column:Y,offset:G}}function g(U){s[U.line]=U.column,S()}function b(){let U;for(;n._index<a.length;){const M=a[n._index];if(typeof M=="string")for(U=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===U&&n._bufferIndex<M.length;)y(M.charCodeAt(n._bufferIndex));else y(M)}}function y(U){d=d(U)}function E(U){ke(U)?(n.line++,n.column=1,n.offset+=U===-3?2:1,S()):U!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=U}function T(U,M){const $=M||{};return $.type=U,$.start=m(),u.events.push(["enter",$,u]),o.push($),$}function k(U){const M=o.pop();return M.end=m(),u.events.push(["exit",M,u]),M}function w(U,M){A(U,M.from)}function v(U,M){M.restore()}function N(U,M){return $;function $(Y,G,J){let Z,ee,je,_;return Array.isArray(Y)?Oe(Y):"tokenize"in Y?Oe([Y]):Ie(Y);function Ie(We){return Se;function Se(ht){const ct=ht!==null&&We[ht],jt=ht!==null&&We.null,_t=[...Array.isArray(ct)?ct:ct?[ct]:[],...Array.isArray(jt)?jt:jt?[jt]:[]];return Oe(_t)(ht)}}function Oe(We){return Z=We,ee=0,We.length===0?J:P(We[ee])}function P(We){return Se;function Se(ht){return _=I(),je=We,We.partial||(u.currentConstruct=We),We.name&&u.parser.constructs.disable.null.includes(We.name)?ot():We.tokenize.call(M?Object.assign(Object.create(u),M):u,l,Ne,ot)(ht)}}function Ne(We){return U(je,_),G}function ot(We){return _.restore(),++ee<Z.length?P(Z[ee]):J}}}function A(U,M){U.resolveAll&&!i.includes(U)&&i.push(U),U.resolve&&Jn(u.events,M,u.events.length-M,U.resolve(u.events.slice(M),u)),U.resolveTo&&(u.events=U.resolveTo(u.events,u))}function I(){const U=m(),M=u.previous,$=u.currentConstruct,Y=u.events.length,G=Array.from(o);return{from:Y,restore:J};function J(){n=U,u.previous=M,u.currentConstruct=$,u.events.length=Y,o=G,S()}}function S(){n.line in s&&n.column<2&&(n.column=s[n.line],n.offset+=s[n.line]-1)}}function BM(t,e){const r=e.start._index,n=e.start._bufferIndex,s=e.end._index,i=e.end._bufferIndex;let a;if(r===s)a=[t[r].slice(n,i)];else{if(a=t.slice(r,s),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}i>0&&a.push(t[s].slice(0,i))}return a}function UM(t,e){let r=-1;const n=[];let s;for(;++r<t.length;){const i=t[r];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,n.push(a)}return n.join("")}function HM(t){const n={constructs:qk([LM,...(t||{}).extensions||[]]),content:s(rD),defined:[],document:s(sD),flow:s(_M),lazy:{},string:s(kM),text:s(NM)};return n;function s(i){return a;function a(o){return FM(n,i,o)}}}function zM(t){for(;!Jk(t););return t}const iv=/[\0\t\n\r]/g;function $M(){let t=1,e="",r=!0,n;return s;function s(i,a,o){const l=[];let u,d,h,p,f;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),h=0,e="",r&&(i.charCodeAt(0)===65279&&h++,r=void 0);h<i.length;){if(iv.lastIndex=h,u=iv.exec(i),p=u&&u.index!==void 0?u.index:i.length,f=i.charCodeAt(p),!u){e=i.slice(h);break}if(f===10&&h===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<p&&(l.push(i.slice(h,p)),t+=p-h),f){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}h=p+1}return o&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const VM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qM(t){return t.replace(VM,WM)}function WM(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),i=s===120||s===88;return Wk(r.slice(i?2:1),i?16:10)}return yb(r)||t}const rN={}.hasOwnProperty;function YM(t,e,r){return typeof e!="string"&&(r=e,e=void 0),GM(r)(zM(HM(r).document().write($M()(t,e,!0))))}function GM(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(an),autolinkProtocol:I,autolinkEmail:I,atxHeading:i(rr),blockQuote:i(jt),characterEscape:I,characterReference:I,codeFenced:i(_t),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(_t,a),codeText:i(Ot,a),codeTextData:I,data:I,codeFlowValue:I,definition:i(Ze),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Et),hardBreakEscape:i(gr),hardBreakTrailing:i(gr),htmlFlow:i(z,a),htmlFlowData:I,htmlText:i(z,a),htmlTextData:I,image:i(zr),label:a,link:i(an),listItem:i(F),listItemValue:p,listOrdered:i(R,h),listUnordered:i(R),paragraph:i(q),reference:P,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(rr),strong:i(ce),thematicBreak:i(X)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ct,autolinkProtocol:ht,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:ot,characterReferenceMarkerNumeric:ot,characterReferenceValue:We,characterReference:Se,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:S,codeIndented:l(y),codeText:l(G),codeTextData:S,data:S,definition:l(),definitionDestinationString:k,definitionLabelString:E,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l($),htmlFlowData:S,htmlText:l(Y),htmlTextData:S,image:l(Z),label:je,labelText:ee,lineEnding:U,link:l(J),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ne,resourceDestinationString:_,resourceTitleString:Ie,resource:Oe,setextHeading:l(A),setextHeadingLineSequence:N,setextHeadingText:v,strong:l(),thematicBreak:l()}};nN(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(L){let W={type:"root",children:[]};const le={stack:[W],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:d,data:r},ye=[];let Fe=-1;for(;++Fe<L.length;)if(L[Fe][1].type==="listOrdered"||L[Fe][1].type==="listUnordered")if(L[Fe][0]==="enter")ye.push(Fe);else{const Tt=ye.pop();Fe=s(L,Tt,Fe)}for(Fe=-1;++Fe<L.length;){const Tt=e[L[Fe][0]];rN.call(Tt,L[Fe][1].type)&&Tt[L[Fe][1].type].call(Object.assign({sliceSerialize:L[Fe][2].sliceSerialize},le),L[Fe][1])}if(le.tokenStack.length>0){const Tt=le.tokenStack[le.tokenStack.length-1];(Tt[1]||av).call(le,void 0,Tt[0])}for(W.position={start:zi(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:zi(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<e.transforms.length;)W=e.transforms[Fe](W)||W;return W}function s(L,W,le){let ye=W-1,Fe=-1,Tt=!1,ft,xr,dr,wn;for(;++ye<=le;){const Lt=L[ye];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?Fe++:Fe--,wn=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(ft&&!wn&&!Fe&&!dr&&(dr=ye),wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wn=void 0}if(!Fe&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||Fe===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(ft){let Rr=ye;for(xr=void 0;Rr--;){const nr=L[Rr];if(nr[1].type==="lineEnding"||nr[1].type==="lineEndingBlank"){if(nr[0]==="exit")continue;xr&&(L[xr][1].type="lineEndingBlank",Tt=!0),nr[1].type="lineEnding",xr=Rr}else if(!(nr[1].type==="linePrefix"||nr[1].type==="blockQuotePrefix"||nr[1].type==="blockQuotePrefixWhitespace"||nr[1].type==="blockQuoteMarker"||nr[1].type==="listItemIndent"))break}dr&&(!xr||dr<xr)&&(ft._spread=!0),ft.end=Object.assign({},xr?L[xr][1].start:Lt[1].end),L.splice(xr||ye,0,["exit",ft,Lt[2]]),ye++,le++}if(Lt[1].type==="listItemPrefix"){const Rr={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};ft=Rr,L.splice(ye,0,["enter",Rr,Lt[2]]),ye++,le++,dr=void 0,wn=!0}}}return L[W][1]._spread=Tt,le}function i(L,W){return le;function le(ye){o.call(this,L(ye),ye),W&&W.call(this,ye)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(L,W,le){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([W,le||void 0]),L.position={start:zi(W.start),end:void 0}}function l(L){return W;function W(le){L&&L.call(this,le),u.call(this,le)}}function u(L,W){const le=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==L.type&&(W?W.call(this,L,ye[0]):(ye[1]||av).call(this,L,ye[0]));else throw new Error("Cannot close `"+L.type+"` ("+vu({start:L.start,end:L.end})+"): itâs not open");le.position.end=zi(L.end)}function d(){return bb(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(L){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function f(){const L=this.resume(),W=this.stack[this.stack.length-1];W.lang=L}function m(){const L=this.resume(),W=this.stack[this.stack.length-1];W.meta=L}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L.replace(/(\r?\n|\r)$/g,"")}function E(L){const W=this.resume(),le=this.stack[this.stack.length-1];le.label=W,le.identifier=Is(this.sliceSerialize(L)).toLowerCase()}function T(){const L=this.resume(),W=this.stack[this.stack.length-1];W.title=L}function k(){const L=this.resume(),W=this.stack[this.stack.length-1];W.url=L}function w(L){const W=this.stack[this.stack.length-1];if(!W.depth){const le=this.sliceSerialize(L).length;W.depth=le}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function N(L){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function I(L){const le=this.stack[this.stack.length-1].children;let ye=le[le.length-1];(!ye||ye.type!=="text")&&(ye=oe(),ye.position={start:zi(L.start),end:void 0},le.push(ye)),this.stack.push(ye)}function S(L){const W=this.stack.pop();W.value+=this.sliceSerialize(L),W.position.end=zi(L.end)}function U(L){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const le=W.children[W.children.length-1];le.position.end=zi(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(I.call(this,L),S.call(this,L))}function M(){this.data.atHardBreak=!0}function $(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function Y(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function G(){const L=this.resume(),W=this.stack[this.stack.length-1];W.value=L}function J(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=W,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function Z(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=W,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function ee(L){const W=this.sliceSerialize(L),le=this.stack[this.stack.length-2];le.label=qM(W),le.identifier=Is(W).toLowerCase()}function je(){const L=this.stack[this.stack.length-1],W=this.resume(),le=this.stack[this.stack.length-1];if(this.data.inReference=!0,le.type==="link"){const ye=L.children;le.children=ye}else le.alt=W}function _(){const L=this.resume(),W=this.stack[this.stack.length-1];W.url=L}function Ie(){const L=this.resume(),W=this.stack[this.stack.length-1];W.title=L}function Oe(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Ne(L){const W=this.resume(),le=this.stack[this.stack.length-1];le.label=W,le.identifier=Is(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function ot(L){this.data.characterReferenceType=L.type}function We(L){const W=this.sliceSerialize(L),le=this.data.characterReferenceType;let ye;le?(ye=Wk(W,le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=yb(W);const Fe=this.stack[this.stack.length-1];Fe.value+=ye}function Se(L){const W=this.stack.pop();W.position.end=zi(L.end)}function ht(L){S.call(this,L);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(L)}function ct(L){S.call(this,L);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(L)}function jt(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Ot(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Et(){return{type:"emphasis",children:[]}}function rr(){return{type:"heading",depth:0,children:[]}}function gr(){return{type:"break"}}function z(){return{type:"html",value:""}}function zr(){return{type:"image",title:null,url:"",alt:null}}function an(){return{type:"link",title:null,url:"",children:[]}}function R(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function F(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function q(){return{type:"paragraph",children:[]}}function ce(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function X(){return{type:"thematicBreak"}}}function zi(t){return{line:t.line,column:t.column,offset:t.offset}}function nN(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?nN(t,n):KM(t,n)}}function KM(t,e){let r;for(r in e)if(rN.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function av(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is still open")}function JM(t){const e=this;e.parser=r;function r(n){return YM(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function XM(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function QM(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function ZM(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function eL(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function tL(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function rL(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),s=wc(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let a,o=t.footnoteCounts.get(n);o===void 0?(o=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=i+1,o+=1,t.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function nL(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sL(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function sN(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const s=t.all(e),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=n:s.push({type:"text",value:n}),s}function iL(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return sN(t,e);const s={src:wc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(s.title=n.title);const i={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,i),t.applyData(e,i)}function aL(t,e){const r={src:wc(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function oL(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function lL(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return sN(t,e);const s={href:wc(n.url||"")};n.title!==null&&n.title!==void 0&&(s.title=n.title);const i={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function cL(t,e){const r={href:wc(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uL(t,e,r){const n=t.all(e),s=r?dL(r):iN(e),i={},a=[];if(typeof e.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const d=n[o];(s||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?a.push(...d.children):a.push(d)}const l=n[n.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:a};return t.patch(e,u),t.applyData(e,u)}function dL(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=iN(r[n])}return e}function iN(t){const e=t.spread;return e??t.children.length>1}function hL(t,e){const r={},n=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++s<n.length;){const a=n[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,i),t.applyData(e,i)}function fL(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pL(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function mL(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function gL(t,e){const r=t.all(e),n=r.shift(),s=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),s.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},o=ci(e.children[1]),l=vp(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function xL(t,e,r){const n=r?r.children:void 0,i=(n?n.indexOf(e):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],p={},f=a?a[l]:void 0;f&&(p.align=f);let m={type:"element",tagName:i,properties:p,children:[]};h&&(m.children=t.all(h),t.patch(h,m),m=t.applyData(h,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function bL(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const ov=9,lv=32;function yL(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),s=0;const i=[];for(;n;)i.push(cv(e.slice(s,n.index),s>0,!0),n[0]),s=n.index+n[0].length,n=r.exec(e);return i.push(cv(e.slice(s),s>0,!1)),i.join("")}function cv(t,e,r){let n=0,s=t.length;if(e){let i=t.codePointAt(n);for(;i===ov||i===lv;)n++,i=t.codePointAt(n)}if(r){let i=t.codePointAt(s-1);for(;i===ov||i===lv;)s--,i=t.codePointAt(s-1)}return s>n?t.slice(n,s):""}function vL(t,e){const r={type:"text",value:yL(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function wL(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const _L={blockquote:XM,break:QM,code:ZM,delete:eL,emphasis:tL,footnoteReference:rL,heading:nL,html:sL,imageReference:iL,image:aL,inlineCode:oL,linkReference:lL,link:cL,listItem:uL,list:hL,paragraph:fL,root:pL,strong:mL,table:gL,tableCell:bL,tableRow:xL,text:vL,thematicBreak:wL,toml:eh,yaml:eh,definition:eh,footnoteDefinition:eh};function eh(){}const aN=-1,Ep=0,_u=1,ef=2,wb=3,_b=4,Eb=5,Tb=6,oN=7,lN=8,uv=typeof self=="object"?self:globalThis,EL=(t,e)=>{const r=(s,i)=>(t.set(i,s),s),n=s=>{if(t.has(s))return t.get(s);const[i,a]=e[s];switch(i){case Ep:case aN:return r(a,s);case _u:{const o=r([],s);for(const l of a)o.push(n(l));return o}case ef:{const o=r({},s);for(const[l,u]of a)o[n(l)]=n(u);return o}case wb:return r(new Date(a),s);case _b:{const{source:o,flags:l}=a;return r(new RegExp(o,l),s)}case Eb:{const o=r(new Map,s);for(const[l,u]of a)o.set(n(l),n(u));return o}case Tb:{const o=r(new Set,s);for(const l of a)o.add(n(l));return o}case oN:{const{name:o,message:l}=a;return r(new uv[o](l),s)}case lN:return r(BigInt(a),s);case"BigInt":return r(Object(BigInt(a)),s);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new uv[i](a),s)};return n},dv=t=>EL(new Map,t)(0),il="",{toString:TL}={},{keys:kL}=Object,Fc=t=>{const e=typeof t;if(e!=="object"||!t)return[Ep,e];const r=TL.call(t).slice(8,-1);switch(r){case"Array":return[_u,il];case"Object":return[ef,il];case"Date":return[wb,il];case"RegExp":return[_b,il];case"Map":return[Eb,il];case"Set":return[Tb,il];case"DataView":return[_u,r]}return r.includes("Array")?[_u,r]:r.includes("Error")?[oN,r]:[ef,r]},th=([t,e])=>t===Ep&&(e==="function"||e==="symbol"),NL=(t,e,r,n)=>{const s=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},i=a=>{if(r.has(a))return r.get(a);let[o,l]=Fc(a);switch(o){case Ep:{let d=a;switch(l){case"bigint":o=lN,d=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([aN],a)}return s([o,d],a)}case _u:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),s([l,[...p]],a)}const d=[],h=s([o,d],a);for(const p of a)d.push(i(p));return h}case ef:{if(l)switch(l){case"BigInt":return s([l,a.toString()],a);case"Boolean":case"Number":case"String":return s([l,a.valueOf()],a)}if(e&&"toJSON"in a)return i(a.toJSON());const d=[],h=s([o,d],a);for(const p of kL(a))(t||!th(Fc(a[p])))&&d.push([i(p),i(a[p])]);return h}case wb:return s([o,a.toISOString()],a);case _b:{const{source:d,flags:h}=a;return s([o,{source:d,flags:h}],a)}case Eb:{const d=[],h=s([o,d],a);for(const[p,f]of a)(t||!(th(Fc(p))||th(Fc(f))))&&d.push([i(p),i(f)]);return h}case Tb:{const d=[],h=s([o,d],a);for(const p of a)(t||!th(Fc(p)))&&d.push(i(p));return h}}const{message:u}=a;return s([o,{name:l,message:u}],a)};return i},hv=(t,{json:e,lossy:r}={})=>{const n=[];return NL(!(e||r),!!e,new Map,n)(t),n},Ql=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?dv(hv(t,e)):structuredClone(t):(t,e)=>dv(hv(t,e));function SL(t,e){const r=[{type:"text",value:"â©"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function CL(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function AL(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||SL,n=t.options.footnoteBackLabel||CL,s=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),p=wc(h.toLowerCase());let f=0;const m=[],g=t.footnoteCounts.get(h);for(;g!==void 0&&++f<=g;){m.length>0&&m.push({type:"text",value:" "});let E=typeof r=="string"?r:r(l,f);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ql(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Tp=function(t){if(t==null)return PL;if(typeof t=="function")return kp(t);if(typeof t=="object")return Array.isArray(t)?jL(t):OL(t);if(typeof t=="string")return IL(t);throw new Error("Expected function, string, or object as test")};function jL(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=Tp(t[r]);return kp(n);function n(...s){let i=-1;for(;++i<e.length;)if(e[i].apply(this,s))return!0;return!1}}function OL(t){const e=t;return kp(r);function r(n){const s=n;let i;for(i in t)if(s[i]!==e[i])return!1;return!0}}function IL(t){return kp(e);function e(r){return r&&r.type===t}}function kp(t){return e;function e(r,n,s){return!!(RL(r)&&t.call(this,r,typeof n=="number"?n:void 0,s||void 0))}}function PL(){return!0}function RL(t){return t!==null&&typeof t=="object"&&"type"in t}const cN=[],DL=!0,N0=!1,ML="skip";function uN(t,e,r,n){let s;typeof e=="function"&&typeof r!="function"?(n=r,r=e):s=e;const i=Tp(s),a=n?-1:1;o(t,void 0,[])();function o(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f=cN,m,g,b;if((!e||i(l,u,d[d.length-1]||void 0))&&(f=LL(r(l,d)),f[0]===N0))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==ML)for(g=(n?y.children.length:-1)+a,b=d.concat(y);g>-1&&g<y.children.length;){const E=y.children[g];if(m=o(E,g,b)(),m[0]===N0)return m;g=typeof m[1]=="number"?m[1]:g+a}}return f}}}function LL(t){return Array.isArray(t)?t:typeof t=="number"?[DL,t]:t==null?cN:[t]}function Np(t,e,r,n){let s,i,a;typeof e=="function"&&typeof r!="function"?(i=void 0,a=e,s=r):(i=e,a=r,s=n),uN(t,i,o,s);function o(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return a(l,h,d)}}const S0={}.hasOwnProperty,FL={};function BL(t,e){const r=e||FL,n=new Map,s=new Map,i=new Map,a={..._L,...r.handlers},o={all:u,applyData:HL,definitionById:n,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:l,options:r,patch:UL,wrap:$L};return Np(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),o;function l(d,h){const p=d.type,f=o.handlers[p];if(S0.call(o.handlers,p)&&f)return f(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:g,...b}=d,y=Ql(b);return y.children=o.all(d),y}return Ql(d)}return(o.options.unknownHandler||zL)(o,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let f=-1;for(;++f<p.length;){const m=o.one(p[f],d);if(m){if(f&&p[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=fv(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=fv(g.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function UL(t,e){t.position&&(e.position=CR(t))}function HL(t,e){let r=e;if(t&&t.data){const n=t.data.hName,s=t.data.hChildren,i=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&i&&Object.assign(r.properties,Ql(i)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function zL(t,e){const r=e.data||{},n="value"in e&&!(S0.call(r,"hProperties")||S0.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $L(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function fv(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function pv(t,e){const r=BL(t,e),n=r.one(t,void 0),s=AL(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function VL(t,e){return t&&"run"in t?async function(r,n){const s=pv(r,{file:n,...e});await t.run(s,n)}:function(r,n){return pv(r,{file:n,...t||e})}}function mv(t){if(t)throw t}var jh=Object.prototype.hasOwnProperty,dN=Object.prototype.toString,gv=Object.defineProperty,xv=Object.getOwnPropertyDescriptor,bv=function(e){return typeof Array.isArray=="function"?Array.isArray(e):dN.call(e)==="[object Array]"},yv=function(e){if(!e||dN.call(e)!=="[object Object]")return!1;var r=jh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&jh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var s;for(s in e);return typeof s>"u"||jh.call(e,s)},vv=function(e,r){gv&&r.name==="__proto__"?gv(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},wv=function(e,r){if(r==="__proto__")if(jh.call(e,r)){if(xv)return xv(e,r).value}else return;return e[r]},qL=function t(){var e,r,n,s,i,a,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=wv(o,r),s=wv(e,r),o!==s&&(d&&s&&(yv(s)||(i=bv(s)))?(i?(i=!1,a=n&&bv(n)?n:[]):a=n&&yv(n)?n:{},vv(o,{name:r,newValue:t(d,a,s)})):typeof s<"u"&&vv(o,{name:r,newValue:s}));return o};const Sm=hc(qL);function C0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function WL(){const t=[],e={run:r,use:n};return e;function r(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...s);function o(l,...u){const d=t[++i];let h=-1;if(l){a(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?YL(d,o)(...u):a(null,...u)}}function n(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function YL(t,e){let r;return n;function n(...a){const o=t.length>a.length;let l;o&&a.push(s);try{l=t.apply(this,a)}catch(u){const d=u;if(o&&r)throw d;return s(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,s):l instanceof Error?s(l):i(l))}function s(a,...o){r||(r=!0,e(a,...o))}function i(a){s(null,a)}}const Vs={basename:GL,dirname:KL,extname:JL,join:XL,sep:"/"};function GL(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Td(t);let r=0,n=-1,s=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(i){r=s+1;break}}else n<0&&(i=!0,n=s+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,o=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(i){r=s+1;break}}else a<0&&(i=!0,a=s+1),o>-1&&(t.codePointAt(s)===e.codePointAt(o--)?o<0&&(n=s):(o=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function KL(t){if(Td(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function JL(t){Td(t);let e=t.length,r=-1,n=0,s=-1,i=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),o===46?s<0?s=e:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||r<0||i===0||i===1&&s===r-1&&s===n+1?"":t.slice(s,r)}function XL(...t){let e=-1,r;for(;++e<t.length;)Td(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":QL(r)}function QL(t){Td(t);const e=t.codePointAt(0)===47;let r=ZL(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function ZL(t,e){let r="",n=0,s=-1,i=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),s=a,i=0;continue}}else if(r.length>0){r="",n=0,s=a,i=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(s+1,a):r=t.slice(s+1,a),n=a-s-1;s=a,i=0}else o===46&&i>-1?i++:i=-1}return r}function Td(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const e6={cwd:t6};function t6(){return"/"}function A0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function r6(t){if(typeof t=="string")t=new URL(t);else if(!A0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return n6(t)}function n6(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Cm=["history","path","basename","stem","extname","dirname"];class hN{constructor(e){let r;e?A0(e)?r={path:e}:typeof e=="string"||s6(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":e6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Cm.length;){const i=Cm[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let s;for(s in r)Cm.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?Vs.basename(this.path):void 0}set basename(e){jm(e,"basename"),Am(e,"basename"),this.path=Vs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Vs.dirname(this.path):void 0}set dirname(e){_v(this.basename,"dirname"),this.path=Vs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Vs.extname(this.path):void 0}set extname(e){if(Am(e,"extname"),_v(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Vs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){A0(e)&&(e=r6(e)),jm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Vs.basename(this.path,this.extname):void 0}set stem(e){jm(e,"stem"),Am(e,"stem"),this.path=Vs.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const s=this.message(e,r,n);throw s.fatal=!0,s}info(e,r,n){const s=this.message(e,r,n);return s.fatal=void 0,s}message(e,r,n){const s=new rn(e,r,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Am(t,e){if(t&&t.includes(Vs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Vs.sep+"`")}function jm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _v(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function s6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const i6=function(t){const n=this.constructor.prototype,s=n[t],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},a6={}.hasOwnProperty;class kb extends i6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WL()}copy(){const e=new kb;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(Sm(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(Pm("data",this.frozen),this.namespace[e]=r,this):a6.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Pm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const s=r.call(e,...n);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=rh(e),n=this.parser||this.Parser;return Om("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),Om("process",this.parser||this.Parser),Im("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(i,a){const o=rh(e),l=n.parse(o);n.run(l,o,function(d,h,p){if(d||!h||!p)return u(d);const f=h,m=n.stringify(f,p);c6(m)?p.value=m:p.result=m,u(d,p)});function u(d,h){d||!h?a(d):i?i(h):r(void 0,h)}}}processSync(e){let r=!1,n;return this.freeze(),Om("processSync",this.parser||this.Parser),Im("processSync",this.compiler||this.Compiler),this.process(e,s),Tv("processSync","process",r),n;function s(i,a){r=!0,mv(i),n=a}}run(e,r,n){Ev(e),this.freeze();const s=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(a,o){const l=rh(r);s.run(e,l,u);function u(d,h,p){const f=h||e;d?o(d):a?a(f):n(void 0,f,p)}}}runSync(e,r){let n=!1,s;return this.run(e,r,i),Tv("runSync","run",n),s;function i(a,o){mv(a),s=o,n=!0}}stringify(e,r){this.freeze();const n=rh(r),s=this.compiler||this.Compiler;return Im("stringify",s),Ev(e),s(e,n)}use(e,...r){const n=this.attachers,s=this.namespace;if(Pm("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(s.settings=Sm(!0,s.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<n.length;)if(n[h][0]===u){p=h;break}if(p===-1)n.push([u,...d]);else if(d.length>0){let[f,...m]=d;const g=n[p][1];C0(g)&&C0(f)&&(f=Sm(!0,g,f)),n[p]=[u,f,...m]}}}}const o6=new kb().freeze();function Om(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Im(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Pm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ev(t){if(!C0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Tv(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function rh(t){return l6(t)?t:new hN(t)}function l6(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function c6(t){return typeof t=="string"||u6(t)}function u6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const d6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kv=[],Nv={allowDangerousHtml:!0},h6=/^(https?|ircs?|mailto|xmpp)$/i,f6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fN(t){const e=p6(t),r=m6(t);return g6(e.runSync(e.parse(r),r),t)}function p6(t){const e=t.rehypePlugins||kv,r=t.remarkPlugins||kv,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Nv}:Nv;return o6().use(JM).use(r).use(VL,n).use(e)}function m6(t){const e=t.children||"",r=new hN;return typeof e=="string"&&(r.value=e),r}function g6(t,e){const r=e.allowedElements,n=e.allowElement,s=e.components,i=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||x6;for(const d of f6)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+d6+d.id,void 0);return Np(t,u),PR(t,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return a?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let f;for(f in Tm)if(Object.hasOwn(Tm,f)&&Object.hasOwn(d.properties,f)){const m=d.properties[f],g=Tm[f];(g===null||g.includes(d.tagName))&&(d.properties[f]=l(String(m||""),f,d))}}if(d.type==="element"){let f=r?!r.includes(d.tagName):i?i.includes(d.tagName):!1;if(!f&&n&&typeof h=="number"&&(f=!n(d,h,p)),f&&p&&typeof h=="number")return o&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function x6(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||r!==-1&&e>r||n!==-1&&e>n||h6.test(t.slice(0,e))?t:""}function Sv(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,s=r.indexOf(e);for(;s!==-1;)n++,s=r.indexOf(e,s+e.length);return n}function b6(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function y6(t,e,r){const s=Tp((r||{}).ignore||[]),i=v6(e);let a=-1;for(;++a<i.length;)uN(t,"text",o);function o(u,d){let h=-1,p;for(;++h<d.length;){const f=d[h],m=p?p.children:void 0;if(s(f,m?m.indexOf(f):void 0,p))return;p=f}if(p)return l(u,d)}function l(u,d){const h=d[d.length-1],p=i[a][0],f=i[a][1];let m=0;const b=h.children.indexOf(u);let y=!1,E=[];p.lastIndex=0;let T=p.exec(u.value);for(;T;){const k=T.index,w={index:T.index,input:T.input,stack:[...d,u]};let v=f(...T,w);if(typeof v=="string"&&(v=v.length>0?{type:"text",value:v}:void 0),v===!1?p.lastIndex=k+1:(m!==k&&E.push({type:"text",value:u.value.slice(m,k)}),Array.isArray(v)?E.push(...v):v&&E.push(v),m=k+T[0].length,y=!0),!p.global)break;T=p.exec(u.value)}return y?(m<u.value.length&&E.push({type:"text",value:u.value.slice(m)}),h.children.splice(b,1,...E)):E=[u],b+E.length}}function v6(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let n=-1;for(;++n<r.length;){const s=r[n];e.push([w6(s[0]),_6(s[1])])}return e}function w6(t){return typeof t=="string"?new RegExp(b6(t),"g"):t}function _6(t){return typeof t=="function"?t:function(){return t}}const Rm="phrasing",Dm=["autolink","link","image","label"];function E6(){return{transforms:[j6],enter:{literalAutolink:k6,literalAutolinkEmail:Mm,literalAutolinkHttp:Mm,literalAutolinkWww:Mm},exit:{literalAutolink:A6,literalAutolinkEmail:C6,literalAutolinkHttp:N6,literalAutolinkWww:S6}}}function T6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Dm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Dm},{character:":",before:"[ps]",after:"\\/",inConstruct:Rm,notInConstruct:Dm}]}}function k6(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Mm(t){this.config.enter.autolinkProtocol.call(this,t)}function N6(t){this.config.exit.autolinkProtocol.call(this,t)}function S6(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function C6(t){this.config.exit.autolinkEmail.call(this,t)}function A6(t){this.exit(t)}function j6(t){y6(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,O6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),I6]],{ignore:["link","linkReference"]})}function O6(t,e,r,n,s){let i="";if(!pN(s)||(/^w/i.test(e)&&(r=e+r,e="",i="http://"),!P6(r)))return!1;const a=R6(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:i+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function I6(t,e,r,n){return!pN(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function P6(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function R6(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let r=e[0],n=r.indexOf(")");const s=Sv(t,"(");let i=Sv(t,")");for(;n!==-1&&s>i;)t+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[t,r]}function pN(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||Po(r)||wp(r))&&(!e||r!==47)}mN.peek=$6;function D6(){this.buffer()}function M6(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function L6(){this.buffer()}function F6(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function B6(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Is(this.sliceSerialize(t)).toLowerCase(),r.label=e}function U6(t){this.exit(t)}function H6(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Is(this.sliceSerialize(t)).toLowerCase(),r.label=e}function z6(t){this.exit(t)}function $6(){return"["}function mN(t,e,r,n){const s=r.createTracker(n);let i=s.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return i+=s.move(r.safe(r.associationId(t),{after:"]",before:i})),o(),a(),i+=s.move("]"),i}function V6(){return{enter:{gfmFootnoteCallString:D6,gfmFootnoteCall:M6,gfmFootnoteDefinitionLabelString:L6,gfmFootnoteDefinition:F6},exit:{gfmFootnoteCallString:B6,gfmFootnoteCall:U6,gfmFootnoteDefinitionLabelString:H6,gfmFootnoteDefinition:z6}}}function q6(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:r,footnoteReference:mN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,s,i,a){const o=i.createTracker(a);let l=o.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=o.move(i.safe(i.associationId(n),{before:l,after:"]"})),d(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+i.indentLines(i.containerFlow(n,o.current()),e?gN:W6))),u(),l}}function W6(t,e,r){return e===0?t:gN(t,e,r)}function gN(t,e,r){return(r?"":"    ")+t}const Y6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xN.peek=Q6;function G6(){return{canContainEols:["delete"],enter:{strikethrough:J6},exit:{strikethrough:X6}}}function K6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Y6}],handlers:{delete:xN}}}function J6(t){this.enter({type:"delete",children:[]},t)}function X6(t){this.exit(t)}function xN(t,e,r,n){const s=r.createTracker(n),i=r.enter("strikethrough");let a=s.move("~~");return a+=r.containerPhrasing(t,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function Q6(){return"~"}function Z6(t){return t.length}function e5(t,e){const r=e||{},n=(r.align||[]).concat(),s=r.stringLength||Z6,i=[],a=[],o=[],l=[];let u=0,d=-1;for(;++d<t.length;){const g=[],b=[];let y=-1;for(t[d].length>u&&(u=t[d].length);++y<t[d].length;){const E=t5(t[d][y]);if(r.alignDelimiters!==!1){const T=s(E);b[y]=T,(l[y]===void 0||T>l[y])&&(l[y]=T)}g.push(E)}a[d]=g,o[d]=b}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)i[h]=Cv(n[h]);else{const g=Cv(n);for(;++h<u;)i[h]=g}h=-1;const p=[],f=[];for(;++h<u;){const g=i[h];let b="",y="";g===99?(b=":",y=":"):g===108?b=":":g===114&&(y=":");let E=r.alignDelimiters===!1?1:Math.max(1,l[h]-b.length-y.length);const T=b+"-".repeat(E)+y;r.alignDelimiters!==!1&&(E=b.length+E+y.length,E>l[h]&&(l[h]=E),f[h]=E),p[h]=T}a.splice(1,0,p),o.splice(1,0,f),d=-1;const m=[];for(;++d<a.length;){const g=a[d],b=o[d];h=-1;const y=[];for(;++h<u;){const E=g[h]||"";let T="",k="";if(r.alignDelimiters!==!1){const w=l[h]-(b[h]||0),v=i[h];v===114?T=" ".repeat(w):v===99?w%2?(T=" ".repeat(w/2+.5),k=" ".repeat(w/2-.5)):(T=" ".repeat(w/2),k=T):k=" ".repeat(w)}r.delimiterStart!==!1&&!h&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&E==="")&&(r.delimiterStart!==!1||h)&&y.push(" "),r.alignDelimiters!==!1&&y.push(T),y.push(E),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||h!==u-1)&&y.push("|")}m.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function t5(t){return t==null?"":String(t)}function Cv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const Av={}.hasOwnProperty;function bN(t,e){const r=e||{};function n(s,...i){let a=n.invalid;const o=n.handlers;if(s&&Av.call(s,t)){const l=String(s[t]);a=Av.call(o,l)?o[l]:n.unknown}if(a)return a.call(this,s,...i)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function r5(t,e,r,n){const s=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const a=r.indentLines(r.containerFlow(t,i.current()),n5);return s(),a}function n5(t,e,r){return">"+(r?"":" ")+t}function s5(t,e){return jv(t,e.inConstruct,!0)&&!jv(t,e.notInConstruct,!1)}function jv(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function Ov(t,e,r,n){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&s5(r.stack,r.unsafe[s]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function i5(t,e){const r=String(t);let n=r.indexOf(e),s=n,i=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===s?++i>a&&(a=i):i=1,s=n+e.length,n=r.indexOf(e,s);return a}function a5(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function o5(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function l5(t,e,r,n){const s=o5(r),i=t.value||"",a=s==="`"?"GraveAccent":"Tilde";if(a5(t,r)){const h=r.enter("codeIndented"),p=r.indentLines(i,c5);return h(),p}const o=r.createTracker(n),l=s.repeat(Math.max(i5(i,s)+1,3)),u=r.enter("codeFenced");let d=o.move(l);if(t.lang){const h=r.enter(`codeFencedLang${a}`);d+=o.move(r.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(t.lang&&t.meta){const h=r.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(r.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),i&&(d+=o.move(i+`
`)),d+=o.move(l),u(),d}function c5(t,e,r){return(r?"":"    ")+t}function Nb(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function u5(t,e,r,n){const s=Nb(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=r.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(r.safe(t.title,{before:u,after:s,...l.current()})),u+=l.move(s),o()),a(),u}function d5(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ed(t){return"&#x"+t.toString(16).toUpperCase()+";"}function tf(t,e,r){const n=Xl(t),s=Xl(e);return n===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}yN.peek=h5;function yN(t,e,r,n){const s=d5(r),i=r.enter("emphasis"),a=r.createTracker(n),o=a.move(s);let l=a.move(r.containerPhrasing(t,{after:s,before:o,...a.current()}));const u=l.charCodeAt(0),d=tf(n.before.charCodeAt(n.before.length-1),u,s);d.inside&&(l=ed(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=tf(n.after.charCodeAt(0),h,s);p.inside&&(l=l.slice(0,-1)+ed(h));const f=a.move(s);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+f}function h5(t,e,r){return r.options.emphasis||"*"}function f5(t,e){let r=!1;return Np(t,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,N0}),!!((!t.depth||t.depth<3)&&bb(t)&&(e.options.setext||r))}function p5(t,e,r,n){const s=Math.max(Math.min(6,t.depth||1),1),i=r.createTracker(n);if(f5(t,r)){const d=r.enter("headingSetext"),h=r.enter("phrasing"),p=r.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(s===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(s),o=r.enter("headingAtx"),l=r.enter("phrasing");i.move(a+" ");let u=r.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=ed(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),l(),o(),u}vN.peek=m5;function vN(t){return t.value||""}function m5(){return"<"}wN.peek=g5;function wN(t,e,r,n){const s=Nb(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=r.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(r.safe(t.title,{before:u,after:s,...l.current()})),u+=l.move(s),o()),u+=l.move(")"),a(),u}function g5(){return"!"}_N.peek=x5;function _N(t,e,r,n){const s=t.referenceType,i=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const u=r.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(t),{before:l,after:"]",...o.current()});return a(),r.stack=d,i(),s==="full"||!u||u!==h?l+=o.move(h+"]"):s==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function x5(){return"!"}EN.peek=b5;function EN(t,e,r){let n=t.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(n);)s+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const a=r.unsafe[i],o=r.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return s+n+s}function b5(){return"`"}function TN(t,e){const r=bb(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}kN.peek=y5;function kN(t,e,r,n){const s=Nb(r),i=s==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,l;if(TN(t,r)){const d=r.stack;r.stack=[],o=r.enter("autolink");let h=a.move("<");return h+=a.move(r.containerPhrasing(t,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),r.stack=d,h}o=r.enter("link"),l=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=r.enter("destinationRaw"),u+=a.move(r.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=r.enter(`title${i}`),u+=a.move(" "+s),u+=a.move(r.safe(t.title,{before:u,after:s,...a.current()})),u+=a.move(s),l()),u+=a.move(")"),o(),u}function y5(t,e,r){return TN(t,r)?"<":"["}NN.peek=v5;function NN(t,e,r,n){const s=t.referenceType,i=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const u=r.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(t),{before:l,after:"]",...o.current()});return a(),r.stack=d,i(),s==="full"||!u||u!==h?l+=o.move(h+"]"):s==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function v5(){return"["}function Sb(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function w5(t){const e=Sb(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function _5(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function SN(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function E5(t,e,r,n){const s=r.enter("list"),i=r.bulletCurrent;let a=t.ordered?_5(r):Sb(r);const o=t.ordered?a==="."?")":".":w5(r);let l=e&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),SN(r)===a&&d){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),r.bulletCurrent=a;const u=r.containerFlow(t,n);return r.bulletLastUsed=a,r.bulletCurrent=i,s(),u}function T5(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function k5(t,e,r,n){const s=T5(r);let i=r.bulletCurrent||Sb(r);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(i+" ".repeat(a-i.length)),o.shift(a);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(t,o.current()),d);return l(),u;function d(h,p,f){return p?(f?"":" ".repeat(a))+h:(f?i:i+" ".repeat(a-i.length))+h}}function N5(t,e,r,n){const s=r.enter("paragraph"),i=r.enter("phrasing"),a=r.containerPhrasing(t,n);return i(),s(),a}const S5=Tp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function C5(t,e,r,n){return(t.children.some(function(a){return S5(a)})?r.containerPhrasing:r.containerFlow).call(r,t,n)}function A5(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}CN.peek=j5;function CN(t,e,r,n){const s=A5(r),i=r.enter("strong"),a=r.createTracker(n),o=a.move(s+s);let l=a.move(r.containerPhrasing(t,{after:s,before:o,...a.current()}));const u=l.charCodeAt(0),d=tf(n.before.charCodeAt(n.before.length-1),u,s);d.inside&&(l=ed(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=tf(n.after.charCodeAt(0),h,s);p.inside&&(l=l.slice(0,-1)+ed(h));const f=a.move(s+s);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+f}function j5(t,e,r){return r.options.strong||"*"}function O5(t,e,r,n){return r.safe(t.value,n)}function I5(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function P5(t,e,r){const n=(SN(r)+(r.options.ruleSpaces?" ":"")).repeat(I5(r));return r.options.ruleSpaces?n.slice(0,-1):n}const AN={blockquote:r5,break:Ov,code:l5,definition:u5,emphasis:yN,hardBreak:Ov,heading:p5,html:vN,image:wN,imageReference:_N,inlineCode:EN,link:kN,linkReference:NN,list:E5,listItem:k5,paragraph:N5,root:C5,strong:CN,text:O5,thematicBreak:P5};function R5(){return{enter:{table:D5,tableData:Iv,tableHeader:Iv,tableRow:L5},exit:{codeText:F5,table:M5,tableData:Lm,tableHeader:Lm,tableRow:Lm}}}function D5(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function M5(t){this.exit(t),this.data.inTable=void 0}function L5(t){this.enter({type:"tableRow",children:[]},t)}function Lm(t){this.exit(t)}function Iv(t){this.enter({type:"tableCell",children:[]},t)}function F5(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,B5));const r=this.stack[this.stack.length-1];r.type,r.value=e,this.exit(t)}function B5(t,e){return e==="|"?e:t}function U5(t){const e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,s=e.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:o}};function a(f,m,g,b){return u(d(f,g,b),f.align)}function o(f,m,g,b){const y=h(f,g,b),E=u([y]);return E.slice(0,E.indexOf(`
`))}function l(f,m,g,b){const y=g.enter("tableCell"),E=g.enter("phrasing"),T=g.containerPhrasing(f,{...b,before:i,after:i});return E(),y(),T}function u(f,m){return e5(f,{align:m,alignDelimiters:n,padding:r,stringLength:s})}function d(f,m,g){const b=f.children;let y=-1;const E=[],T=m.enter("table");for(;++y<b.length;)E[y]=h(b[y],m,g);return T(),E}function h(f,m,g){const b=f.children;let y=-1;const E=[],T=m.enter("tableRow");for(;++y<b.length;)E[y]=l(b[y],f,m,g);return T(),E}function p(f,m,g){let b=AN.inlineCode(f,m,g);return g.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function H5(){return{exit:{taskListCheckValueChecked:Pv,taskListCheckValueUnchecked:Pv,paragraph:$5}}}function z5(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:V5}}}function Pv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function $5(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const s=e.children;let i=-1,a;for(;++i<s.length;){const o=s[i];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function V5(t,e,r,n){const s=t.children[0],i=typeof t.checked=="boolean"&&s&&s.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=r.createTracker(n);i&&o.move(a);let l=AN.listItem(t,e,r,{...n,...o.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+a}}function q5(){return[E6(),V6(),G6(),R5(),H5()]}function W5(t){return{extensions:[T6(),q6(t),K6(),U5(t),z5()]}}const Y5={tokenize:Z5,partial:!0},jN={tokenize:eF,partial:!0},ON={tokenize:tF,partial:!0},IN={tokenize:rF,partial:!0},G5={tokenize:nF,partial:!0},PN={name:"wwwAutolink",tokenize:X5,previous:DN},RN={name:"protocolAutolink",tokenize:Q5,previous:MN},Li={name:"emailAutolink",tokenize:J5,previous:LN},ui={};function K5(){return{text:ui}}let qa=48;for(;qa<123;)ui[qa]=Li,qa++,qa===58?qa=65:qa===91&&(qa=97);ui[43]=Li;ui[45]=Li;ui[46]=Li;ui[95]=Li;ui[72]=[Li,RN];ui[104]=[Li,RN];ui[87]=[Li,PN];ui[119]=[Li,PN];function J5(t,e,r){const n=this;let s,i;return a;function a(h){return!j0(h)||!LN.call(n,n.previous)||Cb(n.events)?r(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(h))}function o(h){return j0(h)?(t.consume(h),o):h===64?(t.consume(h),l):r(h)}function l(h){return h===46?t.check(G5,d,u)(h):h===45||h===95||Qr(h)?(i=!0,t.consume(h),l):d(h)}function u(h){return t.consume(h),s=!0,l}function d(h){return i&&s&&gn(n.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):r(h)}}function X5(t,e,r){const n=this;return s;function s(a){return a!==87&&a!==119||!DN.call(n,n.previous)||Cb(n.events)?r(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Y5,t.attempt(jN,t.attempt(ON,i),r),r)(a))}function i(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Q5(t,e,r){const n=this;let s="",i=!1;return a;function a(h){return(h===72||h===104)&&MN.call(n,n.previous)&&!Cb(n.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(h),t.consume(h),o):r(h)}function o(h){if(gn(h)&&s.length<5)return s+=String.fromCodePoint(h),t.consume(h),o;if(h===58){const p=s.toLowerCase();if(p==="http"||p==="https")return t.consume(h),l}return r(h)}function l(h){return h===47?(t.consume(h),i?u:(i=!0,l)):r(h)}function u(h){return h===null||Zh(h)||wt(h)||Po(h)||wp(h)?r(h):t.attempt(jN,t.attempt(ON,d),r)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function Z5(t,e,r){let n=0;return s;function s(a){return(a===87||a===119)&&n<3?(n++,t.consume(a),s):a===46&&n===3?(t.consume(a),i):r(a)}function i(a){return a===null?r(a):e(a)}}function eF(t,e,r){let n,s,i;return a;function a(u){return u===46||u===95?t.check(IN,l,o)(u):u===null||wt(u)||Po(u)||u!==45&&wp(u)?l(u):(i=!0,t.consume(u),a)}function o(u){return u===95?n=!0:(s=n,n=void 0),t.consume(u),a}function l(u){return s||n||!i?r(u):e(u)}}function tF(t,e){let r=0,n=0;return s;function s(a){return a===40?(r++,t.consume(a),s):a===41&&n<r?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(IN,e,i)(a):a===null||wt(a)||Po(a)?e(a):(t.consume(a),s)}function i(a){return a===41&&n++,t.consume(a),s}}function rF(t,e,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),n):o===38?(t.consume(o),i):o===93?(t.consume(o),s):o===60||o===null||wt(o)||Po(o)?e(o):r(o)}function s(o){return o===null||o===40||o===91||wt(o)||Po(o)?e(o):n(o)}function i(o){return gn(o)?a(o):r(o)}function a(o){return o===59?(t.consume(o),n):gn(o)?(t.consume(o),a):r(o)}}function nF(t,e,r){return n;function n(i){return t.consume(i),s}function s(i){return Qr(i)?r(i):e(i)}}function DN(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||wt(t)}function MN(t){return!gn(t)}function LN(t){return!(t===47||j0(t))}function j0(t){return t===43||t===45||t===46||t===95||Qr(t)}function Cb(t){let e=t.length,r=!1;for(;e--;){const n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const sF={tokenize:hF,partial:!0};function iF(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cF,continuation:{tokenize:uF},exit:dF}},text:{91:{name:"gfmFootnoteCall",tokenize:lF},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aF,resolveTo:oF}}}}function aF(t,e,r){const n=this;let s=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;s--;){const l=n.events[s][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return r(l);const u=Is(n.sliceSerialize({start:a.end,end:n.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?r(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function oF(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[t[r+1],t[r+2],["enter",n,e],t[r+3],t[r+4],["enter",s,e],["exit",s,e],["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",n,e]];return t.splice(r,t.length-r+1,...o),t}function lF(t,e,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,a;return o;function o(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?r(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!a||h===null||h===91||wt(h))return r(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return s.includes(Is(n.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(h)}return wt(h)||(a=!0),i++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),i++,u):u(h)}}function cF(t,e,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,a=0,o;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):r(m)}function d(m){if(a>999||m===93&&!o||m===null||m===91||wt(m))return r(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return i=Is(n.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return wt(m)||(o=!0),a++,t.consume(m),m===92?h:d}function h(m){return m===91||m===92||m===93?(t.consume(m),a++,d):d(m)}function p(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),s.includes(i)||s.push(i),at(t,f,"gfmFootnoteDefinitionWhitespace")):r(m)}function f(m){return e(m)}}function uF(t,e,r){return t.check(Ed,e,t.attempt(sF,e,r))}function dF(t){t.exit("gfmFootnoteDefinition")}function hF(t,e,r){const n=this;return at(t,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(i):r(i)}}function fF(t){let r=(t||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:s};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function s(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",h,o]],f=o.parser.constructs.insideSpan.null;f&&Jn(p,p.length,0,_p(f,a.slice(u+1,l),o)),Jn(p,p.length,0,[["exit",h,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),Jn(a,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function i(a,o,l){const u=this.previous,d=this.events;let h=0;return p;function p(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const g=Xl(u);if(m===126)return h>1?l(m):(a.consume(m),h++,f);if(h<2&&!r)return l(m);const b=a.exit("strikethroughSequenceTemporary"),y=Xl(m);return b._open=!y||y===2&&!!g,b._close=!g||g===2&&!!y,o(m)}}}class pF{constructor(){this.map=[]}add(e,r,n){mF(this,e,r,n)}consume(e){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];n.push(e.slice()),e.length=0;let s=n.pop();for(;s;){for(const i of s)e.push(i);s=n.pop()}this.map.length=0}}function mF(t,e,r,n){let s=0;if(!(r===0&&n.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=r,t.map[s][2].push(...n);return}s+=1}t.map.push([e,r,n])}}function gF(t,e){let r=!1;const n=[];for(;e<t.length;){const s=t[e];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&n.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return n}function xF(){return{flow:{null:{name:"table",tokenize:bF,resolveAll:yF}}}}function bF(t,e,r){const n=this;let s=0,i=0,a;return o;function o(S){let U=n.events.length-1;for(;U>-1;){const Y=n.events[U][1].type;if(Y==="lineEnding"||Y==="linePrefix")U--;else break}const M=U>-1?n.events[U][1].type:null,$=M==="tableHead"||M==="tableRow"?v:l;return $===v&&n.parser.lazy[n.now().line]?r(S):$(S)}function l(S){return t.enter("tableHead"),t.enter("tableRow"),u(S)}function u(S){return S===124||(a=!0,i+=1),d(S)}function d(S){return S===null?r(S):ke(S)?i>1?(i=0,n.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),f):r(S):rt(S)?at(t,d,"whitespace")(S):(i+=1,a&&(a=!1,s+=1),S===124?(t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),a=!0,d):(t.enter("data"),h(S)))}function h(S){return S===null||S===124||wt(S)?(t.exit("data"),d(S)):(t.consume(S),S===92?p:h)}function p(S){return S===92||S===124?(t.consume(S),h):h(S)}function f(S){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(S):(t.enter("tableDelimiterRow"),a=!1,rt(S)?at(t,m,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):m(S))}function m(S){return S===45||S===58?b(S):S===124?(a=!0,t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),g):w(S)}function g(S){return rt(S)?at(t,b,"whitespace")(S):b(S)}function b(S){return S===58?(i+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(S),t.exit("tableDelimiterMarker"),y):S===45?(i+=1,y(S)):S===null||ke(S)?k(S):w(S)}function y(S){return S===45?(t.enter("tableDelimiterFiller"),E(S)):w(S)}function E(S){return S===45?(t.consume(S),E):S===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(S),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(S))}function T(S){return rt(S)?at(t,k,"whitespace")(S):k(S)}function k(S){return S===124?m(S):S===null||ke(S)?!a||s!==i?w(S):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(S)):w(S)}function w(S){return r(S)}function v(S){return t.enter("tableRow"),N(S)}function N(S){return S===124?(t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),N):S===null||ke(S)?(t.exit("tableRow"),e(S)):rt(S)?at(t,N,"whitespace")(S):(t.enter("data"),A(S))}function A(S){return S===null||S===124||wt(S)?(t.exit("data"),N(S)):(t.consume(S),S===92?I:A)}function I(S){return S===92||S===124?(t.consume(S),A):A(S)}}function yF(t,e){let r=-1,n=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,d,h;const p=new pF;for(;++r<t.length;){const f=t[r],m=f[1];f[0]==="enter"?m.type==="tableHead"?(o=!1,l!==0&&(Rv(p,e,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",u,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(n=!0,h=void 0,i=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",d,e]])),s=m.type==="tableDelimiterRow"?2:d?3:1):s&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],h=nh(p,e,i,s,void 0,h),i=[0,0,0,0]),a[2]=r)):m.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(a[0]=a[1],h=nh(p,e,i,s,void 0,h)),i=a,a=[i[1],r,0,0])):m.type==="tableHead"?(o=!0,l=r):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=r,i[1]!==0?(a[0]=a[1],h=nh(p,e,i,s,r,h)):a[1]!==0&&(h=nh(p,e,a,s,r,h)),s=0):s&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=r)}for(l!==0&&Rv(p,e,l,u,d),p.consume(e.events),r=-1;++r<e.events.length;){const f=e.events[r];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=gF(e.events,r))}return t}function nh(t,e,r,n,s,i){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(i.end=Object.assign({},fl(e.events,r[0])),t.add(r[0],0,[["exit",i,e]]));const l=fl(e.events,r[1]);if(i={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(r[1],0,[["enter",i,e]]),r[2]!==0){const u=fl(e.events,r[2]),d=fl(e.events,r[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(r[2],0,[["enter",h,e]]),n!==2){const p=e.events[r[2]],f=e.events[r[3]];if(p[1].end=Object.assign({},f[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const m=r[2]+1,g=r[3]-r[2]-1;t.add(m,g,[])}}t.add(r[3]+1,0,[["exit",h,e]])}return s!==void 0&&(i.end=Object.assign({},fl(e.events,s)),t.add(s,0,[["exit",i,e]]),i=void 0),i}function Rv(t,e,r,n,s){const i=[],a=fl(e.events,r);s&&(s.end=Object.assign({},a),i.push(["exit",s,e])),n.end=Object.assign({},a),i.push(["exit",n,e]),t.add(r+1,0,i)}function fl(t,e){const r=t[e],n=r[0]==="enter"?"start":"end";return r[1][n]}const vF={name:"tasklistCheck",tokenize:_F};function wF(){return{text:{91:vF}}}function _F(t,e,r){const n=this;return s;function s(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),i)}function i(l){return wt(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):r(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):r(l)}function o(l){return ke(l)?e(l):rt(l)?t.check({tokenize:EF},e,r)(l):r(l)}}function EF(t,e,r){return at(t,n,"whitespace");function n(s){return s===null?r(s):e(s)}}function TF(t){return qk([K5(),iF(),fF(t),xF(),wF()])}const kF={};function FN(t){const e=this,r=t||kF,n=e.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(TF(r)),i.push(q5()),a.push(W5(r))}const NF=()=>{const{slug:t}=lE(),{scrollReveal:e}=li(),[r,n]=D.useState(null),[s,i]=D.useState(null),[a,o]=D.useState(!0);D.useEffect(()=>{t&&(async()=>{try{o(!0);const[h,p]=await Promise.all([Ds.getAll(),Io.get()]),f=h.find(m=>m.slug===t);f?n(f):console.warn(`Blog post with slug "${t}" not found`),i(p)}catch(h){console.error("Error fetching blog post:",h)}finally{o(!1)}})()},[t]),D.useEffect(()=>{window.scrollTo(0,0)},[]),D.useEffect(()=>{r&&(e(".blog-header"),e(".blog-content"),e(".blog-sidebar"))},[r,e]);const l=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=d=>c.jsx("div",{className:"prose prose-invert max-w-none text-gray-300 leading-relaxed prose-headings:text-white prose-a:text-blue-400 prose-strong:text-white prose-code:text-blue-300 prose-pre:bg-gray-800 prose-pre:border prose-pre:border-gray-700 prose-p:text-base sm:text-lg prose-li:text-base sm:text-lg",children:c.jsx(fN,{remarkPlugins:[FN],children:d})});return a?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading blog post..."})]})}):r?c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsxs("title",{children:[r.title," - vctry4real"]}),c.jsx("meta",{name:"description",content:r.summary})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("div",{className:"blog-header opacity-0",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[c.jsxs(Nr,{to:"/blog",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-8 sm:mb-12 transition-colors duration-200",children:[c.jsx(ip,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Back to Blog"}),c.jsx("span",{className:"sm:hidden",children:"Blog"})]}),c.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.coverImage&&c.jsxs("div",{className:"relative mb-8 sm:mb-12",children:[c.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-48 sm:h-80 md:h-96 object-cover rounded-xl sm:rounded-2xl shadow-2xl",loading:"lazy",onError:d=>{const h=d.target;h.style.display="none"}}),r.featured&&c.jsx("div",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 bg-blue-600 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-medium shadow-lg",children:"Featured"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 text-gray-400 text-xs sm:text-sm mb-6 sm:mb-8 p-3 sm:p-4 bg-gray-800 rounded-xl",children:[r.createdAt&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l(r.createdAt)]}),r.readTime&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ea,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),r.readTime," min read"]}),c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:"By Victory Johnson"})})]}),c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 sm:mb-8 leading-tight",children:r.title}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-8 sm:mb-10 leading-relaxed max-w-3xl",children:r.summary}),r.tags&&r.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 mb-8 sm:mb-10",children:r.tags.map(d=>c.jsxs("span",{className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-800 text-gray-300 rounded-full text-xs sm:text-sm border border-gray-700 hover:border-blue-500 transition-colors duration-200",children:[c.jsx(Sx,{className:"w-3 h-3 mr-1 sm:mr-2"}),d]},d))}),c.jsxs("button",{className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors duration-200 px-3 sm:px-4 py-2 rounded-lg hover:bg-gray-800",children:[c.jsx($A,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Share this post"}),c.jsx("span",{className:"sm:hidden",children:"Share"})]})]})]})}),c.jsx("div",{className:"blog-content opacity-0",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 sm:pb-20",children:u(r.content)})}),c.jsx("div",{className:"blog-sidebar opacity-0",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 sm:pb-20",children:c.jsxs("div",{className:"bg-gray-800 rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 sm:mb-8",children:"About the Author"}),c.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6 mb-6 sm:mb-8",children:[s!=null&&s.image?c.jsx("img",{src:s.image,alt:s.alt||"Victory Johnson",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-4 border-gray-700"}):c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-700 border-4 border-gray-700 flex items-center justify-center",children:c.jsx("span",{className:"text-xl sm:text-2xl",children:"ð¤"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-semibold text-base sm:text-lg",children:"Victory Johnson"}),c.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Full-Stack Software Engineer"})]})]}),c.jsx("p",{className:"text-gray-300 leading-relaxed text-base sm:text-lg",children:"Passionate about building scalable applications and sharing knowledge with the developer community. With 4+ years of experience in full-stack development, I love exploring new technologies and helping others grow in their development journey."})]})})})]})]}):c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Post Not Found"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"The blog post you're looking for doesn't exist."}),c.jsx(Nr,{to:"/blog",className:"text-blue-400 hover:text-blue-300",children:"â Back to Blog"})]})})},SF=()=>{const{scrollReveal:t}=li(),[e,r]=D.useState(!1);D.useEffect(()=>{t(".appointments-header"),t(".appointments-content"),t(".appointments-features"),t(".consultation-card"),t(".benefits-section")},[]);const n=[{title:"Project Discussion",description:"Let's discuss your project requirements, timeline, and how we can bring your vision to life.",duration:"30 minutes",icon:"ð¼",gradient:"from-blue-500 to-cyan-500",features:["Requirements Analysis","Timeline Planning","Resource Allocation"]},{title:"Technical Consultation",description:"Get expert advice on technology choices, architecture decisions, and technical challenges.",duration:"45 minutes",icon:"âï¸",gradient:"from-purple-500 to-pink-500",features:["Architecture Review","Tech Stack Selection","Performance Optimization"]},{title:"Career Advice",description:"Discuss your career goals, skill development, and strategies for professional growth.",duration:"30 minutes",icon:"ð¯",gradient:"from-green-500 to-emerald-500",features:["Career Planning","Skill Development","Interview Prep"]},{title:"Code Review",description:"Get feedback on your code, learn best practices, and improve your development skills.",duration:"45 minutes",icon:"ð",gradient:"from-orange-500 to-red-500",features:["Code Quality","Best Practices","Security Review"]},{title:"General Inquiry",description:"Have a question? Let's chat about anything related to software development.",duration:"20 minutes",icon:"ð¬",gradient:"from-indigo-500 to-blue-500",features:["Q&A Session","Quick Tips","Resource Sharing"]}],s=["Free consultation - no cost to you","Flexible scheduling - choose your time","Expert advice from a senior developer","Personalized recommendations","Follow-up resources and materials"];return c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"Book Consultation - vctry4real"}),c.jsx("meta",{name:"description",content:"Schedule a free consultation call with Victory Johnson to discuss your project, get technical advice, or receive career guidance."})]}),c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl"})]}),c.jsx("div",{className:"relative z-10 pt-24 pb-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"appointments-header text-center mb-20 opacity-0",children:[c.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-sm border border-blue-500/20 rounded-full px-6 py-3 mb-8",children:[c.jsx(VA,{className:"w-5 h-5 text-blue-400"}),c.jsx("span",{className:"text-blue-300 font-medium",children:"Free Consultation Available"})]}),c.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6 bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Let's Work Together"}),c.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:"Schedule a free consultation to discuss your project, get technical advice, or receive career guidance. I'm here to help you succeed."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20",children:n.map((i,a)=>c.jsxs("div",{className:"consultation-card opacity-0 group relative overflow-hidden rounded-2xl p-8 bg-white/5 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/20",children:[c.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-500`}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"text-4xl mb-4",children:i.icon}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:i.title}),c.jsx("span",{className:"text-sm text-blue-400 bg-blue-500/20 backdrop-blur-sm px-3 py-1 rounded-full border border-blue-500/30",children:i.duration})]}),c.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:i.description}),c.jsx("div",{className:"space-y-2",children:i.features.map((o,l)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),c.jsx("span",{className:"text-sm text-gray-400",children:o})]},l))})]})]},a))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[c.jsx("div",{className:"appointments-content opacity-0",children:c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 h-fit",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:c.jsx(qA,{className:"w-6 h-6 text-white"})}),c.jsx("h3",{className:"text-2xl font-bold text-white",children:"What You'll Get"})]}),c.jsx("div",{className:"space-y-4",children:s.map((i,a)=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[c.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:c.jsx(Ul,{className:"w-4 h-4 text-green-400"})}),c.jsx("span",{className:"text-gray-200 font-medium",children:i})]},a))})]})}),c.jsx("div",{className:"appointments-features opacity-0",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-purple-600/20 backdrop-blur-xl border border-blue-500/20 rounded-2xl p-8 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5"}),c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl mx-auto mb-6 shadow-lg",children:c.jsx(Or,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Get Started?"}),c.jsx("p",{className:"text-blue-200 text-lg",children:"Book your free consultation call and let's discuss how we can work together."})]}),c.jsxs("div",{className:"mb-8 p-6 bg-white/10 rounded-xl border border-white/10",children:[c.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[c.jsx(Ea,{className:"w-5 h-5 mr-2 text-blue-400"}),"Availability"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Days"}),c.jsx("span",{className:"text-white font-medium",children:"Monday - Friday"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Hours"}),c.jsx("span",{className:"text-white font-medium",children:"9:00 AM - 6:00 PM PST"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Duration"}),c.jsx("span",{className:"text-white font-medium",children:"30-minute slots"})]})]})]}),c.jsxs(K,{onClick:()=>r(!0),size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[c.jsx(Y_,{className:"w-5 h-5 mr-2"}),"Book Free Consultation"]}),c.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 backdrop-blur-sm border border-blue-500/20 rounded-xl",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(To,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-blue-300 font-medium mb-1",children:"What to Expect"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"After booking, you'll receive a calendar invite and meeting link. The consultation will be conducted via video call or phone, whichever you prefer."})]})]})})]})]})})]}),c.jsxs("div",{className:"benefits-section opacity-0",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Why Choose a Consultation?"}),c.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get personalized, expert guidance tailored to your specific needs and goals."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 hover:border-white/20 transition-all duration-300 hover:scale-105 group",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:c.jsx(Bu,{className:"w-8 h-8 text-white"})}),c.jsx("h4",{className:"text-xl font-bold text-white mb-4 text-center",children:"Personalized Advice"}),c.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:"Get tailored recommendations based on your specific situation and goals."})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 hover:border-white/20 transition-all duration-300 hover:scale-105 group",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:c.jsx(Sg,{className:"w-8 h-8 text-white"})}),c.jsx("h4",{className:"text-xl font-bold text-white mb-4 text-center",children:"Direct Communication"}),c.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:"Ask questions and get immediate feedback in a one-on-one conversation."})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 hover:border-white/20 transition-all duration-300 hover:scale-105 group",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:c.jsx(Ul,{className:"w-8 h-8 text-white"})}),c.jsx("h4",{className:"text-xl font-bold text-white mb-4 text-center",children:"Actionable Insights"}),c.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:"Walk away with concrete next steps and a clear path forward."})]})]})]})]})}),c.jsx(Ck,{isOpen:e,onClose:()=>r(!1)})]})]})},CF=()=>c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"Terms of Service - vctry4real"}),c.jsx("meta",{name:"description",content:"Freelancer Terms & Conditions for Victory Johnson's services."})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Terms of Service"})})})}),c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 border border-gray-700",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"FREELANCER TERMS & CONDITIONS"}),c.jsxs("p",{className:"text-gray-400",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),c.jsx("div",{className:"prose prose-invert max-w-none",children:c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"1. Commencement of Agreement"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"This agreement becomes effective once both parties confirm acceptance. The effective date will be noted at the top of the agreement."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"2. Independent Contractor Status"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"I operate as an independent contractor, not an employee. I provide my own tools, manage my own process, and deliver services as agreed."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"3. Scope of Work"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"The scope of services, deliverables, and timelines will be clearly defined at the start of each project. Any work outside this scope will be treated as a separate engagement and quoted accordingly."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"4. Payment Terms"}),c.jsxs("ul",{className:"text-gray-300 leading-relaxed space-y-2 ml-6",children:[c.jsx("li",{children:"â¢ A 60% deposit is required before any work begins."}),c.jsx("li",{children:"â¢ Milestone payments are due upon completion of agreed stages."}),c.jsx("li",{children:"â¢ Final deliverables are released once the balance is paid in full."})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"5. Project Timelines"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Each milestone or deliverable will have a defined deadline. If information, materials, or feedback from the client are delayed, timelines will shift accordingly."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"6. Revisions"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"The project includes a specified number of revisions, outlined in the project proposal. Additional revisions beyond this number will be billed separately."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"7. Ownership and Rights"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Ownership of the final deliverables transfers to the client only after full payment is received. Until then, all rights remain with me. Drafts and unused concepts suggested by me are not included in ownership transfer and may be repurposed."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"8. Confidentiality"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All confidential information shared during the project will remain private. I will not disclose or use such information outside the scope of this agreement."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"9. Cancellation and Early Termination"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"If the client cancels before project completion, the deposit is non-refundable. Payment for work completed up to the cancellation date will also be due. Either party may terminate this agreement with seven (7) days written notice."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"10. Governing Law"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"This agreement shall be governed by the laws of my country of residence, unless otherwise agreed in writing."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"11. Amendments"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Any changes to this agreement must be made in writing and approved by both parties."})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"12. Communication"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All communication regarding the project will be conducted via email or other agreed channels. I am available during standard business hours and will respond promptly to project-related matters."})]})]})}),c.jsx("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center",children:c.jsxs("p",{className:"text-gray-400 text-sm",children:["For questions about these terms, please contact"," ",c.jsx("a",{href:"mailto:victoryjohnson@vctry4real.dev",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"victoryjohnson@vctry4real.dev"})]})})]})})]})]}),BN=()=>{const[t,e]=D.useState(null),[r,n]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const{data:{session:i}}=await qe.auth.getSession();e((i==null?void 0:i.user)??null)}catch{console.warn("Authentication not configured. Using mock session."),e(null)}finally{n(!1)}})();try{const{data:{subscription:i}}=qe.auth.onAuthStateChange(async(a,o)=>{e((o==null?void 0:o.user)??null),n(!1)});return()=>i.unsubscribe()}catch{return console.warn("Authentication not configured. Using mock auth state."),n(!1),()=>{}}},[]),{user:t,loading:r}};var kd=t=>t.type==="checkbox",ro=t=>t instanceof Date,fn=t=>t==null;const UN=t=>typeof t=="object";var Zt=t=>!fn(t)&&!Array.isArray(t)&&UN(t)&&!ro(t),AF=t=>Zt(t)&&t.target?kd(t.target)?t.target.checked:t.target.value:t,jF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,OF=(t,e)=>t.has(jF(e)),IF=t=>{const e=t.constructor&&t.constructor.prototype;return Zt(e)&&e.hasOwnProperty("isPrototypeOf")},Ab=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ab&&(t instanceof Blob||n))&&(r||Zt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!IF(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Rt(t[s]));else return t;return e}var Sp=t=>/^\w*$/.test(t),Dt=t=>t===void 0,Cp=t=>Array.isArray(t)?t.filter(Boolean):[],jb=t=>Cp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),de=(t,e,r)=>{if(!e||!Zt(t))return r;const n=(Sp(e)?[e]:jb(e)).reduce((s,i)=>fn(s)?s:s[i],t);return Dt(n)||n===t?Dt(t[e])?r:t[e]:n},Js=t=>typeof t=="boolean",mt=(t,e,r)=>{let n=-1;const s=Sp(e)?[e]:jb(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const u=t[o];l=Zt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Dv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HN=Ae.createContext(null);HN.displayName="HookFormContext";const PF=()=>Ae.useContext(HN);var RF=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==us.all&&(e._proxyFormState[a]=!n||us.all),t[a]}});return s};const zN=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;var ti=t=>typeof t=="string",DF=(t,e,r,n,s)=>ti(t)?(n&&e.watch.add(t),de(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),de(r,i))):(n&&(e.watchAll=!0),r),O0=t=>fn(t)||!UN(t);function ta(t,e,r=new WeakSet){if(O0(t)||O0(e))return t===e;if(ro(t)&&ro(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ro(a)&&ro(o)||Zt(a)&&Zt(o)||Array.isArray(a)&&Array.isArray(o)?!ta(a,o,r):a!==o)return!1}}return!0}var $N=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Cn=t=>Array.isArray(t)?t:[t],Mv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},un=t=>Zt(t)&&!Object.keys(t).length,Ob=t=>t.type==="file",Ss=t=>typeof t=="function",rf=t=>{if(!Ab)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},VN=t=>t.type==="select-multiple",Ib=t=>t.type==="radio",MF=t=>Ib(t)||kd(t),Fm=t=>rf(t)&&t.isConnected;function LF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Dt(t)?n++:t[e[n++]];return t}function FF(t){for(const e in t)if(t.hasOwnProperty(e)&&!Dt(t[e]))return!1;return!0}function Kt(t,e){const r=Array.isArray(e)?e:Sp(e)?[e]:jb(e),n=r.length===1?t:LF(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Zt(n)&&un(n)||Array.isArray(n)&&FF(n))&&Kt(t,r.slice(0,-1)),t}var qN=t=>{for(const e in t)if(Ss(t[e]))return!0;return!1};function nf(t,e={}){const r=Array.isArray(t);if(Zt(t)||r)for(const n in t)Array.isArray(t[n])||Zt(t[n])&&!qN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},nf(t[n],e[n])):fn(t[n])||(e[n]=!0);return e}function WN(t,e,r){const n=Array.isArray(t);if(Zt(t)||n)for(const s in t)Array.isArray(t[s])||Zt(t[s])&&!qN(t[s])?Dt(e)||O0(r[s])?r[s]=Array.isArray(t[s])?nf(t[s],[]):{...nf(t[s])}:WN(t[s],fn(e)?{}:e[s],r[s]):r[s]=!ta(t[s],e[s]);return r}var Bc=(t,e)=>WN(t,e,nf(e));const Lv={value:!1,isValid:!1},Fv={value:!0,isValid:!0};var YN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Dt(t[0].attributes.value)?Dt(t[0].value)||t[0].value===""?Fv:{value:t[0].value,isValid:!0}:Fv:Lv}return Lv},GN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Dt(t)?t:e?t===""?NaN:t&&+t:r&&ti(t)?new Date(t):n?n(t):t;const Bv={isValid:!1,value:null};var KN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Bv):Bv;function Uv(t){const e=t.ref;return Ob(e)?e.files:Ib(e)?KN(t.refs).value:VN(e)?[...e.selectedOptions].map(({value:r})=>r):kd(e)?YN(t.refs).value:GN(Dt(e.value)?t.ref.value:e.value,t)}var BF=(t,e,r,n)=>{const s={};for(const i of t){const a=de(e,i);a&&mt(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},sf=t=>t instanceof RegExp,Uc=t=>Dt(t)?t:sf(t)?t.source:Zt(t)?sf(t.value)?t.value.source:t.value:t,_l=t=>({isOnSubmit:!t||t===us.onSubmit,isOnBlur:t===us.onBlur,isOnChange:t===us.onChange,isOnAll:t===us.all,isOnTouch:t===us.onTouched});const Hv="AsyncFunction";var UF=t=>!!t&&!!t.validate&&!!(Ss(t.validate)&&t.validate.constructor.name===Hv||Zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Hv)),HF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),I0=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Rl=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=de(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Rl(o,e))break}else if(Zt(o)&&Rl(o,e))break}}};function zv(t,e,r){const n=de(t,r);if(n||Sp(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=de(e,i),o=de(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var zF=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return un(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||us.all))},$F=(t,e,r)=>!t||!e||t===e||Cn(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),VF=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,qF=(t,e)=>!Cp(de(t,e)).length&&Kt(t,e),JN=(t,e,r)=>{const n=Cn(de(t,r));return mt(n,"root",e[r]),mt(t,r,n),t},Oh=t=>ti(t);function $v(t,e,r="validate"){if(Oh(t)||Array.isArray(t)&&t.every(Oh)||Js(t)&&!t)return{type:r,message:Oh(t)?t:"",ref:e}}var al=t=>Zt(t)&&!sf(t)?t:{value:t,message:""},P0=async(t,e,r,n,s,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:m,name:g,valueAsNumber:b,mount:y}=t._f,E=de(r,g);if(!y||e.has(g))return{};const T=o?o[0]:a,k=M=>{s&&T.reportValidity&&(T.setCustomValidity(Js(M)?"":M||""),T.reportValidity())},w={},v=Ib(a),N=kd(a),A=v||N,I=(b||Ob(a))&&Dt(a.value)&&Dt(E)||rf(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,S=$N.bind(null,g,n,w),U=(M,$,Y,G=pi.maxLength,J=pi.minLength)=>{const Z=M?$:Y;w[g]={type:M?G:J,message:Z,ref:a,...S(M?G:J,Z)}};if(i?!Array.isArray(E)||!E.length:l&&(!A&&(I||fn(E))||Js(E)&&!E||N&&!YN(o).isValid||v&&!KN(o).isValid)){const{value:M,message:$}=Oh(l)?{value:!!l,message:l}:al(l);if(M&&(w[g]={type:pi.required,message:$,ref:T,...S(pi.required,$)},!n))return k($),w}if(!I&&(!fn(h)||!fn(p))){let M,$;const Y=al(p),G=al(h);if(!fn(E)&&!isNaN(E)){const J=a.valueAsNumber||E&&+E;fn(Y.value)||(M=J>Y.value),fn(G.value)||($=J<G.value)}else{const J=a.valueAsDate||new Date(E),Z=_=>new Date(new Date().toDateString()+" "+_),ee=a.type=="time",je=a.type=="week";ti(Y.value)&&E&&(M=ee?Z(E)>Z(Y.value):je?E>Y.value:J>new Date(Y.value)),ti(G.value)&&E&&($=ee?Z(E)<Z(G.value):je?E<G.value:J<new Date(G.value))}if((M||$)&&(U(!!M,Y.message,G.message,pi.max,pi.min),!n))return k(w[g].message),w}if((u||d)&&!I&&(ti(E)||i&&Array.isArray(E))){const M=al(u),$=al(d),Y=!fn(M.value)&&E.length>+M.value,G=!fn($.value)&&E.length<+$.value;if((Y||G)&&(U(Y,M.message,$.message),!n))return k(w[g].message),w}if(f&&!I&&ti(E)){const{value:M,message:$}=al(f);if(sf(M)&&!E.match(M)&&(w[g]={type:pi.pattern,message:$,ref:a,...S(pi.pattern,$)},!n))return k($),w}if(m){if(Ss(m)){const M=await m(E,r),$=$v(M,T);if($&&(w[g]={...$,...S(pi.validate,$.message)},!n))return k($.message),w}else if(Zt(m)){let M={};for(const $ in m){if(!un(M)&&!n)break;const Y=$v(await m[$](E,r),T,$);Y&&(M={...Y,...S($,Y.message)},k(Y.message),n&&(w[g]=M))}if(!un(M)&&(w[g]={ref:T,...M},!n))return w}}return k(!0),w};const WF={mode:us.onSubmit,reValidateMode:us.onChange,shouldFocusError:!0};function YF(t={}){let e={...WF,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ss(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Zt(e.defaultValues)||Zt(e.values)?Rt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Rt(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:Mv(),state:Mv()},f=e.criteriaMode===us.all,m=R=>F=>{clearTimeout(u),u=setTimeout(R,F)},g=async R=>{if(!e.disabled&&(d.isValid||h.isValid||R)){const F=e.resolver?un((await N()).errors):await I(n,!0);F!==r.isValid&&p.state.next({isValid:F})}},b=(R,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((R||Array.from(o.mount)).forEach(q=>{q&&(F?mt(r.validatingFields,q,F):Kt(r.validatingFields,q))}),p.state.next({validatingFields:r.validatingFields,isValidating:!un(r.validatingFields)}))},y=(R,F=[],q,ce,oe=!0,X=!0)=>{if(ce&&q&&!e.disabled){if(a.action=!0,X&&Array.isArray(de(n,R))){const L=q(de(n,R),ce.argA,ce.argB);oe&&mt(n,R,L)}if(X&&Array.isArray(de(r.errors,R))){const L=q(de(r.errors,R),ce.argA,ce.argB);oe&&mt(r.errors,R,L),qF(r.errors,R)}if((d.touchedFields||h.touchedFields)&&X&&Array.isArray(de(r.touchedFields,R))){const L=q(de(r.touchedFields,R),ce.argA,ce.argB);oe&&mt(r.touchedFields,R,L)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Bc(s,i)),p.state.next({name:R,isDirty:U(R,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mt(i,R,F)},E=(R,F)=>{mt(r.errors,R,F),p.state.next({errors:r.errors})},T=R=>{r.errors=R,p.state.next({errors:r.errors,isValid:!1})},k=(R,F,q,ce)=>{const oe=de(n,R);if(oe){const X=de(i,R,Dt(q)?de(s,R):q);Dt(X)||ce&&ce.defaultChecked||F?mt(i,R,F?X:Uv(oe._f)):Y(R,X),a.mount&&g()}},w=(R,F,q,ce,oe)=>{let X=!1,L=!1;const W={name:R};if(!e.disabled){if(!q||ce){(d.isDirty||h.isDirty)&&(L=r.isDirty,r.isDirty=W.isDirty=U(),X=L!==W.isDirty);const le=ta(de(s,R),F);L=!!de(r.dirtyFields,R),le?Kt(r.dirtyFields,R):mt(r.dirtyFields,R,!0),W.dirtyFields=r.dirtyFields,X=X||(d.dirtyFields||h.dirtyFields)&&L!==!le}if(q){const le=de(r.touchedFields,R);le||(mt(r.touchedFields,R,q),W.touchedFields=r.touchedFields,X=X||(d.touchedFields||h.touchedFields)&&le!==q)}X&&oe&&p.state.next(W)}return X?W:{}},v=(R,F,q,ce)=>{const oe=de(r.errors,R),X=(d.isValid||h.isValid)&&Js(F)&&r.isValid!==F;if(e.delayError&&q?(l=m(()=>E(R,q)),l(e.delayError)):(clearTimeout(u),l=null,q?mt(r.errors,R,q):Kt(r.errors,R)),(q?!ta(oe,q):oe)||!un(ce)||X){const L={...ce,...X&&Js(F)?{isValid:F}:{},errors:r.errors,name:R};r={...r,...L},p.state.next(L)}},N=async R=>{b(R,!0);const F=await e.resolver(i,e.context,BF(R||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(R),F},A=async R=>{const{errors:F}=await N(R);if(R)for(const q of R){const ce=de(F,q);ce?mt(r.errors,q,ce):Kt(r.errors,q)}else r.errors=F;return F},I=async(R,F,q={valid:!0})=>{for(const ce in R){const oe=R[ce];if(oe){const{_f:X,...L}=oe;if(X){const W=o.array.has(X.name),le=oe._f&&UF(oe._f);le&&d.validatingFields&&b([ce],!0);const ye=await P0(oe,o.disabled,i,f,e.shouldUseNativeValidation&&!F,W);if(le&&d.validatingFields&&b([ce]),ye[X.name]&&(q.valid=!1,F))break;!F&&(de(ye,X.name)?W?JN(r.errors,ye,X.name):mt(r.errors,X.name,ye[X.name]):Kt(r.errors,X.name))}!un(L)&&await I(L,F,q)}}return q.valid},S=()=>{for(const R of o.unMount){const F=de(n,R);F&&(F._f.refs?F._f.refs.every(q=>!Fm(q)):!Fm(F._f.ref))&&Se(R)}o.unMount=new Set},U=(R,F)=>!e.disabled&&(R&&F&&mt(i,R,F),!ta(_(),s)),M=(R,F,q)=>DF(R,o,{...a.mount?i:Dt(F)?s:ti(R)?{[R]:F}:F},q,F),$=R=>Cp(de(a.mount?i:s,R,e.shouldUnregister?de(s,R,[]):[])),Y=(R,F,q={})=>{const ce=de(n,R);let oe=F;if(ce){const X=ce._f;X&&(!X.disabled&&mt(i,R,GN(F,X)),oe=rf(X.ref)&&fn(F)?"":F,VN(X.ref)?[...X.ref.options].forEach(L=>L.selected=oe.includes(L.value)):X.refs?kd(X.ref)?X.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(oe)?L.checked=!!oe.find(W=>W===L.value):L.checked=oe===L.value||!!oe)}):X.refs.forEach(L=>L.checked=L.value===oe):Ob(X.ref)?X.ref.value="":(X.ref.value=oe,X.ref.type||p.state.next({name:R,values:Rt(i)})))}(q.shouldDirty||q.shouldTouch)&&w(R,oe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&je(R)},G=(R,F,q)=>{for(const ce in F){if(!F.hasOwnProperty(ce))return;const oe=F[ce],X=R+"."+ce,L=de(n,X);(o.array.has(R)||Zt(oe)||L&&!L._f)&&!ro(oe)?G(X,oe,q):Y(X,oe,q)}},J=(R,F,q={})=>{const ce=de(n,R),oe=o.array.has(R),X=Rt(F);mt(i,R,X),oe?(p.array.next({name:R,values:Rt(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&q.shouldDirty&&p.state.next({name:R,dirtyFields:Bc(s,i),isDirty:U(R,X)})):ce&&!ce._f&&!fn(X)?G(R,X,q):Y(R,X,q),I0(R,o)&&p.state.next({...r,name:R}),p.state.next({name:a.mount?R:void 0,values:Rt(i)})},Z=async R=>{a.mount=!0;const F=R.target;let q=F.name,ce=!0;const oe=de(n,q),X=le=>{ce=Number.isNaN(le)||ro(le)&&isNaN(le.getTime())||ta(le,de(i,q,le))},L=_l(e.mode),W=_l(e.reValidateMode);if(oe){let le,ye;const Fe=F.type?Uv(oe._f):AF(R),Tt=R.type===Dv.BLUR||R.type===Dv.FOCUS_OUT,ft=!HF(oe._f)&&!e.resolver&&!de(r.errors,q)&&!oe._f.deps||VF(Tt,de(r.touchedFields,q),r.isSubmitted,W,L),xr=I0(q,o,Tt);mt(i,q,Fe),Tt?(!F||!F.readOnly)&&(oe._f.onBlur&&oe._f.onBlur(R),l&&l(0)):oe._f.onChange&&oe._f.onChange(R);const dr=w(q,Fe,Tt),wn=!un(dr)||xr;if(!Tt&&p.state.next({name:q,type:R.type,values:Rt(i)}),ft)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Tt&&g():Tt||g()),wn&&p.state.next({name:q,...xr?{}:dr});if(!Tt&&xr&&p.state.next({...r}),e.resolver){const{errors:Lt}=await N([q]);if(X(Fe),ce){const Rr=zv(r.errors,n,q),nr=zv(Lt,n,Rr.name||q);le=nr.error,q=nr.name,ye=un(Lt)}}else b([q],!0),le=(await P0(oe,o.disabled,i,f,e.shouldUseNativeValidation))[q],b([q]),X(Fe),ce&&(le?ye=!1:(d.isValid||h.isValid)&&(ye=await I(n,!0)));ce&&(oe._f.deps&&je(oe._f.deps),v(q,ye,le,dr))}},ee=(R,F)=>{if(de(r.errors,F)&&R.focus)return R.focus(),1},je=async(R,F={})=>{let q,ce;const oe=Cn(R);if(e.resolver){const X=await A(Dt(R)?R:oe);q=un(X),ce=R?!oe.some(L=>de(X,L)):q}else R?(ce=(await Promise.all(oe.map(async X=>{const L=de(n,X);return await I(L&&L._f?{[X]:L}:L)}))).every(Boolean),!(!ce&&!r.isValid)&&g()):ce=q=await I(n);return p.state.next({...!ti(R)||(d.isValid||h.isValid)&&q!==r.isValid?{}:{name:R},...e.resolver||!R?{isValid:q}:{},errors:r.errors}),F.shouldFocus&&!ce&&Rl(n,ee,R?oe:o.mount),ce},_=R=>{const F={...a.mount?i:s};return Dt(R)?F:ti(R)?de(F,R):R.map(q=>de(F,q))},Ie=(R,F)=>({invalid:!!de((F||r).errors,R),isDirty:!!de((F||r).dirtyFields,R),error:de((F||r).errors,R),isValidating:!!de(r.validatingFields,R),isTouched:!!de((F||r).touchedFields,R)}),Oe=R=>{R&&Cn(R).forEach(F=>Kt(r.errors,F)),p.state.next({errors:R?r.errors:{}})},P=(R,F,q)=>{const ce=(de(n,R,{_f:{}})._f||{}).ref,oe=de(r.errors,R)||{},{ref:X,message:L,type:W,...le}=oe;mt(r.errors,R,{...le,...F,ref:ce}),p.state.next({name:R,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ce&&ce.focus&&ce.focus()},Ne=(R,F)=>Ss(R)?p.state.subscribe({next:q=>"values"in q&&R(M(void 0,F),q)}):M(R,F,!0),ot=R=>p.state.subscribe({next:F=>{$F(R.name,F.name,R.exact)&&zF(F,R.formState||d,z,R.reRenderRoot)&&R.callback({values:{...i},...r,...F,defaultValues:s})}}).unsubscribe,We=R=>(a.mount=!0,h={...h,...R.formState},ot({...R,formState:h})),Se=(R,F={})=>{for(const q of R?Cn(R):o.mount)o.mount.delete(q),o.array.delete(q),F.keepValue||(Kt(n,q),Kt(i,q)),!F.keepError&&Kt(r.errors,q),!F.keepDirty&&Kt(r.dirtyFields,q),!F.keepTouched&&Kt(r.touchedFields,q),!F.keepIsValidating&&Kt(r.validatingFields,q),!e.shouldUnregister&&!F.keepDefaultValue&&Kt(s,q);p.state.next({values:Rt(i)}),p.state.next({...r,...F.keepDirty?{isDirty:U()}:{}}),!F.keepIsValid&&g()},ht=({disabled:R,name:F})=>{(Js(R)&&a.mount||R||o.disabled.has(F))&&(R?o.disabled.add(F):o.disabled.delete(F))},ct=(R,F={})=>{let q=de(n,R);const ce=Js(F.disabled)||Js(e.disabled);return mt(n,R,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:R}},name:R,mount:!0,...F}}),o.mount.add(R),q?ht({disabled:Js(F.disabled)?F.disabled:e.disabled,name:R}):k(R,!0,F.value),{...ce?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Uc(F.min),max:Uc(F.max),minLength:Uc(F.minLength),maxLength:Uc(F.maxLength),pattern:Uc(F.pattern)}:{},name:R,onChange:Z,onBlur:Z,ref:oe=>{if(oe){ct(R,F),q=de(n,R);const X=Dt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,L=MF(X),W=q._f.refs||[];if(L?W.find(le=>le===X):X===q._f.ref)return;mt(n,R,{_f:{...q._f,...L?{refs:[...W.filter(Fm),X,...Array.isArray(de(s,R))?[{}]:[]],ref:{type:X.type,name:R}}:{ref:X}}}),k(R,!1,void 0,X)}else q=de(n,R,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(OF(o.array,R)&&a.action)&&o.unMount.add(R)}}},jt=()=>e.shouldFocusError&&Rl(n,ee,o.mount),_t=R=>{Js(R)&&(p.state.next({disabled:R}),Rl(n,(F,q)=>{const ce=de(n,q);ce&&(F.disabled=ce._f.disabled||R,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(oe=>{oe.disabled=ce._f.disabled||R}))},0,!1))},Ot=(R,F)=>async q=>{let ce;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let oe=Rt(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:L}=await N();r.errors=X,oe=Rt(L)}else await I(n);if(o.disabled.size)for(const X of o.disabled)Kt(oe,X);if(Kt(r.errors,"root"),un(r.errors)){p.state.next({errors:{}});try{await R(oe,q)}catch(X){ce=X}}else F&&await F({...r.errors},q),jt(),setTimeout(jt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:un(r.errors)&&!ce,submitCount:r.submitCount+1,errors:r.errors}),ce)throw ce},Ze=(R,F={})=>{de(n,R)&&(Dt(F.defaultValue)?J(R,Rt(de(s,R))):(J(R,F.defaultValue),mt(s,R,Rt(F.defaultValue))),F.keepTouched||Kt(r.touchedFields,R),F.keepDirty||(Kt(r.dirtyFields,R),r.isDirty=F.defaultValue?U(R,Rt(de(s,R))):U()),F.keepError||(Kt(r.errors,R),d.isValid&&g()),p.state.next({...r}))},Et=(R,F={})=>{const q=R?Rt(R):s,ce=Rt(q),oe=un(R),X=oe?s:ce;if(F.keepDefaultValues||(s=q),!F.keepValues){if(F.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(Bc(s,i))]);for(const W of Array.from(L))de(r.dirtyFields,W)?mt(X,W,de(i,W)):J(W,de(X,W))}else{if(Ab&&Dt(R))for(const L of o.mount){const W=de(n,L);if(W&&W._f){const le=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(rf(le)){const ye=le.closest("form");if(ye){ye.reset();break}}}}if(F.keepFieldsRef)for(const L of o.mount)J(L,de(X,L));else n={}}i=e.shouldUnregister?F.keepDefaultValues?Rt(s):{}:Rt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:F.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!ta(R,s)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Bc(s,i):r.dirtyFields:F.keepDefaultValues&&R?Bc(s,R):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},rr=(R,F)=>Et(Ss(R)?R(i):R,F),gr=(R,F={})=>{const q=de(n,R),ce=q&&q._f;if(ce){const oe=ce.refs?ce.refs[0]:ce.ref;oe.focus&&(oe.focus(),F.shouldSelect&&Ss(oe.select)&&oe.select())}},z=R=>{r={...r,...R}},an={control:{register:ct,unregister:Se,getFieldState:Ie,handleSubmit:Ot,setError:P,_subscribe:ot,_runSchema:N,_focusError:jt,_getWatch:M,_getDirty:U,_setValid:g,_setFieldArray:y,_setDisabledField:ht,_setErrors:T,_getFieldArray:$,_reset:Et,_resetDefaultValues:()=>Ss(e.defaultValues)&&e.defaultValues().then(R=>{rr(R,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:S,_disableForm:_t,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(R){a=R},get _defaultValues(){return s},get _names(){return o},set _names(R){o=R},get _formState(){return r},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:We,trigger:je,register:ct,handleSubmit:Ot,watch:Ne,setValue:J,getValues:_,reset:rr,resetField:Ze,clearErrors:Oe,unregister:Se,setError:P,setFocus:gr,getFieldState:Ie};return{...an,formControl:an}}var $i=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},Bm=(t,e,r={})=>r.shouldFocus||Dt(r.shouldFocus)?r.focusName||`${t}.${Dt(r.focusIndex)?e:r.focusIndex}.`:"",Um=(t,e)=>[...t,...Cn(e)],Hm=t=>Array.isArray(t)?t.map(()=>{}):void 0;function zm(t,e,r){return[...t.slice(0,e),...Cn(r),...t.slice(e)]}var $m=(t,e,r)=>Array.isArray(t)?(Dt(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],Vm=(t,e)=>[...Cn(e),...Cn(t)];function GF(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return Cp(n).length?n:[]}var qm=(t,e)=>Dt(e)?[]:GF(t,Cn(e).sort((r,n)=>r-n)),Wm=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},Vv=(t,e,r)=>(t[e]=r,t);function no(t){const e=PF(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:a}=t,[o,l]=Ae.useState(r._getFieldArray(n)),u=Ae.useRef(r._getFieldArray(n).map($i)),d=Ae.useRef(o),h=Ae.useRef(!1);d.current=o,r._names.array.add(n),Ae.useMemo(()=>a&&r.register(n,a),[r,a,n]),zN(()=>r._subjects.array.subscribe({next:({values:w,name:v})=>{if(v===n||!v){const N=de(w,n);Array.isArray(N)&&(l(N),u.current=N.map($i))}}}).unsubscribe,[r,n]);const p=Ae.useCallback(w=>{h.current=!0,r._setFieldArray(n,w)},[r,n]),f=(w,v)=>{const N=Cn(Rt(w)),A=Um(r._getFieldArray(n),N);r._names.focus=Bm(n,A.length-1,v),u.current=Um(u.current,N.map($i)),p(A),l(A),r._setFieldArray(n,A,Um,{argA:Hm(w)})},m=(w,v)=>{const N=Cn(Rt(w)),A=Vm(r._getFieldArray(n),N);r._names.focus=Bm(n,0,v),u.current=Vm(u.current,N.map($i)),p(A),l(A),r._setFieldArray(n,A,Vm,{argA:Hm(w)})},g=w=>{const v=qm(r._getFieldArray(n),w);u.current=qm(u.current,w),p(v),l(v),!Array.isArray(de(r._fields,n))&&mt(r._fields,n,void 0),r._setFieldArray(n,v,qm,{argA:w})},b=(w,v,N)=>{const A=Cn(Rt(v)),I=zm(r._getFieldArray(n),w,A);r._names.focus=Bm(n,w,N),u.current=zm(u.current,w,A.map($i)),p(I),l(I),r._setFieldArray(n,I,zm,{argA:w,argB:Hm(v)})},y=(w,v)=>{const N=r._getFieldArray(n);Wm(N,w,v),Wm(u.current,w,v),p(N),l(N),r._setFieldArray(n,N,Wm,{argA:w,argB:v},!1)},E=(w,v)=>{const N=r._getFieldArray(n);$m(N,w,v),$m(u.current,w,v),p(N),l(N),r._setFieldArray(n,N,$m,{argA:w,argB:v},!1)},T=(w,v)=>{const N=Rt(v),A=Vv(r._getFieldArray(n),w,N);u.current=[...A].map((I,S)=>!I||S===w?$i():u.current[S]),p(A),l([...A]),r._setFieldArray(n,A,Vv,{argA:w,argB:N},!0,!1)},k=w=>{const v=Cn(Rt(w));u.current=v.map($i),p([...v]),l([...v]),r._setFieldArray(n,[...v],N=>N,{},!0,!1)};return Ae.useEffect(()=>{if(r._state.action=!1,I0(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!_l(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!_l(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(w=>{const v=de(w.errors,n),N=de(r._formState.errors,n);(N?!v&&N.type||v&&(N.type!==v.type||N.message!==v.message):v&&v.type)&&(v?mt(r._formState.errors,n,v):Kt(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const w=de(r._fields,n);w&&w._f&&!(_l(r._options.reValidateMode).isOnSubmit&&_l(r._options.mode).isOnSubmit)&&P0(w,r._names.disabled,r._formValues,r._options.criteriaMode===us.all,r._options.shouldUseNativeValidation,!0).then(v=>!un(v)&&r._subjects.state.next({errors:JN(r._formState.errors,v,n)}))}r._subjects.state.next({name:n,values:Rt(r._formValues)}),r._names.focus&&Rl(r._fields,(w,v)=>{if(r._names.focus&&v.startsWith(r._names.focus)&&w.focus)return w.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[o,n,r]),Ae.useEffect(()=>(!de(r._formValues,n)&&r._setFieldArray(n),()=>{const w=(v,N)=>{const A=de(r._fields,v);A&&A._f&&(A._f.mount=N)};r._options.shouldUnregister||i?r.unregister(n):w(n,!1)}),[n,r,s,i]),{swap:Ae.useCallback(y,[p,n,r]),move:Ae.useCallback(E,[p,n,r]),prepend:Ae.useCallback(m,[p,n,r]),append:Ae.useCallback(f,[p,n,r]),remove:Ae.useCallback(g,[p,n,r]),insert:Ae.useCallback(b,[p,n,r]),update:Ae.useCallback(T,[p,n,r]),replace:Ae.useCallback(k,[p,n,r]),fields:Ae.useMemo(()=>o.map((w,v)=>({...w,[s]:u.current[v]||$i()})),[o,s])}}function Er(t={}){const e=Ae.useRef(void 0),r=Ae.useRef(void 0),[n,s]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:Ss(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ss(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ss(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=YF(t);e.current={...o,formState:n}}const i=e.current.control;return i._options=t,zN(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),Ae.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ae.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ae.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ae.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ae.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Ae.useEffect(()=>{t.values&&!ta(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=RF(n,i),e.current}const qv=(t,e,r)=>{if(t&&"reportValidity"in t){const n=de(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},XN=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?qv(n.ref,r,t):n.refs&&n.refs.forEach(s=>qv(s,r,t))}},KF=(t,e)=>{e.shouldUseNativeValidation&&XN(t,e);const r={};for(const n in t){const s=de(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(JF(e.names||Object.keys(t),n)){const a=Object.assign({},de(r,n));mt(a,"root",i),mt(r,n,a)}else mt(r,n,i)}return r},JF=(t,e)=>t.some(r=>r.startsWith(e+"."));var XF=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=r[a].types,u=l&&l[n.code];r[a]=$N(a,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},Tr=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&XN({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:KF(XF(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ut;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ut||(ut={}));var Wv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Wv||(Wv={}));const be=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ji=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},ae=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Di extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),n}static assert(e){if(!(e instanceof Di))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Di.create=t=>new Di(t);const R0=(t,e)=>{let r;switch(t.code){case ae.invalid_type:t.received===be.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ut.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${ut.joinValues(t.keys,", ")}`;break;case ae.invalid_union:r="Invalid input";break;case ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ut.joinValues(t.options)}`;break;case ae.invalid_enum_value:r=`Invalid enum value. Expected ${ut.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:r="Invalid function arguments";break;case ae.invalid_return_type:r="Invalid function return type";break;case ae.invalid_date:r="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ut.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ae.custom:r="Invalid input";break;case ae.invalid_intersection_types:r="Intersection results could not be merged";break;case ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,ut.assertNever(t)}return{message:r}};let QF=R0;function ZF(){return QF}const e8=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function fe(t,e){const r=ZF(),n=e8({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===R0?void 0:R0].filter(s=>!!s)});t.common.issues.push(n)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Pe;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Zn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Pe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),eu=t=>({status:"dirty",value:t}),bs=t=>({status:"valid",value:t}),Yv=t=>t.status==="aborted",Gv=t=>t.status==="dirty",Zl=t=>t.status==="valid",af=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Ca{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kv=(t,e)=>{if(Zl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Di(t.common.issues);return this._error=r,this._error}}};function Qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}class lt{get description(){return this._def.description}_getType(e){return Ji(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(af(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Kv(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Zl(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Zl(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(af(s)?s:Promise.resolve(s));return Kv(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:ae.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new rc({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ba.create(this,this._def)}nullable(){return nc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ni.create(this)}promise(){return uf.create(this,this._def)}or(e){return lf.create([this,e],this._def)}and(e){return cf.create(this,e,this._def)}transform(e){return new rc({...Qe(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new F0({...Qe(this._def),innerType:this,defaultValue:r,typeName:Re.ZodDefault})}brand(){return new E8({typeName:Re.ZodBranded,type:this,...Qe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new B0({...Qe(this._def),innerType:this,catchValue:r,typeName:Re.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Pb.create(this,e)}readonly(){return U0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const t8=/^c[^\s-]{8,}$/i,r8=/^[0-9a-z]+$/,n8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,s8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,i8=/^[a-z0-9_-]{21}$/i,a8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,o8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,l8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,c8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ym;const u8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,d8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,h8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,f8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,p8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",g8=new RegExp(`^${QN}$`);function ZN(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function x8(t){return new RegExp(`^${ZN(t)}$`)}function b8(t){let e=`${QN}T${ZN(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function y8(t,e){return!!((e==="v4"||!e)&&u8.test(t)||(e==="v6"||!e)&&h8.test(t))}function v8(t,e){if(!a8.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function w8(t,e){return!!((e==="v4"||!e)&&d8.test(t)||(e==="v6"||!e)&&f8.test(t))}class ca extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){const i=this._getOrReturnCtx(e);return fe(i,{code:ae.invalid_type,expected:be.string,received:i.parsedType}),Pe}const n=new Zn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?fe(s,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&fe(s,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")l8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"email",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ym||(Ym=new RegExp(c8,"u")),Ym.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"emoji",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")s8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"uuid",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")i8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"nanoid",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")t8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")r8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid2",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")n8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ulid",code:ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),fe(s,{validation:"url",code:ae.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"regex",code:ae.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?b8(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?g8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?x8(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?o8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"duration",code:ae.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?y8(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ip",code:ae.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?v8(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"jwt",code:ae.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?w8(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cidr",code:ae.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?p8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64",code:ae.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?m8.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64url",code:ae.invalid_string,message:i.message}),n.dirty()):ut.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:ae.invalid_string,...ve.errToObj(n)})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ve.errToObj(r)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ca.create=t=>new ca({checks:[],typeName:Re.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Qe(t)});function _8(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class ec extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){const i=this._getOrReturnCtx(e);return fe(i,{code:ae.invalid_type,expected:be.number,received:i.parsedType}),Pe}let n;const s=new Zn;for(const i of this._def.checks)i.kind==="int"?ut.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?_8(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.not_finite,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new ec({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ut.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ec.create=t=>new ec({checks:[],typeName:Re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class td extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==be.bigint)return this._getInvalidInput(e);let n;const s=new Zn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return fe(r,{code:ae.invalid_type,expected:be.bigint,received:r.parsedType}),Pe}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new td({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new td({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}td.create=t=>new td({checks:[],typeName:Re.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Qe(t)});class D0 extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.boolean,received:n.parsedType}),Pe}return bs(e.data)}}D0.create=t=>new D0({typeName:Re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class of extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){const i=this._getOrReturnCtx(e);return fe(i,{code:ae.invalid_type,expected:be.date,received:i.parsedType}),Pe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return fe(i,{code:ae.invalid_date}),Pe}const n=new Zn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ae.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ut.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new of({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}of.create=t=>new of({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Re.ZodDate,...Qe(t)});class Jv extends lt{_parse(e){if(this._getType(e)!==be.symbol){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.symbol,received:n.parsedType}),Pe}return bs(e.data)}}Jv.create=t=>new Jv({typeName:Re.ZodSymbol,...Qe(t)});class Xv extends lt{_parse(e){if(this._getType(e)!==be.undefined){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.undefined,received:n.parsedType}),Pe}return bs(e.data)}}Xv.create=t=>new Xv({typeName:Re.ZodUndefined,...Qe(t)});class Qv extends lt{_parse(e){if(this._getType(e)!==be.null){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.null,received:n.parsedType}),Pe}return bs(e.data)}}Qv.create=t=>new Qv({typeName:Re.ZodNull,...Qe(t)});class Zv extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return bs(e.data)}}Zv.create=t=>new Zv({typeName:Re.ZodAny,...Qe(t)});class ew extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bs(e.data)}}ew.create=t=>new ew({typeName:Re.ZodUnknown,...Qe(t)});class Aa extends lt{_parse(e){const r=this._getOrReturnCtx(e);return fe(r,{code:ae.invalid_type,expected:be.never,received:r.parsedType}),Pe}}Aa.create=t=>new Aa({typeName:Re.ZodNever,...Qe(t)});class tw extends lt{_parse(e){if(this._getType(e)!==be.undefined){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.void,received:n.parsedType}),Pe}return bs(e.data)}}tw.create=t=>new tw({typeName:Re.ZodVoid,...Qe(t)});class ni extends lt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==be.array)return fe(r,{code:ae.invalid_type,expected:be.array,received:r.parsedType}),Pe;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(fe(r,{code:a?ae.too_big:ae.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(fe(r,{code:ae.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(fe(r,{code:ae.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new Ca(r,a,r.path,o)))).then(a=>Zn.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new Ca(r,a,r.path,o)));return Zn.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new ni({...this._def,minLength:{value:e,message:ve.toString(r)}})}max(e,r){return new ni({...this._def,maxLength:{value:e,message:ve.toString(r)}})}length(e,r){return new ni({...this._def,exactLength:{value:e,message:ve.toString(r)}})}nonempty(e){return this.min(1,e)}}ni.create=(t,e)=>new ni({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Qe(e)});function pl(t){if(t instanceof Vt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ba.create(pl(n))}return new Vt({...t._def,shape:()=>e})}else return t instanceof ni?new ni({...t._def,type:pl(t.element)}):t instanceof ba?ba.create(pl(t.unwrap())):t instanceof nc?nc.create(pl(t.unwrap())):t instanceof Ro?Ro.create(t.items.map(e=>pl(e))):t}class Vt extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ut.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==be.object){const u=this._getOrReturnCtx(e);return fe(u,{code:ae.invalid_type,expected:be.object,received:u.parsedType}),Pe}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Aa&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ca(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Aa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(fe(s,{code:ae.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ca(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Zn.mergeObjectSync(n,u)):Zn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Vt({...this._def,catchall:e})}pick(e){const r={};for(const n of ut.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ut.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Vt({...this._def,shape:()=>r})}deepPartial(){return pl(this)}partial(e){const r={};for(const n of ut.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Vt({...this._def,shape:()=>r})}required(e){const r={};for(const n of ut.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ba;)i=i._def.innerType;r[n]=i}return new Vt({...this._def,shape:()=>r})}keyof(){return eS(ut.objectKeys(this.shape))}}Vt.create=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strip",catchall:Aa.create(),typeName:Re.ZodObject,...Qe(e)});Vt.strictCreate=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strict",catchall:Aa.create(),typeName:Re.ZodObject,...Qe(e)});Vt.lazycreate=(t,e)=>new Vt({shape:t,unknownKeys:"strip",catchall:Aa.create(),typeName:Re.ZodObject,...Qe(e)});class lf extends lt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Di(o.ctx.common.issues));return fe(r,{code:ae.invalid_union,unionErrors:a}),Pe}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new Di(l));return fe(r,{code:ae.invalid_union,unionErrors:o}),Pe}}get options(){return this._def.options}}lf.create=(t,e)=>new lf({options:t,typeName:Re.ZodUnion,...Qe(e)});function M0(t,e){const r=Ji(t),n=Ji(e);if(t===e)return{valid:!0,data:t};if(r===be.object&&n===be.object){const s=ut.objectKeys(e),i=ut.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=M0(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===be.array&&n===be.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=M0(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===be.date&&n===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cf extends lt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Yv(i)||Yv(a))return Pe;const o=M0(i.value,a.value);return o.valid?((Gv(i)||Gv(a))&&r.dirty(),{status:r.value,value:o.data}):(fe(n,{code:ae.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cf.create=(t,e,r)=>new cf({left:t,right:e,typeName:Re.ZodIntersection,...Qe(r)});class Ro extends lt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.array)return fe(n,{code:ae.invalid_type,expected:be.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return fe(n,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(fe(n,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ca(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Zn.mergeArray(r,a)):Zn.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ro({...this._def,rest:e})}}Ro.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:t,typeName:Re.ZodTuple,rest:null,...Qe(e)})};class rw extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.map)return fe(n,{code:ae.invalid_type,expected:be.map,received:n.parsedType}),Pe;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],u)=>({key:s._parse(new Ca(n,o,n.path,[u,"key"])),value:i._parse(new Ca(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}rw.create=(t,e,r)=>new rw({valueType:e,keyType:t,typeName:Re.ZodMap,...Qe(r)});class rd extends lt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.set)return fe(n,{code:ae.invalid_type,expected:be.set,received:n.parsedType}),Pe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(fe(n,{code:ae.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(fe(n,{code:ae.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Pe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>i._parse(new Ca(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new rd({...this._def,minSize:{value:e,message:ve.toString(r)}})}max(e,r){return new rd({...this._def,maxSize:{value:e,message:ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}rd.create=(t,e)=>new rd({valueType:t,minSize:null,maxSize:null,typeName:Re.ZodSet,...Qe(e)});class nw extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}nw.create=(t,e)=>new nw({getter:t,typeName:Re.ZodLazy,...Qe(e)});class L0 extends lt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return fe(r,{received:r.data,code:ae.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}L0.create=(t,e)=>new L0({value:t,typeName:Re.ZodLiteral,...Qe(e)});function eS(t,e){return new tc({values:t,typeName:Re.ZodEnum,...Qe(e)})}class tc extends lt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return fe(r,{expected:ut.joinValues(n),received:r.parsedType,code:ae.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return fe(r,{received:r.data,code:ae.invalid_enum_value,options:n}),Pe}return bs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return tc.create(e,{...this._def,...r})}exclude(e,r=this._def){return tc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}tc.create=eS;class sw extends lt{_parse(e){const r=ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==be.string&&n.parsedType!==be.number){const s=ut.objectValues(r);return fe(n,{expected:ut.joinValues(s),received:n.parsedType,code:ae.invalid_type}),Pe}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ut.objectValues(r);return fe(n,{received:n.data,code:ae.invalid_enum_value,options:s}),Pe}return bs(e.data)}get enum(){return this._def.values}}sw.create=(t,e)=>new sw({values:t,typeName:Re.ZodNativeEnum,...Qe(e)});class uf extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==be.promise&&r.common.async===!1)return fe(r,{code:ae.invalid_type,expected:be.promise,received:r.parsedType}),Pe;const n=r.parsedType===be.promise?r.data:Promise.resolve(r.data);return bs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}uf.create=(t,e)=>new uf({type:t,typeName:Re.ZodPromise,...Qe(e)});class rc extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{fe(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Pe;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pe:l.status==="dirty"||r.value==="dirty"?eu(l.value):l});{if(r.value==="aborted")return Pe;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Pe:o.status==="dirty"||r.value==="dirty"?eu(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Pe:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Pe:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Zl(a))return Pe;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Zl(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):Pe);ut.assertNever(s)}}rc.create=(t,e,r)=>new rc({schema:t,typeName:Re.ZodEffects,effect:e,...Qe(r)});rc.createWithPreprocess=(t,e,r)=>new rc({schema:e,effect:{type:"preprocess",transform:t},typeName:Re.ZodEffects,...Qe(r)});class ba extends lt{_parse(e){return this._getType(e)===be.undefined?bs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ba.create=(t,e)=>new ba({innerType:t,typeName:Re.ZodOptional,...Qe(e)});class nc extends lt{_parse(e){return this._getType(e)===be.null?bs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:Re.ZodNullable,...Qe(e)});class F0 extends lt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===be.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}F0.create=(t,e)=>new F0({innerType:t,typeName:Re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class B0 extends lt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return af(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}B0.create=(t,e)=>new B0({innerType:t,typeName:Re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class iw extends lt{_parse(e){if(this._getType(e)!==be.nan){const n=this._getOrReturnCtx(e);return fe(n,{code:ae.invalid_type,expected:be.nan,received:n.parsedType}),Pe}return{status:"valid",value:e.data}}}iw.create=t=>new iw({typeName:Re.ZodNaN,...Qe(t)});class E8 extends lt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Pb extends lt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pe:i.status==="dirty"?(r.dirty(),eu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Pb({in:e,out:r,typeName:Re.ZodPipeline})}}class U0 extends lt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Zl(s)&&(s.value=Object.freeze(s.value)),s);return af(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}U0.create=(t,e)=>new U0({innerType:t,typeName:Re.ZodReadonly,...Qe(e)});Vt.lazycreate;var Re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Re||(Re={}));const pe=ca.create,df=ec.create,H0=D0.create;Aa.create;const ua=ni.create,Ms=Vt.create;Vt.strictCreate;lf.create;cf.create;Ro.create;const hf=L0.create,T8=tc.create;uf.create;ba.create;nc.create;const tS=Ms({name:pe().min(1,"Name is required"),title:pe().min(1,"Title is required"),description:pe().min(10,"Description must be at least 10 characters"),email:pe().email("Valid email is required"),github:pe().url().optional().or(hf("")),linkedin:pe().url().optional().or(hf("")),phone:pe().optional(),location:pe().optional()}),rS=Ms({summary:pe().min(50,"Summary must be at least 50 characters"),experience:pe().min(1,"Experience is required"),projects:pe().min(1,"Projects count is required"),clients:pe().min(1,"Clients count is required"),technologies:pe().min(1,"Technologies count is required")}),nS=Ms({id:pe().optional(),company:pe().min(1,"Company name is required"),position:pe().min(1,"Position is required"),duration:pe().min(1,"Duration is required"),location:pe().min(1,"Location is required"),description:pe().min(20,"Description must be at least 20 characters"),responsibilities:ua(pe()).min(1,"At least one responsibility is required"),technologies:ua(pe()).min(1,"At least one technology is required"),logo:pe().optional()}),sS=Ms({id:pe().optional(),degree:pe().min(1,"Degree is required"),university:pe().min(1,"University is required"),duration:pe().min(1,"Duration is required"),location:pe().min(1,"Location is required"),gpa:pe().optional(),description:pe().min(20,"Description must be at least 20 characters"),achievements:ua(pe()).min(1,"At least one achievement is required"),logo:pe().optional()}),iS=Ms({id:pe().optional(),slug:pe().optional(),title:pe().min(1,"Title is required"),description:pe().min(10,"Description must be at least 10 characters"),content:pe().min(50,"Content must be at least 50 characters"),category:T8(["fullstack","backend","frontend"]),tags:ua(pe()).optional(),tech:ua(pe()).min(1,"At least one technology is required"),github:pe().url().optional().or(hf("")),live:pe().url().optional().or(hf("")),featured:H0(),image:pe().optional(),screenshots:ua(pe()).optional(),role:pe().min(1,"Role is required"),contributions:ua(pe()).min(1,"At least one contribution is required"),analytics:Ms({linesOfCode:df().min(0),uptime:pe(),users:df().min(0),performance:pe()}).optional()}),aS=Ms({id:pe().optional(),title:pe().min(1,"Title is required"),slug:pe().min(1,"Slug is required"),summary:pe().min(10,"Summary must be at least 10 characters"),content:pe().min(50,"Content must be at least 50 characters"),tags:ua(pe()).min(1,"At least one tag is required").refine(t=>t.some(e=>e.trim()!==""),"At least one non-empty tag is required"),coverImage:pe().optional(),featured:H0(),published:H0(),readTime:pe().optional(),createdAt:pe().optional(),updatedAt:pe().optional()}),oS=Ms({image:pe().min(1,"Image URL is required"),alt:pe().min(1,"Alt text is required")}),lS=Ms({file_url:pe().min(1,"Resume file is required"),file_name:pe().min(1,"Filename is required"),created_at:pe().optional(),updated_at:pe().optional()}),k8=Ms({id:pe().optional(),name:pe().min(1,"Skill name is required"),category:pe().min(1,"Category is required"),level:df().min(0).max(100,"Level must be between 0 and 100"),order_index:df().min(0,"Order index must be 0 or greater")}),N8=({form:t,isSubmitting:e=!1,isDirty:r=!1,isValid:n=!0,lastSaved:s})=>{const{formState:i}=t,{errors:a,isDirty:o,isValid:l}=i,u=Object.keys(a).length,d=r||o,h=n&&l;return c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Form Status"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[e&&c.jsxs("div",{className:"flex items-center space-x-2 text-blue-400",children:[c.jsx(K_,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Saving..."})]}),!e&&d&&c.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400",children:[c.jsx(To,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Unsaved changes"})]}),!e&&!d&&h&&c.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[c.jsx(Ax,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"All saved"})]})]})]}),u>0&&c.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-red-400 mb-2",children:[c.jsx(To,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[u," validation error",u!==1?"s":""]})]}),c.jsx("ul",{className:"text-sm text-red-300 space-y-1",children:Object.entries(a).map(([p,f])=>c.jsxs("li",{className:"flex items-start space-x-2",children:[c.jsx("span",{className:"text-red-400",children:"â¢"}),c.jsxs("span",{children:[c.jsx("span",{className:"font-medium capitalize",children:p.replace(/([A-Z])/g," $1").toLowerCase()}),": ",f==null?void 0:f.message]})]},p))})]}),s&&!d&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[c.jsx(Cg,{className:"w-4 h-4"}),c.jsxs("span",{children:["Last saved: ",s.toLocaleString()]})]}),d&&c.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/20 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 mb-2",children:[c.jsx(Cg,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Form Tips"})]}),c.jsxs("ul",{className:"text-sm text-blue-300 space-y-1",children:[c.jsx("li",{children:"â¢ Required fields are marked with a red asterisk (*)"}),c.jsx("li",{children:'â¢ Click "Save" to persist your changes'}),c.jsx("li",{children:'â¢ Use "Cancel" to discard unsaved changes'})]})]})]})},S8=({initialData:t,onSave:e})=>{const[r,n]=D.useState(!1),[s,i]=D.useState(null),a=Er({resolver:Tr(tS),defaultValues:t||{name:"Victory Johnson",title:"Full-Stack Software Engineer",description:"Crafting exceptional digital experiences with 4+ years of expertise in full-stack development, no-code solutions, and modern web technologies.",email:"victory@example.com",github:"https://github.com/victoryjohnson",linkedin:"https://linkedin.com/in/victoryjohnson",phone:"+1 (555) 123-4567",location:"San Francisco, CA"}});D.useEffect(()=>{t&&a.reset(t)},[t,a]);const o=async l=>{n(!0);try{await Oo.update(l),i(new Date),H.success("Hero section updated successfully!"),e==null||e()}catch{H.error("Failed to save hero section")}finally{n(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(N8,{form:a,isSubmitting:r,lastSaved:s||void 0}),c.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),c.jsx("input",{type:"text",...a.register("name"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),a.formState.errors.name&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),c.jsx("input",{type:"text",...a.register("title"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your professional title"}),a.formState.errors.title&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.title.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),c.jsx("textarea",{...a.register("description"),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Your professional description"}),a.formState.errors.description&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.description.message})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),c.jsx("input",{type:"email",...a.register("email"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"}),a.formState.errors.email&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",...a.register("phone"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub URL"}),c.jsx("input",{type:"url",...a.register("github"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/username"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LinkedIn URL"}),c.jsx("input",{type:"url",...a.register("linkedin"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://linkedin.com/in/username"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),c.jsx("input",{type:"text",...a.register("location"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"San Francisco, CA"})]}),c.jsx("div",{className:"flex space-x-4",children:c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),"Save Hero Section"]})})]})]})},C8=({initialData:t,onSave:e})=>{const r=Er({resolver:Tr(rS),defaultValues:t||{summary:"I'm a passionate full-stack software engineer with over 4 years of experience building scalable web applications and innovative digital solutions.",experience:"4+",projects:"50+",clients:"25+",technologies:"20+"}});D.useEffect(()=>{t&&r.reset(t)},[t,r]);const n=async s=>{try{await Jl.update(s),e==null||e()}catch{H.error("Failed to save about section")}};return c.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Professional Summary *"}),c.jsx("textarea",{...r.register("summary"),rows:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Tell your professional story..."}),r.formState.errors.summary&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.formState.errors.summary.message})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Years Experience *"}),c.jsx("input",{type:"text",...r.register("experience"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"4+"}),r.formState.errors.experience&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.formState.errors.experience.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Projects Completed *"}),c.jsx("input",{type:"text",...r.register("projects"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50+"}),r.formState.errors.projects&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.formState.errors.projects.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Happy Clients *"}),c.jsx("input",{type:"text",...r.register("clients"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"25+"}),r.formState.errors.clients&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.formState.errors.clients.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Technologies *"}),c.jsx("input",{type:"text",...r.register("technologies"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"20+"}),r.formState.errors.technologies&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.formState.errors.technologies.message})]})]}),c.jsx("div",{className:"flex space-x-4",children:c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),"Save About Section"]})})]})},A8=({initialData:t,editingItem:e,onSave:r,onCancel:n})=>{const[s,i]=D.useState(!!e),a=Er({resolver:Tr(nS),defaultValues:t||{company:"",position:"",duration:"",location:"",description:"",responsibilities:[""],technologies:[""],logo:""}}),{fields:o,append:l,remove:u}=no({control:a.control,name:"responsibilities"}),{fields:d,append:h,remove:p}=no({control:a.control,name:"technologies"});D.useEffect(()=>{e?a.reset({company:e.company,position:e.position,duration:e.duration,location:e.location,description:e.description,responsibilities:e.responsibilities,technologies:e.technologies,logo:e.logo||""}):t&&a.reset(t)},[e,t,a]);const f=async g=>{try{s&&(e!=null&&e.id)?(await Pi.update(e.id,g),H.success("Experience updated successfully!")):(await Pi.create(g),H.success("Experience added successfully!")),a.reset(),i(!1),r==null||r()}catch{H.error("Failed to save experience")}},m=()=>{a.reset(),i(!1),n==null||n()};return c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company *"}),c.jsx("input",{type:"text",...a.register("company"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Company name"}),a.formState.errors.company&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.company.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Position *"}),c.jsx("input",{type:"text",...a.register("position"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Job title"}),a.formState.errors.position&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.position.message})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration *"}),c.jsx("input",{type:"text",...a.register("duration"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2022 - Present"}),a.formState.errors.duration&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.duration.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location *"}),c.jsx("input",{type:"text",...a.register("location"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"San Francisco, CA"}),a.formState.errors.location&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.location.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),c.jsx("textarea",{...a.register("description"),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Brief description of your role and achievements"}),a.formState.errors.description&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.description.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Logo URL"}),c.jsx("input",{type:"url",...a.register("logo"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Key Responsibilities *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>l(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Responsibility"]})]}),o.map((g,b)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...a.register(`responsibilities.${b}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Key responsibility"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>u(b),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},g.id)),a.formState.errors.responsibilities&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.responsibilities.message})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Technologies Used *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>h(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Technology"]})]}),d.map((g,b)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...a.register(`technologies.${b}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Technology name"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>p(b),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},g.id)),a.formState.errors.technologies&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.technologies.message})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),s?"Update Experience":"Add Experience"]}),s&&c.jsx(K,{type:"button",variant:"outline",onClick:m,children:"Cancel"})]})]})},j8=({onSave:t})=>{const[e,r]=D.useState([]),[n,s]=D.useState(!0),[i,a]=D.useState(null),[o,l]=D.useState(!1);D.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Pi.getAll();r(m)}catch(m){console.error("Failed to fetch experiences:",m)}finally{s(!1)}},d=m=>{a(m),l(!0)},h=async m=>{if(window.confirm("Are you sure you want to delete this experience?"))try{await Pi.delete(m),H.success("Experience deleted successfully!"),u(),t==null||t()}catch{H.error("Failed to delete experience")}},p=()=>{l(!1),a(null),u(),t==null||t()},f=()=>{l(!1),a(null)};return n?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading experiences..."})]}):o?c.jsx(A8,{editingItem:i||void 0,onSave:p,onCancel:f}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Work Experience"}),c.jsx("p",{className:"text-gray-400",children:"Manage your professional experience entries"})]}),c.jsxs(K,{onClick:()=>l(!0),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Experience"]})]}),e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(WA,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No experiences yet"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first work experience to get started"}),c.jsx(K,{onClick:()=>l(!0),children:"Add Your First Experience"})]}):c.jsx("div",{className:"space-y-4",children:e.map(m=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.logo&&c.jsx("img",{src:m.logo,alt:m.company,className:"w-10 h-10 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:m.position}),c.jsx("p",{className:"text-blue-400 font-medium",children:m.company})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),m.duration]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(gd,{className:"w-4 h-4 mr-1"}),m.location]})]}),c.jsx("p",{className:"text-gray-300 mb-3",children:m.description}),m.technologies&&m.technologies.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:m.technologies.map((g,b)=>c.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:g},b))})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>d(m),children:c.jsx(xd,{className:"w-4 h-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>h(m.id),className:"text-red-400 hover:text-red-300",children:c.jsx(pc,{className:"w-4 h-4"})})]})]})},m.id))})]})},O8=({initialData:t,editingItem:e,onSave:r,onCancel:n})=>{const[s,i]=D.useState(!!e),a=Er({resolver:Tr(sS),defaultValues:t||{degree:"",university:"",duration:"",location:"",gpa:"",description:"",achievements:[""],logo:""}}),{fields:o,append:l,remove:u}=no({control:a.control,name:"achievements"});D.useEffect(()=>{e?a.reset({degree:e.degree,university:e.university,duration:e.duration,location:e.location,gpa:e.gpa||"",description:e.description,achievements:e.achievements.length>0?e.achievements:[""],logo:e.logo||""}):t&&a.reset(t)},[e,t,a]);const d=async p=>{try{s&&(e!=null&&e.id)?(await Ri.update(e.id,p),H.success("Education updated successfully!")):(await Ri.create(p),H.success("Education added successfully!")),a.reset(),i(!1),r==null||r()}catch{H.error("Failed to save education")}},h=()=>{a.reset(),i(!1),n==null||n()};return c.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Degree *"}),c.jsx("input",{type:"text",...a.register("degree"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Bachelor of Science in Computer Science"}),a.formState.errors.degree&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.degree.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"University *"}),c.jsx("input",{type:"text",...a.register("university"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"University name"}),a.formState.errors.university&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.university.message})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration *"}),c.jsx("input",{type:"text",...a.register("duration"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2018 - 2022"}),a.formState.errors.duration&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.duration.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location *"}),c.jsx("input",{type:"text",...a.register("location"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Berkeley, CA"}),a.formState.errors.location&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.location.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GPA"}),c.jsx("input",{type:"text",...a.register("gpa"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"3.8/4.0"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),c.jsx("textarea",{...a.register("description"),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Description of your studies and focus areas"}),a.formState.errors.description&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.description.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Logo URL"}),c.jsx("input",{type:"url",...a.register("logo"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/university-logo.png"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Key Achievements *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>l(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Achievement"]})]}),o.map((p,f)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...a.register(`achievements.${f}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Achievement or honor"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>u(f),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},p.id)),a.formState.errors.achievements&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.achievements.message})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),s?"Update Education":"Add Education"]}),s&&c.jsx(K,{type:"button",variant:"outline",onClick:h,children:"Cancel"})]})]})},I8=({onSave:t})=>{const[e,r]=D.useState([]),[n,s]=D.useState(!0),[i,a]=D.useState(null),[o,l]=D.useState(!1);D.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Ri.getAll();r(m)}catch(m){console.error("Failed to fetch education:",m)}finally{s(!1)}},d=m=>{a(m),l(!0)},h=async m=>{if(window.confirm("Are you sure you want to delete this education entry?"))try{await Ri.delete(m),H.success("Education entry deleted successfully!"),u(),t==null||t()}catch{H.error("Failed to delete education entry")}},p=()=>{l(!1),a(null),u(),t==null||t()},f=()=>{l(!1),a(null)};return n?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading education..."})]}):o?c.jsx(O8,{editingItem:i||void 0,onSave:p,onCancel:f}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Education"}),c.jsx("p",{className:"text-gray-400",children:"Manage your academic background and certifications"})]}),c.jsxs(K,{onClick:()=>l(!0),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Education"]})]}),e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(sp,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No education entries yet"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first education entry to get started"}),c.jsx(K,{onClick:()=>l(!0),children:"Add Your First Education Entry"})]}):c.jsx("div",{className:"space-y-4",children:e.map(m=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.logo&&c.jsx("img",{src:m.logo,alt:m.university,className:"w-10 h-10 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:m.degree}),c.jsx("p",{className:"text-blue-400 font-medium",children:m.university})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),m.duration]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(gd,{className:"w-4 h-4 mr-1"}),m.location]}),m.gpa&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(kx,{className:"w-4 h-4 mr-1"}),m.gpa]})]}),c.jsx("p",{className:"text-gray-300 mb-3",children:m.description}),m.achievements&&m.achievements.length>0&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Achievements:"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:m.achievements.map((g,b)=>c.jsx("li",{children:g},b))})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>d(m),children:c.jsx(xd,{className:"w-4 h-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>h(m.id),className:"text-red-400 hover:text-red-300",children:c.jsx(pc,{className:"w-4 h-4"})})]})]})},m.id))})]})};class Rb{static async uploadToServer(e){try{const r=new FormData;r.append("image",e);const n=await fetch("/api/upload-image",{method:"POST",body:r});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);return{url:(await n.json()).url,success:!0}}catch(r){return console.error("Image upload failed:",r),{url:"",success:!1,error:r instanceof Error?r.message:"Upload failed"}}}static async convertToBase64(e){return new Promise(r=>{const n=new FileReader;n.onload=s=>{var a;const i=(a=s.target)==null?void 0:a.result;r(i?{url:i,success:!0}:{url:"",success:!1,error:"Failed to convert image to base64"})},n.onerror=()=>{r({url:"",success:!1,error:"Failed to read image file"})},n.readAsDataURL(e)})}static async uploadImage(e,r=!1){if(!e)return{url:"",success:!1,error:"No file provided"};if(e.size>5*1024*1024)return{url:"",success:!1,error:"Image size must be less than 5MB"};if(!e.type.startsWith("image/"))return{url:"",success:!1,error:"Please select a valid image file"};if(r){const n=await this.uploadToServer(e);if(n.success)return n}return await this.convertToBase64(e)}static getImageDimensions(e){return new Promise(r=>{const n=new Image;n.onload=()=>{r({width:n.width,height:n.height})},n.onerror=()=>{r({width:0,height:0})},n.src=URL.createObjectURL(e)})}static async compressImage(e,r=1920,n=1080,s=.8){return new Promise(i=>{const a=document.createElement("canvas"),o=a.getContext("2d"),l=new Image;l.onload=()=>{let{width:u,height:d}=l;u>r&&(d=d*r/u,u=r),d>n&&(u=u*n/d,d=n),a.width=u,a.height=d,o==null||o.drawImage(l,0,0,u,d),a.toBlob(h=>{if(h){const p=new File([h],e.name,{type:e.type,lastModified:Date.now()});i(p)}else i(e)},e.type,s)},l.onerror=()=>{i(e)},l.src=URL.createObjectURL(e)})}}const Gm=new Rb,z0=({onUpload:t,onRemove:e,currentImage:r,multiple:n=!1,maxFiles:s=5,className:i="",placeholder:a="Drag & drop images here or click to browse",accept:o="image/*",maxSize:l=5})=>{const[u,d]=D.useState(!1),[h,p]=D.useState(!1),[f,m]=D.useState(null),g=D.useRef(null),b=D.useCallback(N=>{N.preventDefault(),d(!0)},[]),y=D.useCallback(N=>{N.preventDefault(),d(!1)},[]),E=D.useCallback(N=>{N.preventDefault(),d(!1);const A=Array.from(N.dataTransfer.files);k(A)},[]),T=D.useCallback(N=>{const A=Array.from(N.target.files||[]);k(A)},[]),k=D.useCallback(async N=>{if(N.length!==0){for(const A of N){const I=Gm.validateFile(A);if(!I.isValid){H.error(I.error||"Invalid file");return}}if(!n&&N.length>1){H.error("Please select only one image");return}if(N.length>s){H.error(`Please select no more than ${s} images`);return}p(!0),m({progress:0,status:"uploading",message:"Starting upload..."});try{if(n){const A=await Gm.uploadMultipleImages(N,m);A.forEach(I=>t(I)),H.success(`Successfully uploaded ${A.length} image(s)`)}else{const A=await Gm.uploadImage(N[0],m);t(A),H.success("Image uploaded successfully!")}}catch(A){console.error("Upload failed:",A),H.error("Upload failed. Please try again.")}finally{p(!1),m(null)}}},[n,s,t]),w=D.useCallback(()=>{e==null||e()},[e]),v=D.useCallback(()=>{var N;(N=g.current)==null||N.click()},[]);return c.jsxs("div",{className:`space-y-4 ${i}`,children:[c.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors duration-200 ${u?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${h?"opacity-50 pointer-events-none":""}`,onDragOver:b,onDragLeave:y,onDrop:E,children:[c.jsx("input",{ref:g,type:"file",multiple:n,accept:o,onChange:T,className:"hidden"}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-12 h-12 mb-4 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:c.jsx(jx,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:a}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:["Supports: JPEG, PNG, WebP, GIF (max ",l,"MB each)"]}),c.jsxs(K,{type:"button",variant:"outline",onClick:v,disabled:h,className:"flex items-center",children:[c.jsx(ko,{className:"w-4 h-4 mr-2"}),"Choose Files"]})]})]}),h&&f&&c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:f.message}),c.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f.progress}%`}})})]}),r&&!h&&c.jsx("div",{className:"relative group",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[c.jsx("img",{src:r,alt:"Current image",className:"w-full h-48 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:w,className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white dark:bg-gray-800",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Remove"]})})]})}),(f==null?void 0:f.status)==="success"&&c.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[c.jsx(Ax,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Upload completed successfully!"})]}),(f==null?void 0:f.status)==="error"&&c.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[c.jsx(To,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:f.message})]})]})},P8=({initialData:t,editingItem:e,onSave:r,onCancel:n})=>{var U,M;const[s,i]=D.useState(!!e),[a,o]=D.useState([]),l=Er({resolver:Tr(iS),defaultValues:t||{title:"",description:"",content:"",category:"fullstack",tags:[],tech:[""],github:"",live:"",featured:!1,image:"",screenshots:[],role:"",contributions:[""],analytics:{linesOfCode:0,uptime:"",users:0,performance:""}}}),{fields:u,append:d,remove:h}=no({control:l.control,name:"tech"}),{fields:p,append:f,remove:m}=no({control:l.control,name:"contributions"}),{fields:g,append:b,remove:y}=no({control:l.control,name:"screenshots"}),{fields:E,append:T,remove:k}=no({control:l.control,name:"tags"});D.useEffect(()=>{e?(l.reset({title:e.title,description:e.description,content:e.content,category:e.category,tags:e.tags||[],tech:e.tech.length>0?e.tech:[""],github:e.github||"",live:e.live||"",featured:e.featured,image:e.image||"",screenshots:e.screenshots||[],role:e.role,contributions:e.contributions.length>0?e.contributions:[""],analytics:e.analytics||{linesOfCode:0,uptime:"",users:0,performance:""}}),o(e.screenshots||[])):t&&l.reset(t)},[e,t,l]);const w=$=>{l.setValue("image",$.url)},v=()=>{l.setValue("image","")},N=$=>{b($.url)},A=$=>{y($)},I=async $=>{try{const Y={...$,slug:$.slug||TO($.title)};s&&(e!=null&&e.id)?(await Rs.update(e.id,Y),H.success("Project updated successfully!")):(await Rs.create(Y),H.success("Project added successfully!")),l.reset(),i(!1),o([]),r==null||r()}catch(Y){console.error("Project save error:",Y),H.error("Failed to save project")}},S=()=>{l.reset(),i(!1),o([]),n==null||n()};return c.jsxs("form",{onSubmit:l.handleSubmit(I),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Title *"}),c.jsx("input",{type:"text",...l.register("title"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"E-Commerce Platform"}),l.formState.errors.title&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),c.jsxs("select",{...l.register("category"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select category"}),c.jsx("option",{value:"fullstack",children:"Fullstack"}),c.jsx("option",{value:"backend",children:"Backend"}),c.jsx("option",{value:"frontend",children:"Frontend"})]}),l.formState.errors.category&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.category.message})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Project Tags"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>T(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Tag"]})]}),E.map(($,Y)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...l.register(`tags.${Y}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"web application, api, dashboard, etc."}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>k(Y),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},$.id)),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Add flexible tags like "web application", "api", "dashboard", "mobile app", etc.'})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Short Description *"}),c.jsx("input",{type:"text",...l.register("description"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the project"}),l.formState.errors.description&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.description.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Detailed Content *"}),c.jsx("textarea",{...l.register("content"),rows:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Detailed description of the project, features, and implementation details..."}),l.formState.errors.content&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.content.message})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub URL"}),c.jsx("input",{type:"url",...l.register("github"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/username/project"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Live Demo URL"}),c.jsx("input",{type:"url",...l.register("live"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://project-demo.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Role *"}),c.jsx("input",{type:"text",...l.register("role"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Full-Stack Developer, Lead Developer, etc."}),l.formState.errors.role&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.role.message})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Technologies Used *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>d(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Technology"]})]}),u.map(($,Y)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...l.register(`tech.${Y}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"React, TypeScript, Node.js"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>h(Y),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},$.id)),l.formState.errors.tech&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.tech.message})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Key Contributions *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>f(""),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Contribution"]})]}),p.map(($,Y)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...l.register(`contributions.${Y}`),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Key contribution or achievement"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>m(Y),className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},$.id)),l.formState.errors.contributions&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.formState.errors.contributions.message})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Project Analytics"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Lines of Code"}),c.jsx("input",{type:"number",...l.register("analytics.linesOfCode",{valueAsNumber:!0}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Uptime"}),c.jsx("input",{type:"text",...l.register("analytics.uptime"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"99.9%"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Active Users"}),c.jsx("input",{type:"number",...l.register("analytics.users",{valueAsNumber:!0}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Performance Score"}),c.jsx("input",{type:"text",...l.register("analytics.performance"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"95/100"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Main Project Image"}),c.jsx(z0,{onUpload:w,onRemove:v,currentImage:l.watch("image"),placeholder:"Drag & drop your main project image here or click to browse",maxSize:2})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Screenshots"}),c.jsx(z0,{onUpload:N,multiple:!0,maxFiles:5,placeholder:"Drag & drop project screenshots here or click to browse",maxSize:2}),l.watch("screenshots")&&((U=l.watch("screenshots"))==null?void 0:U.length)>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Current Screenshots:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(M=l.watch("screenshots"))==null?void 0:M.map(($,Y)=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:$,alt:`Screenshot ${Y+1}`,className:"w-full h-32 object-cover rounded-lg"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>A(Y),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]},Y))})]})]}),c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",...l.register("featured"),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Featured Project"})]})}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),s?"Update Project":"Add Project"]}),s&&c.jsx(K,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})},R8=({onSave:t})=>{const[e,r]=D.useState([]),[n,s]=D.useState(!0),[i,a]=D.useState(null),[o,l]=D.useState(!1),{searchValue:u,setSearchValue:d,activeFilters:h,setActiveFilters:p,filteredData:f,filterOptions:m}=db(e,["title","description","content"],"category");D.useEffect(()=>{g()},[]);const g=async()=>{try{const k=await Rs.getAll();r(k)}catch(k){console.error("Failed to fetch projects:",k)}finally{s(!1)}},b=k=>{a(k),l(!0)},y=async k=>{if(window.confirm("Are you sure you want to delete this project?"))try{await Rs.delete(k),H.success("Project deleted successfully!"),g(),t==null||t()}catch{H.error("Failed to delete project")}},E=()=>{l(!1),a(null),g(),t==null||t()},T=()=>{l(!1),a(null)};return n?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading projects..."})]}):o?c.jsx(P8,{editingItem:i||void 0,onSave:E,onCancel:T}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Projects"}),c.jsx("p",{className:"text-gray-400",children:"Manage your portfolio projects and showcase your work"})]}),c.jsxs(K,{onClick:()=>l(!0),className:"flex items-center w-full sm:w-auto",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Project"]})]}),c.jsx(ub,{searchValue:u,onSearchChange:d,filters:m,activeFilters:h,onFilterChange:p,placeholder:"Search projects by title, description, or content..."}),e.length>0&&c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[c.jsxs("span",{children:["Showing ",f.length," of ",e.length," projects",(u||h.length>0)&&" (filtered)"]}),(u||h.length>0)&&c.jsx("button",{onClick:()=>{d(""),p([])},className:"text-blue-400 hover:text-blue-300",children:"Clear all filters"})]}),e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Uo,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No projects yet"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first project to showcase your work"}),c.jsx(K,{onClick:()=>l(!0),children:"Add Your First Project"})]}):c.jsx("div",{className:"space-y-4",children:f.map(k=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 hover:bg-gray-750 transition-colors duration-200",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 mb-3",children:[k.image&&c.jsx("img",{src:k.image,alt:k.title,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[c.jsx("h4",{className:"text-lg font-semibold text-white truncate",children:k.title}),k.featured&&c.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs flex-shrink-0",children:"Featured"})]}),c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:k.category}),c.jsx("p",{className:"text-gray-300 text-sm",children:k.description})]})]}),k.tech&&k.tech.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:k.tech.map((w,v)=>c.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs",children:w},v))}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm",children:[k.github&&c.jsxs("a",{href:k.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[c.jsx(fc,{className:"w-4 h-4 mr-1"}),"GitHub"]}),k.live&&c.jsxs("a",{href:k.live,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[c.jsx(md,{className:"w-4 h-4 mr-1"}),"Live Demo"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 lg:ml-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>b(k),children:c.jsx(xd,{className:"w-4 h-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>y(k.id),className:"text-red-400 hover:text-red-300",children:c.jsx(pc,{className:"w-4 h-4"})})]})]})},k.id))})]})};var cS={exports:{}},uS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=D;function D8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M8=typeof Object.is=="function"?Object.is:D8,L8=sc.useState,F8=sc.useEffect,B8=sc.useLayoutEffect,U8=sc.useDebugValue;function H8(t,e){var r=e(),n=L8({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return B8(function(){s.value=r,s.getSnapshot=e,Km(s)&&i({inst:s})},[t,r,e]),F8(function(){return Km(s)&&i({inst:s}),t(function(){Km(s)&&i({inst:s})})},[t]),U8(r),r}function Km(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!M8(t,r)}catch{return!0}}function z8(t,e){return e()}var $8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z8:H8;uS.useSyncExternalStore=sc.useSyncExternalStore!==void 0?sc.useSyncExternalStore:$8;cS.exports=uS;var Db=cS.exports;function Lr(t){this.content=t}Lr.prototype={constructor:Lr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new Lr(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Lr(r)},addToStart:function(t,e){return new Lr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Lr(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new Lr(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Lr.from(t),t.size?new Lr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Lr.from(t),t.size?new Lr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Lr.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Lr.from=function(t){if(t instanceof Lr)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Lr(e)};function dS(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)r++;return r}if(s.content.size||i.content.size){let a=dS(s.content,i.content,r+1);if(a!=null)return a}r+=s.nodeSize}}function hS(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let a=t.child(--s),o=e.child(--i),l=a.nodeSize;if(a==o){r-=l,n-=l;continue}if(!a.sameMarkup(o))return{a:r,b:n};if(a.isText&&a.text!=o.text){let u=0,d=Math.min(a.text.length,o.text.length);for(;u<d&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||o.content.size){let u=hS(a.content,o.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class te{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let a=0,o=0;o<r;a++){let l=this.content[a],u=o+l.nodeSize;if(u>e&&n(l,s+o,i||null,a)!==!1&&l.content.size){let d=o+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,r-d),n,s+d)}o=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",a=!0;return this.nodesBetween(e,r,(o,l)=>{let u=o.isText?o.text.slice(Math.max(e,l)-l,r-l):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&n&&(a?a=!1:i+=n),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new te(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,a=0;a<r;i++){let o=this.content[i],l=a+o.nodeSize;l>e&&((a<e||l>r)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,r-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,r-a-1))),n.push(o),s+=o.nodeSize),a=l}return new te(n,s)}cutByIndex(e,r){return e==r?te.empty:e==0&&r==this.content.length?this:new te(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new te(s,i)}addToStart(e){return new te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return dS(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return hS(this,e,r,n)}findIndex(e){if(e==0)return sh(0,e);if(e==this.size)return sh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),i=n+s.nodeSize;if(i>=e)return i==e?sh(r+1,i):sh(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return te.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new te(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return te.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new te(r||e,n)}static from(e){if(!e)return te.empty;if(e instanceof te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}te.empty=new te([],0);const Jm={index:0,offset:0};function sh(t,e){return Jm.index=t,Jm.offset=e,Jm}function ff(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!ff(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!ff(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let vt=class $0{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ff(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $0.none;if(e instanceof $0)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};vt.none=[];class pf extends Error{}class he{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=pS(this.content,e+this.openStart,r);return n&&new he(n,this.openStart,this.openEnd)}removeBetween(e,r){return new he(fS(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return he.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new he(te.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new he(e,n,s)}}he.empty=new he(te.empty,0,0);function fS(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:a,offset:o}=t.findIndex(r);if(s==e||i.isText){if(o!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(fS(i.content,e-s-1,r-s-1)))}function pS(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let o=pS(a.content,e-i-1,r,a);return o&&t.replaceChild(s,a.copy(o))}function V8(t,e,r){if(r.openStart>t.depth)throw new pf("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new pf("Inconsistent open depths");return mS(t,e,r,0)}function mS(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let a=mS(t,e,r,n+1);return i.copy(i.content.replaceChild(s,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,o=a.content;return yo(a,o.cut(0,t.parentOffset).append(r.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=q8(r,t);return yo(i,xS(t,a,o,e,n))}else return yo(i,mf(t,e,n))}function gS(t,e){if(!e.type.compatibleContent(t.type))throw new pf("Cannot join "+e.type.name+" onto "+t.type.name)}function V0(t,e,r){let n=t.node(r);return gS(n,e.node(r)),n}function bo(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Eu(t,e,r,n){let s=(e||t).node(r),i=0,a=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(bo(t.nodeAfter,n),i++));for(let o=i;o<a;o++)bo(s.child(o),n);e&&e.depth==r&&e.textOffset&&bo(e.nodeBefore,n)}function yo(t,e){return t.type.checkContent(e),t.copy(e)}function xS(t,e,r,n,s){let i=t.depth>s&&V0(t,e,s+1),a=n.depth>s&&V0(r,n,s+1),o=[];return Eu(null,t,s,o),i&&a&&e.index(s)==r.index(s)?(gS(i,a),bo(yo(i,xS(t,e,r,n,s+1)),o)):(i&&bo(yo(i,mf(t,e,s+1)),o),Eu(e,r,s,o),a&&bo(yo(a,mf(r,n,s+1)),o)),Eu(n,null,s,o),new te(o)}function mf(t,e,r){let n=[];if(Eu(null,t,r,n),t.depth>r){let s=V0(t,e,r+1);bo(yo(s,mf(t,e,r+1)),n)}return Eu(e,null,r,n),new te(n)}function q8(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(te.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class nd{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return vt.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let o=n;n=s,s=o}let i=n.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new gf(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let a=e;;){let{index:o,offset:l}=a.content.findIndex(i),u=i-l;if(n.push(a,o,s+l),!u||(a=a.child(o),a.isText))break;i=u-1,s+=l+1}return new nd(r,n,i)}static resolveCached(e,r){let n=aw.get(e);if(n)for(let i=0;i<n.elts.length;i++){let a=n.elts[i];if(a.pos==r)return a}else aw.set(e,n=new W8);let s=n.elts[n.i]=nd.resolve(e,r);return n.i=(n.i+1)%Y8,s}}class W8{constructor(){this.elts=[],this.i=0}}const Y8=12,aw=new WeakMap;class gf{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const G8=Object.create(null);class Ps{constructor(e,r,n,s=vt.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||te.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&ff(this.attrs,r||e.defaultAttrs||G8)&&vt.sameSet(this.marks,n||vt.none)}copy(e=null){return e==this.content?this:new Ps(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ps(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return he.empty;let s=this.resolve(e),i=this.resolve(r),a=n?0:s.sharedDepth(r),o=s.start(a),u=s.node(a).content.cut(s.pos-o,i.pos-o);return new he(u,s.depth-a,i.depth-a)}replace(e,r,n){return V8(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return nd.resolveCached(this,e)}resolveNoCache(e){return nd.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bS(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=te.empty,s=0,i=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,s,i),o=a&&a.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),a=i&&i.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=vt.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!vt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=te.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}}Ps.prototype.text=void 0;class xf extends Ps{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xf(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bS(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Do{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new K8(e,r);if(n.next==null)return Do.empty;let s=yS(n);n.next&&n.err("Unexpected trailing text");let i=rB(tB(s));return nB(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(a,o){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return te.from(o.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:h}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let p=i(h,o.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let o=s;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:o,next:l}=i.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!s.type||l.validEnd)&&(n.push({match:o.contentMatch,type:o,via:s}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)i+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return i}).join(`
`)}}Do.empty=new Do(!0);class K8{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yS(t){let e=[];do e.push(J8(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function J8(t){let e=[];do e.push(X8(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function X8(t){let e=eB(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Q8(t,e);else break;return e}function ow(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Q8(t,e){let r=ow(t),n=r;return t.eat(",")&&(t.next!="}"?n=ow(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Z8(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let a=r[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function eB(t){if(t.eat("(")){let e=yS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Z8(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function tB(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(a,o,l){let u={term:l,to:o};return e[a].push(u),u}function s(a,o){a.forEach(l=>l.to=o)}function i(a,o){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(i(u,o)),[]);if(a.type=="seq")for(let l=0;;l++){let u=i(a.exprs[l],o);if(l==a.exprs.length-1)return u;s(u,o=r())}else if(a.type=="star"){let l=r();return n(o,l),s(i(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return s(i(a.expr,o),l),s(i(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(o)].concat(i(a.expr,o));if(a.type=="range"){let l=o;for(let u=0;u<a.min;u++){let d=r();s(i(a.expr,l),d),l=d}if(a.max==-1)s(i(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let d=r();n(l,d),s(i(a.expr,l),d),l=d}return[n(l)]}else{if(a.type=="name")return[n(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function vS(t,e){return e-t}function lw(t,e){let r=[];return n(e),r.sort(vS);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let a=0;a<i.length;a++){let{term:o,to:l}=i[a];!o&&r.indexOf(l)==-1&&n(l)}}}function rB(t){let e=Object.create(null);return r(lw(t,0));function r(n){let s=[];n.forEach(a=>{t[a].forEach(({term:o,to:l})=>{if(!o)return;let u;for(let d=0;d<s.length;d++)s[d][0]==o&&(u=s[d][1]);lw(t,l).forEach(d=>{u||s.push([o,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[n.join(",")]=new Do(n.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let o=s[a][1].sort(vS);i.next.push({type:s[a][0],next:e[o.join(",")]||r(o)})}return i}}function nB(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,a=[];for(let o=0;o<s.next.length;o++){let{type:l,next:u}=s.next[o];a.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),n.indexOf(u)==-1&&n.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wS(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function _S(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function ES(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function TS(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new iB(t,n,e[n]);return r}let cw=class kS{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=TS(e,n.attrs),this.defaultAttrs=wS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Do.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_S(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ps(this,this.computeAttrs(e),te.from(r),vt.setFrom(n))}createChecked(e=null,r,n){return r=te.from(r),this.checkContent(r),new Ps(this,this.computeAttrs(e),r,vt.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=te.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(te.empty,!0);return i?new Ps(this,e,r.append(i),vt.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ES(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:vt.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,a)=>n[i]=new kS(i,r,a));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function sB(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class iB{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?sB(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Ap{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=TS(e,s.attrs),this.excluded=null;let i=wS(this.attrs);this.instance=i?new vt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new vt(this,_S(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,a)=>n[i]=new Ap(i,s++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){ES(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let NS=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Lr.from(e.nodes),r.marks=Lr.from(e.marks||{}),this.nodes=cw.compile(this.spec.nodes,this),this.marks=Ap.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",o=i.spec.marks;if(i.contentMatch=n[a]||(n[a]=Do.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=o=="_"?null:o?uw(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:uw(this,a.split(" "))}this.nodeFromJSON=s=>Ps.fromJSON(this,s),this.markFromJSON=s=>vt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new xf(n,n.defaultAttrs,e,vt.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};function uw(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],a=i;if(i)r.push(i);else for(let o in t.marks){let l=t.marks[o];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function aB(t){return t.tag!=null}function oB(t){return t.style!=null}class ya{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(aB(s))this.tags.push(s);else if(oB(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new hw(this,r,!1);return n.addAll(e,vt.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new hw(this,r,!0);return n.addAll(e,vt.none,r.from,r.to),he.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(uB(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,a=0;for(;a<r.length;a++){let o=r[a];if((o.priority==null?50:o.priority)<i)break}r.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{n(a=fw(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{n(a=fw(a)),a.node||a.ignore||a.mark||(a.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ya(e,ya.schemaRules(e)))}}const SS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},lB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},CS={ol:!0,ul:!0},sd=1,q0=2,Tu=4;function dw(t,e,r){return e!=null?(e?sd:0)|(e==="full"?q0:0):t&&t.whitespace=="pre"?sd|q0:r&~Tu}class ih{constructor(e,r,n,s,i,a){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=a,this.content=[],this.activeMarks=vt.none,this.match=i||(a&Tu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(te.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&sd)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=te.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(te.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!SS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hw{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,i,a=dw(null,r.preserveWhitespace,0)|(n?Tu:0);s?i=new ih(s.type,s.attrs,vt.none,!0,r.topMatch||s.type.contentMatch,a):n?i=new ih(null,null,vt.none,!0,null,a):i=new ih(e.schema.topNodeType,null,vt.none,!0,null,a),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,i=s.options&q0?"full":this.localPreserveWS||(s.options&sd)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],o=e.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;CS.hasOwnProperty(a)&&this.parser.normalizeLists&&cB(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(l?l.ignore:lB.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,d=this.needsBlock;if(SS.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=l&&l.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=n.getPropertyValue(i);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(i,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return r}addElementByRule(e,r,n,s){let i,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(i=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}i&&this.sync(o)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let a=n?e.childNodes[n]:e.firstChild,o=s==null?null:e.childNodes[s];a!=o;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,r);this.findAtPoint(e,i)}findPlace(e,r,n){let s,i;for(let a=this.open,o=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(e);if(u&&(!s||s.length>u.length+o)&&(s=u,i=l,!u.length))break;if(l.solid){if(n)break;o+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)r=this.enterInner(s[a],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=vt.none;for(let o of s.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):pw(o.type,e.type))&&(a=o.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=dw(e,i,a.options);a.options&Tu&&a.content.length==0&&(o|=Tu);let l=vt.none;return n=n.filter(u=>(a.type?a.type.allowsMarkType(u.type):pw(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new ih(e,r,l,s,null,o)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=sd)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),a=(o,l)=>{for(;o>=0;o--){let u=r[o];if(u==""){if(o==r.length-1||o==0)continue;for(;l>=i;l--)if(a(o-1,l))return!0;return!1}else{let d=l>0||l==0&&s?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function cB(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&CS.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function uB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function fw(t){let e={};for(let r in t)e[r]=t[r];return e}function pw(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],a=o=>{i.push(o);for(let l=0;l<o.edgeCount;l++){let{type:u,next:d}=o.edge(l);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class Vo{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Xm(r).createDocumentFragment());let s=n,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let o=0,l=0;for(;o<i.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(i[o][0])||u.type.spec.spanning===!1)break;o++,l++}for(;o<i.length;)s=i.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],d=this.serializeMark(u,a.isInline,r);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=Ih(Xm(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&Ih(Xm(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return Ih(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Vo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=mw(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return mw(e.marks)}}function mw(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Xm(t){return t.document||window.document}const gw=new WeakMap;function dB(t){let e=gw.get(t);return e===void 0&&gw.set(t,e=hB(t)),e}function hB(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function Ih(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=dB(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(r=s.slice(0,a),s=s.slice(a+1));let o,l=r?t.createElementNS(r,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:m}=Ih(t,p,r,n);if(l.appendChild(f),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:l,contentDOM:o}}const AS=65535,jS=Math.pow(2,16);function fB(t,e){return t+e*jS}function xw(t){return t&AS}function pB(t){return(t-(t&AS))/jS}const OS=1,IS=2,Ph=4,PS=8;class W0{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&PS)>0}get deletedBefore(){return(this.delInfo&(OS|Ph))>0}get deletedAfter(){return(this.delInfo&(IS|Ph))>0}get deletedAcross(){return(this.delInfo&Ph)>0}}class Wn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Wn.empty)return Wn.empty}recover(e){let r=0,n=xw(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+pB(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?s:0);if(l>e)break;let u=this.ranges[o+i],d=this.ranges[o+a],h=l+u;if(e<=h){let p=u?e==l?-1:e==h?1:r:r,f=l+s+(p<0?0:d);if(n)return f;let m=e==(r<0?l:h)?null:fB(o/3,e-l),g=e==l?IS:e==h?OS:Ph;return(r<0?e!=l:e!=h)&&(g|=PS),new W0(f,g,m)}s+=d-u}return n?e+s:new W0(e+s,0,null)}touches(e,r){let n=0,s=xw(r),i=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[o+i],d=l+u;if(e<=d&&o==s*3)return!0;n+=this.ranges[o+a]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],o=a-(this.inverted?i:0),l=a+(this.inverted?0:i),u=this.ranges[s+r],d=this.ranges[s+n];e(o,o+u,l,l+d),i+=d-u}}invert(){return new Wn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wn.empty:new Wn(e<0?[0,-e,0]:[0,0,e])}}Wn.empty=new Wn([]);class id{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new id(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new id;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],o=a.mapResult(e,r);if(o.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(o.recover);continue}}s|=o.delInfo,e=o.pos}return n?e:new W0(e,s,null)}}const Qm=Object.create(null);class nn{getMap(){return Wn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Qm[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Qm)throw new RangeError("Duplicate use of step JSON ID "+e);return Qm[e]=r,r.prototype.jsonID=e,r}}class cr{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new cr(e,null)}static fail(e){return new cr(null,e)}static fromReplace(e,r,n,s){try{return cr.ok(e.replace(r,n,s))}catch(i){if(i instanceof pf)return cr.fail(i.message);throw i}}}function Mb(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Mb(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return te.fromArray(n)}class da extends nn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new he(Mb(r.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),r.openStart,r.openEnd);return cr.fromReplace(e,this.from,this.to,i)}invert(){return new Os(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new da(r.pos,n.pos,this.mark)}merge(e){return e instanceof da&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new da(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new da(r.from,r.to,e.markFromJSON(r.mark))}}nn.jsonID("addMark",da);class Os extends nn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new he(Mb(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return cr.fromReplace(e,this.from,this.to,n)}invert(){return new da(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Os(r.pos,n.pos,this.mark)}merge(e){return e instanceof Os&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Os(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Os(r.from,r.to,e.markFromJSON(r.mark))}}nn.jsonID("removeMark",Os);class ha extends nn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return cr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return cr.fromReplace(e,this.pos,this.pos+1,new he(te.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new ha(this.pos,r.marks[s]);return new ha(this.pos,this.mark)}}return new Mo(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ha(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ha(r.pos,e.markFromJSON(r.mark))}}nn.jsonID("addNodeMark",ha);class Mo extends nn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return cr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return cr.fromReplace(e,this.pos,this.pos+1,new he(te.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new ha(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Mo(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mo(r.pos,e.markFromJSON(r.mark))}}nn.jsonID("removeNodeMark",Mo);class kr extends nn{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&Y0(e,this.from,this.to)?cr.fail("Structure replace would overwrite content"):cr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wn([this.from,this.to-this.from,this.slice.size])}invert(e){return new kr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new kr(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof kr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?he.empty:new he(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kr(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?he.empty:new he(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kr(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kr(r.from,r.to,he.fromJSON(e,r.slice),!!r.structure)}}nn.jsonID("replace",kr);class Ar extends nn{constructor(e,r,n,s,i,a,o=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=a,this.structure=o}apply(e){if(this.structure&&(Y0(e,this.from,this.gapFrom)||Y0(e,this.gapTo,this.to)))return cr.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return cr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?cr.fromReplace(e,this.from,this.to,n):cr.fail("Content does not fit in gap")}getMap(){return new Wn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Ar(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new Ar(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ar(r.from,r.to,r.gapFrom,r.gapTo,he.fromJSON(e,r.slice),r.insert,!!r.structure)}}nn.jsonID("replaceAround",Ar);function Y0(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let a=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function mB(t,e,r,n){let s=[],i=[],a,o;t.doc.nodesBetween(e,r,(l,u,d)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&d.type.allowsMarkType(n.type)){let p=Math.max(u,e),f=Math.min(u+l.nodeSize,r),m=n.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(m)||(a&&a.to==p&&a.mark.eq(h[g])?a.to=f:s.push(a=new Os(p,f,h[g])));o&&o.to==p?o.to=f:i.push(o=new da(p,f,n))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function gB(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(a,o)=>{if(!a.isInline)return;i++;let l=null;if(n instanceof Ap){let u=a.marks,d;for(;d=n.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(o+a.nodeSize,r);for(let d=0;d<l.length;d++){let h=l[d],p;for(let f=0;f<s.length;f++){let m=s[f];m.step==i-1&&h.eq(s[f].style)&&(p=m)}p?(p.to=u,p.step=i):s.push({style:h,from:Math.max(o,e),to:u,step:i})}}}),s.forEach(a=>t.step(new Os(a.from,a.to,a.style)))}function Lb(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),d=o+u.nodeSize,h=n.matchType(u.type);if(!h)a.push(new kr(o,d,he.empty));else{n=h;for(let p=0;p<u.marks.length;p++)r.allowsMarkType(u.marks[p].type)||t.step(new Os(o,d,u.marks[p]));if(s&&u.isText&&r.whitespace!="pre"){let p,f=/\r?\n|\r/g,m;for(;p=f.exec(u.text);)m||(m=new he(te.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),a.push(new kr(o+p.index,o+p.index+p[0].length,m))}}o=d}if(!n.validEnd){let l=n.fillBefore(te.empty,!0);t.replace(o,o,new he(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function xB(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function _c(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),a=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,a,r))return n;if(n==0||s.type.spec.isolating||!xB(s,i,a))break}return null}function bB(t,e,r){let{$from:n,$to:s,depth:i}=e,a=n.before(i+1),o=s.after(i+1),l=a,u=o,d=te.empty,h=0;for(let m=i,g=!1;m>r;m--)g||n.index(m)>0?(g=!0,d=te.from(n.node(m).copy(d)),h++):l--;let p=te.empty,f=0;for(let m=i,g=!1;m>r;m--)g||s.after(m+1)<s.end(m)?(g=!0,p=te.from(s.node(m).copy(p)),f++):u++;t.step(new Ar(l,u,a,o,new he(d.append(p),h,f),d.size-h,!0))}function Fb(t,e,r=null,n=t){let s=yB(t,e),i=s&&vB(n,e);return i?s.map(bw).concat({type:e,attrs:r}).concat(i.map(bw)):null}function bw(t){return{type:t,attrs:null}}function yB(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return r.canReplaceWith(n,s,a)?i:null}function vB(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=n;l&&u<s;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function wB(t,e,r){let n=te.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let o=r[a].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=te.from(r[a].type.create(r[a].attrs,n))}let s=e.start,i=e.end;t.step(new Ar(s,i,s,i,new he(n,0,0),r.length,!0))}function _B(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(a,o)=>{let l=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(n,l)&&EB(t.doc,t.mapping.slice(i).map(o),n)){let u=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",m=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!m?u=!1:!f&&m&&(u=!0)}u===!1&&DS(t,a,o,i),Lb(t,t.mapping.slice(i).map(o,1),n,void 0,u===null);let d=t.mapping.slice(i),h=d.map(o,1),p=d.map(o+a.nodeSize,1);return t.step(new Ar(h,p,h+1,p-1,new he(te.from(n.create(l,null,a.marks)),0,0),1,!0)),u===!0&&RS(t,a,o,i),!1}})}function RS(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(s.text);){let l=t.mapping.slice(n).map(r+1+i+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function DS(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(n).map(r+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function EB(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function TB(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let a=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Ar(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new he(te.from(a),0,0),1,!0))}function Dl(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,a=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=r-2;u>i;u--,d--){let h=s.node(u),p=s.index(u);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(p,h.childCount),m=n&&n[d+1];m&&(f=f.replaceChild(0,m.type.create(m.attrs)));let g=n&&n[d]||h;if(!h.canReplace(p+1,h.childCount)||!g.type.validContent(f))return!1}let o=s.indexAfter(i),l=n&&n[0];return s.node(i).canReplaceWith(o,o,l?l.type:s.node(i+1).type)}function kB(t,e,r=1,n){let s=t.doc.resolve(e),i=te.empty,a=te.empty;for(let o=s.depth,l=s.depth-r,u=r-1;o>l;o--,u--){i=te.from(s.node(o).copy(i));let d=n&&n[u];a=te.from(d?d.type.create(d.attrs,a):s.node(o).copy(a))}t.step(new kr(e,e,new he(i.append(a),r,r),!0))}function Da(t,e){let r=t.resolve(e),n=r.index();return MS(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function NB(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(a),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function MS(t,e){return!!(t&&e&&!t.isLeaf&&NB(t,e))}function jp(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,a,o=n.index(s);if(s==n.depth?(i=n.nodeBefore,a=n.nodeAfter):r>0?(i=n.node(s+1),o++,a=n.node(s).maybeChild(o)):(i=n.node(s).maybeChild(o-1),a=n.node(s+1)),i&&!i.isTextblock&&MS(i,a)&&n.node(s).canReplace(o,o+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function SB(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-r),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",h=!!a.contentMatch.matchType(s);d&&!h?n=!1:!d&&h&&(n=!0)}let o=t.steps.length;if(n===!1){let d=t.doc.resolve(e+r);DS(t,d.node(),d.before(),o)}a.inlineContent&&Lb(t,e+r-1,a,i.node().contentMatchAt(i.index()),n==null);let l=t.mapping.slice(o),u=l.map(e-r);if(t.step(new kr(u,l.map(e+r,-1),he.empty,!0)),n===!0){let d=t.doc.resolve(u);RS(t,d.node(),d.before(),t.steps.length)}return t}function CB(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function LS(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let a=n.depth;a>=0;a--){let o=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(o>0?1:0),u=n.node(a),d=!1;if(i==1)d=u.canReplace(l,l,s);else{let h=u.contentMatchAt(l).findWrapping(s.firstChild.type);d=h&&u.canReplaceWith(l,l,h[0])}if(d)return o==0?n.pos:o<0?n.before(a+1):n.after(a+1)}return null}function Op(t,e,r=e,n=he.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return FS(s,i,n)?new kr(e,r,n):new AB(s,i,n).fit()}function FS(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class AB{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=te.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=te.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,a=n.depth,o=s.depth;for(;a&&o&&i.childCount==1;)i=i.firstChild.content,a--,o--;let l=new he(i,a,o);return e>-1?new Ar(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new kr(n.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=Zm(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:u}=this.frontier[o],d,h=null;if(r==1&&(a?u.matchType(a.type)||(h=u.fillBefore(te.from(a),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:o,parent:i,inject:h};if(r==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:o,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Zm(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new he(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Zm(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new he(tu(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new he(tu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let a=this.unplaced,o=n?n.content:a.content,l=a.openStart-e,u=0,d=[],{match:h,type:p}=this.frontier[r];if(s){for(let g=0;g<s.childCount;g++)d.push(s.child(g));h=h.matchFragment(s)}let f=o.size+e-(a.content.size-a.openEnd);for(;u<o.childCount;){let g=o.child(u),b=h.matchType(g.type);if(!b)break;u++,(u>1||l==0||g.content.size)&&(h=b,d.push(BS(g.mark(p.allowedMarks(g.marks)),u==1?l:0,u==o.childCount?f:-1)))}let m=u==o.childCount;m||(f=-1),this.placed=ru(this.placed,r,te.from(d)),this.frontier[r].match=h,m&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=o;g<f;g++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=m?e==0?he.empty:new he(tu(a.content,e-1,1),e-1,f<0?a.openEnd:e-1):new he(tu(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!eg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=eg(e,r,s,n,i);if(a){for(let o=r-1;o>=0;o--){let{match:l,type:u}=this.frontier[o],d=eg(e,o,u,l,!0);if(!d||d.childCount)continue e}return{depth:r,fit:a,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=ru(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ru(this.placed,this.depth,te.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(te.empty,!0);r.childCount&&(this.placed=ru(this.placed,this.frontier.length,r))}}function tu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(tu(t.firstChild.content,e-1,r)))}function ru(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(ru(t.lastChild.content,e-1,r)))}function Zm(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function BS(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,BS(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(te.empty,!0)))),t.copy(n)}function eg(t,e,r,n,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!r.compatibleContent(i.type))return null;let o=n.fillBefore(i.content,!0,a);return o&&!jB(r,i.content,a)?o:null}function jB(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function OB(t){return t.spec.defining||t.spec.definingForContent}function IB(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(FS(s,i,n))return t.step(new kr(e,r,n));let a=HS(s,t.doc.resolve(r));a[a.length-1]==0&&a.pop();let o=-(s.depth+1);a.unshift(o);for(let p=s.depth,f=s.pos-1;p>0;p--,f--){let m=s.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(p)>-1?o=p:s.before(p)==f&&a.splice(1,0,-p)}let l=a.indexOf(o),u=[],d=n.openStart;for(let p=n.content,f=0;;f++){let m=p.firstChild;if(u.push(m),f==n.openStart)break;p=m.content}for(let p=d-1;p>=0;p--){let f=u[p],m=OB(f.type);if(m&&!f.sameMarkup(s.node(Math.abs(o)-1)))d=p;else if(m||!f.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let f=(p+d+1)%(n.openStart+1),m=u[f];if(m)for(let g=0;g<a.length;g++){let b=a[(g+l)%a.length],y=!0;b<0&&(y=!1,b=-b);let E=s.node(b-1),T=s.index(b-1);if(E.canReplaceWith(T,T,m.type,m.marks))return t.replace(s.before(b),y?i.after(b):r,new he(US(n.content,0,n.openStart,f),f,n.openEnd))}}let h=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,r,n),!(t.steps.length>h));p--){let f=a[p];f<0||(e=s.before(f),r=i.after(f))}}function US(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(US(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(te.empty,!0))}return t}function PB(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=CB(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new he(te.from(n),0,0))}function RB(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=HS(n,s);for(let a=0;a<i.length;a++){let o=i[a],l=a==i.length-1;if(l&&o==0||n.node(o).type.contentMatch.validEnd)return t.delete(n.start(o),s.end(o));if(o>0&&(l||n.node(o-1).canReplace(n.index(o-1),s.indexAfter(o-1))))return t.delete(n.before(o),s.after(o))}for(let a=1;a<=n.depth&&a<=s.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&s.end(a)-r!=s.depth-a&&n.start(a-1)==s.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),s.index(a-1)))return t.delete(n.before(a),r);t.delete(e,r)}function HS(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class Ml extends nn{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return cr.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return cr.fromReplace(e,this.pos,this.pos+1,new he(te.from(s),0,r.isLeaf?0:1))}getMap(){return Wn.empty}invert(e){return new Ml(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ml(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ml(r.pos,r.attr,r.value)}}nn.jsonID("attr",Ml);class ad extends nn{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return cr.ok(n)}getMap(){return Wn.empty}invert(e){return new ad(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ad(r.attr,r.value)}}nn.jsonID("docAttr",ad);let ic=class extends Error{};ic=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};ic.prototype=Object.create(Error.prototype);ic.prototype.constructor=ic;ic.prototype.name="TransformError";class zS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new id}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new ic(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=he.empty){let s=Op(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new he(te.from(n),0,0))}delete(e,r){return this.replace(e,r,he.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return IB(this,e,r,n),this}replaceRangeWith(e,r,n){return PB(this,e,r,n),this}deleteRange(e,r){return RB(this,e,r),this}lift(e,r){return bB(this,e,r),this}join(e,r=1){return SB(this,e,r),this}wrap(e,r){return wB(this,e,r),this}setBlockType(e,r=e,n,s=null){return _B(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return TB(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new Ml(e,r,n)),this}setDocAttribute(e,r){return this.step(new ad(e,r)),this}addNodeMark(e,r){return this.step(new ha(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof vt)r.isInSet(n.marks)&&this.step(new Mo(e,r));else{let s=n.marks,i,a=[];for(;i=r.isInSet(s);)a.push(new Mo(e,i)),s=i.removeFromSet(s);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,r=1,n){return kB(this,e,r,n),this}addMark(e,r,n){return mB(this,e,r,n),this}removeMark(e,r,n){return gB(this,e,r,n),this}clearIncompatible(e,r,n){return Lb(this,e,r,n),this}}const tg=Object.create(null);class $e{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new DB(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=he.empty){let n=r.content.lastChild,s=null;for(let o=0;o<r.openEnd;o++)s=n,n=n.lastChild;let i=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:u}=a[o],d=e.mapping.slice(i);e.replaceRange(d.map(l.pos),d.map(u.pos),o?he.empty:r),o==0&&ww(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:o}=s[i],l=e.mapping.slice(n),u=l.map(a.pos),d=l.map(o.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,r),ww(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new De(e):ml(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=r<0?ml(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):ml(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new gs(e.node(0))}static atStart(e){return ml(e,e,0,0,1)||new gs(e)}static atEnd(e){return ml(e,e,e.content.size,e.childCount,-1)||new gs(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=tg[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in tg)throw new RangeError("Duplicate use of selection JSON ID "+e);return tg[e]=r,r.prototype.jsonID=e,r}getBookmark(){return De.between(this.$anchor,this.$head).getBookmark()}}$e.prototype.visible=!0;class DB{constructor(e,r){this.$from=e,this.$to=r}}let yw=!1;function vw(t){!yw&&!t.parent.inlineContent&&(yw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class De extends $e{constructor(e,r=e){vw(e),vw(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return $e.near(n);let s=e.resolve(r.map(this.anchor));return new De(s.parent.inlineContent?s:n,n)}replace(e,r=he.empty){if(super.replace(e,r),r==he.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof De&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ip(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new De(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=$e.findFrom(r,n,!0)||$e.findFrom(r,-n,!0);if(i)r=i.$head;else return $e.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=($e.findFrom(e,-n,!0)||$e.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new De(e,r)}}$e.jsonID("text",De);class Ip{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Ip(e.map(this.anchor),e.map(this.head))}resolve(e){return De.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ee extends $e{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?$e.near(i):new Ee(i)}content(){return new he(te.from(this.node),0,0)}eq(e){return e instanceof Ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Bb(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ee(e.resolve(r.anchor))}static create(e,r){return new Ee(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ee.prototype.visible=!1;$e.jsonID("node",Ee);class Bb{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Ip(n,n):new Bb(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ee.isSelectable(n)?new Ee(r):$e.near(r)}}class gs extends $e{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=he.empty){if(r==he.empty){e.delete(0,e.doc.content.size);let n=$e.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new gs(e)}map(e){return new gs(e)}eq(e){return e instanceof gs}getBookmark(){return MB}}$e.jsonID("all",gs);const MB={map(){return this},resolve(t){return new gs(t)}};function ml(t,e,r,n,s,i=!1){if(e.inlineContent)return De.create(t,r);for(let a=n-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let o=e.child(a);if(o.isAtom){if(!i&&Ee.isSelectable(o))return Ee.create(t,r-(s<0?o.nodeSize:0))}else{let l=ml(t,o,r+s,s<0?o.childCount:0,s,i);if(l)return l}r+=o.nodeSize*s}return null}function ww(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof kr||s instanceof Ar))return;let i=t.mapping.maps[n],a;i.forEach((o,l,u,d)=>{a==null&&(a=d)}),t.setSelection($e.near(t.doc.resolve(a),r))}const _w=1,ah=2,Ew=4;class LB extends zS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_w)&~ah,this.storedMarks=null,this}get selectionSet(){return(this.updated&_w)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ah,this}ensureMarks(e){return vt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ah)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~ah,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||vt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let a=this.doc.resolve(r);i=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection($e.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ew,this}get scrolledIntoView(){return(this.updated&Ew)>0}}function Tw(t,e){return!e||!t?t:t.bind(e)}class nu{constructor(e,r,n){this.name=e,this.init=Tw(r.init,n),this.apply=Tw(r.apply,n)}}const FB=[new nu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new nu("selection",{init(t,e){return t.selection||$e.atStart(e.doc)},apply(t){return t.selection}}),new nu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new nu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class rg{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=FB.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new nu(n.key,n.spec.state,n))})}}class El{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=s?s[a].n:0,u=s?s[a].state:this,d=l<r.length&&o.spec.appendTransaction.call(o,l?r.slice(l):r,u,n);if(d&&n.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<a?{state:n,n:r.length}:{state:this,n:0})}r.push(d),n=n.applyInner(d),i=!0}s&&(s[a]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new El(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new LB(this)}static create(e){let r=new rg(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new El(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new rg(this.schema,e.plugins),n=r.fields,s=new El(r);for(let i=0;i<n.length;i++){let a=n[i].name;s[a]=this.hasOwnProperty(a)?this[a]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new rg(e.schema,e.plugins),i=new El(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=Ps.fromJSON(e.schema,r.doc);else if(a.name=="selection")i.selection=$e.fromJSON(i.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let l=n[o],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){i[a.name]=u.fromJSON.call(l,e,r[o],i);return}}i[a.name]=a.init(e,i)}}),i}}function $S(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=$S(s,e,{})),r[n]=s}return r}class Yt{constructor(e){this.spec=e,this.props={},e.props&&$S(e.props,this,this.props),this.key=e.key?e.key.key:VS("plugin")}getState(e){return e[this.key]}}const ng=Object.create(null);function VS(t){return t in ng?t+"$"+ ++ng[t]:(ng[t]=0,t+"$")}class Pr{constructor(e="key"){this.key=VS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Fr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ac=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let G0=null;const Ei=function(t,e,r){let n=G0||(G0=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},BB=function(){G0=null},Lo=function(t,e,r,n){return r&&(kw(t,e,r,n,-1)||kw(t,e,r,n,1))},UB=/^(img|br|input|textarea|hr)$/i;function kw(t,e,r,n,s){for(var i;;){if(t==r&&e==n)return!0;if(e==(s<0?0:ds(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Nd(t)||UB.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fr(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ds(t):0}else return!1}}function ds(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function HB(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ds(t)}else if(t.parentNode&&!Nd(t))e=Fr(t),t=t.parentNode;else return null}}function zB(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Nd(t))e=Fr(t)+1,t=t.parentNode;else return null}}function $B(t,e,r){for(let n=e==0,s=e==ds(t);n||s;){if(t==r)return!0;let i=Fr(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==ds(t)}}function Nd(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Pp=function(t){return t.focusNode&&Lo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Za(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function VB(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function qB(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(ds(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(ds(n.startContainer),n.startOffset)}}}const ii=typeof navigator<"u"?navigator:null,Nw=typeof document<"u"?document:null,Ma=ii&&ii.userAgent||"",K0=/Edge\/(\d+)/.exec(Ma),qS=/MSIE \d/.exec(Ma),J0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ma),Pn=!!(qS||J0||K0),va=qS?document.documentMode:J0?+J0[1]:K0?+K0[1]:0,Ls=!Pn&&/gecko\/(\d+)/i.test(Ma);Ls&&+(/Firefox\/(\d+)/.exec(Ma)||[0,0])[1];const X0=!Pn&&/Chrome\/(\d+)/.exec(Ma),Zr=!!X0,WS=X0?+X0[1]:0,bn=!Pn&&!!ii&&/Apple Computer/.test(ii.vendor),oc=bn&&(/Mobile\/\w+/.test(Ma)||!!ii&&ii.maxTouchPoints>2),ss=oc||(ii?/Mac/.test(ii.platform):!1),WB=ii?/Win/.test(ii.platform):!1,Ci=/Android \d/.test(Ma),Sd=!!Nw&&"webkitFontSmoothing"in Nw.documentElement.style,YB=Sd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function GB(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mi(t,e){return typeof t=="number"?t:t[e]}function KB(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function Sw(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=r||t.dom;a;){if(a.nodeType!=1){a=ac(a);continue}let o=a,l=o==i.body,u=l?GB(i):KB(o),d=0,h=0;if(e.top<u.top+mi(n,"top")?h=-(u.top-e.top+mi(s,"top")):e.bottom>u.bottom-mi(n,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+mi(s,"top")-u.top:e.bottom-u.bottom+mi(s,"bottom")),e.left<u.left+mi(n,"left")?d=-(u.left-e.left+mi(s,"left")):e.right>u.right-mi(n,"right")&&(d=e.right-u.right+mi(s,"right")),d||h)if(l)i.defaultView.scrollBy(d,h);else{let f=o.scrollLeft,m=o.scrollTop;h&&(o.scrollTop+=h),d&&(o.scrollLeft+=d);let g=o.scrollLeft-f,b=o.scrollTop-m;e={left:e.left-g,top:e.top-b,right:e.right-g,bottom:e.bottom-b}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:ac(a)}}function JB(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(i,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=r-20){n=o,s=l.top;break}}return{refDOM:n,refTop:s,stack:YS(t.dom)}}function YS(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=ac(n));return e}function XB({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;GS(r,n==0?0:n-e)}function GS(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let ol=null;function QB(t){if(t.setActive)return t.setActive();if(ol)return t.focus(ol);let e=YS(t);t.focus(ol==null?{get preventScroll(){return ol={preventScroll:!0},!0}}:void 0),ol||(ol=!1,GS(e,0))}function KS(t,e){let r,n=2e8,s,i=0,a=e.top,o=e.top,l,u;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Ei(d).getClientRects();else continue;for(let f=0;f<p.length;f++){let m=p[f];if(m.top<=a&&m.bottom>=o){a=Math.max(m.bottom,a),o=Math.min(m.top,o);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<n){r=d,n=g,s=g&&r.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,d.nodeType==1&&g&&(i=h+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=d,u={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!r&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=h+1)}}return!r&&l&&(r=l,s=u,n=0),r&&r.nodeType==3?ZB(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:KS(r,s)}function ZB(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=Yi(n,1);if(i.top!=i.bottom&&Ub(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Ub(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function e9(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function t9(t,e,r){let{node:n,offset:s}=KS(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();i=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function r9(t,e,r,n){let s=-1;for(let i=e,a=!1;i!=t.dom;){let o=t.docView.nearestDesc(i,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?s=o.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(s=o.posAfter),a=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;i=o.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function JS(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(Ub(e,u))return JS(a,e,u)}}if((i=(i+1)%n)==s)break}return t}function n9(t,e){let r=t.dom.ownerDocument,n,s=0,i=qB(r,e.left,e.top);i&&({node:n,offset:s}=i);let a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!Ub(e,u)||(a=JS(t.dom,e,u),!a))return null}if(bn)for(let u=a;n&&u;u=ac(u))u.draggable&&(n=void 0);if(a=e9(a,e),n){if(Ls&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let d=n.childNodes[s],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let u;Sd&&s&&n.nodeType==1&&(u=n.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(o=r9(t,n,s,e))}o==null&&(o=t9(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function Cw(t){return t.top<t.bottom||t.left<t.right}function Yi(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Cw(n))return n}return Array.prototype.find.call(r,Cw)||t.getBoundingClientRect()}const s9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function XS(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),a=Sd||Ls;if(n.nodeType==3)if(a&&(s9.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let l=Yi(Ei(n,s,s),r);if(Ls&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let u=Yi(Ei(n,s-1,s-1),-1);if(u.top==l.top){let d=Yi(Ei(n,s,s+1),-1);if(d.top!=l.top)return Hc(d,d.left<u.left)}}return l}else{let l=s,u=s,d=r<0?1:-1;return r<0&&!s?(u++,d=-1):r>=0&&s==n.nodeValue.length?(l--,d=1):r<0?l--:u++,Hc(Yi(Ei(n,l,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==ds(n))){let l=n.childNodes[s-1];if(l.nodeType==1)return sg(l.getBoundingClientRect(),!1)}if(i==null&&s<ds(n)){let l=n.childNodes[s];if(l.nodeType==1)return sg(l.getBoundingClientRect(),!0)}return sg(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==ds(n))){let l=n.childNodes[s-1],u=l.nodeType==3?Ei(l,ds(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Hc(Yi(u,1),!1)}if(i==null&&s<ds(n)){let l=n.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Ei(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Hc(Yi(u,-1),!0)}return Hc(Yi(n.nodeType==3?Ei(n):n,-r),r>=0)}function Hc(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function sg(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function QS(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function i9(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return QS(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(i,!0);if(!o)break;if(o.node.isBlock){i=o.contentDOM||o.dom;break}i=o.dom.parentNode}let a=XS(t,s.pos,1);for(let o=i.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=Ei(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(r=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const a9=/[\u0590-\u08ac]/;function o9(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,a=s==n.parent.content.size,o=t.domSelection();return o?!a9.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?i:a:QS(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),p=o.caretBidiLevel;o.modify("move",r,"character");let f=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),b=m&&!f.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{o.collapse(d,h),l&&(l!=d||u!=h)&&o.extend&&o.extend(l,u)}catch{}return p!=null&&(o.caretBidiLevel=p),b}):n.pos==n.start()||n.pos==n.end()}let Aw=null,jw=null,Ow=!1;function l9(t,e,r){return Aw==e&&jw==r?Ow:(Aw=e,jw=r,Ow=r=="up"||r=="down"?i9(t,e,r):o9(t,e,r))}const xs=0,Iw=1,so=2,ai=3;class Cd{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=xs,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,a;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Fr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!r||i.node))if(n&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let o=s.children[a];if(o.size){s=o;break}}return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let a=this.children[n],o=i+a.size;if(o>e||a instanceof e2){s=e-i;break}i=o}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof ZS&&i.side>=0;n--);if(r<=0){let i,a=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,a=!1);return i&&r&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Fr(i.dom)+1:0}}else{let i,a=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Fr(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=n,o=0;;o++){let l=this.children[o],u=a+l.size;if(s==-1&&e<=u){let d=a+l.border;if(e>=d&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,d);e=a;for(let h=o;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Fr(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>r||o==this.children.length-1)){r=u;for(let d=o+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Fr(h.dom);break}r+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),a=Math.max(e,r);for(let f=0,m=0;f<this.children.length;f++){let g=this.children[f],b=m+g.size;if(i>m&&a<b)return g.setSelection(e-m-g.border,r-m-g.border,n,s);m=b}let o=this.domFromPos(e,e?-1:1),l=r==e?o:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),d=n.domSelectionRange(),h=!1;if((Ls||bn)&&e==r){let{node:f,offset:m}=o;if(f.nodeType==3){if(h=!!(m&&f.nodeValue[m-1]==`
`),h&&m==f.nodeValue.length)for(let g=f,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(o=l={node:b.parentNode,offset:Fr(b)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=f.childNodes[m-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Ls&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let f=d.focusNode.childNodes[d.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||h&&bn)&&Lo(o.node,o.offset,d.anchorNode,d.anchorOffset)&&Lo(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==r)&&!h){u.collapse(o.node,o.offset);try{e!=r&&u.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>r){let m=o;o=l,l=m}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],a=n+i.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let o=n+i.border,l=a-i.border;if(e>=o&&r<=l){this.dirty=e==n||r==a?so:Iw,e==o&&r==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ai:i.markDirty(e-o,r-o);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?so:ai}n=a}this.dirty=so}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?so:Iw;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ZS extends Cd{constructor(e,r,n,s){let i,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==xs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class c9 extends Cd{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fo extends Cd{constructor(e,r,n,s,i){super(e,[],n,s),this.mark=r,this.spec=i}static create(e,r,n,s){let i=s.nodeViews[r.type.name],a=i&&i(r,s,n);return(!a||!a.dom)&&(a=Vo.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Fo(e,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ai||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ai&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=xs){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=xs}}slice(e,r,n){let s=Fo.create(this.parent,this.mark,!0,n),i=this.children,a=this.size;r<a&&(i=Z0(i,r,a,n)),e>0&&(i=Z0(i,0,e,n));for(let o=0;o<i.length;o++)i[o].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class wa extends Cd{constructor(e,r,n,s,i,a,o,l,u){super(e,[],i,a),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=o}static create(e,r,n,s,i,a){let o=i.nodeViews[r.type.name],l,u=o&&o(r,i,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,s),d=u&&u.dom,h=u&&u.contentDOM;if(r.isText){if(!d)d=document.createTextNode(r.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Vo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),r.type.spec.draggable&&(d.draggable=!0));let p=d;return d=n2(d,n,r),u?l=new u9(e,r,n,s,d,h||null,p,u,i,a+1):r.isText?new Rp(e,r,n,s,d,p,i):new wa(e,r,n,s,d,h||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>te.empty)}return e}matchesNode(e,r,n){return this.dirty==xs&&e.eq(this.node)&&bf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,a=i&&i.pos>-1?i:null,o=i&&i.pos<0,l=new h9(this,a&&a.node,e);m9(this.node,this.innerDeco,(u,d,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?vt.none:this.node.child(d).marks,n,e),l.placeWidget(u,e,s)},(u,d,h,p)=>{l.syncToMarks(u.marks,n,e);let f;l.findNodeMatch(u,d,h,p)||o&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(f=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(u,d,h,f,e)||l.updateNextNode(u,d,h,e,p,s)||l.addNode(u,d,h,e,s),s+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==so)&&(a&&this.protectLocalComposition(e,a),t2(this.contentDOM,this.children,e),oc&&g9(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof De)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,o=x9(this.node.content,a,n-r,s-r);return o<0?null:{node:i,pos:o,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new c9(this,i,r,s);e.input.compositionNodes.push(a),this.children=Z0(this.children,n,n+s.length,e,a)}update(e,r,n,s){return this.dirty==ai||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=xs}updateOuterDeco(e){if(bf(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=r2(this.dom,this.nodeDOM,Q0(this.outerDeco,this.node,r),Q0(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Pw(t,e,r,n,s){n2(n,e,t);let i=new wa(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Rp extends wa{constructor(e,r,n,s,i,a,o){super(e,r,n,s,i,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==ai||this.dirty!=xs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=xs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=xs,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new Rp(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ai)}get domAtom(){return!1}isText(e){return this.node.text==e}}class e2 extends Cd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class u9 extends wa{constructor(e,r,n,s,i,a,o,l,u,d){super(e,r,n,s,i,a,o,u,d),this.spec=l}update(e,r,n,s){if(this.dirty==ai)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function t2(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],o=a.dom;if(o.parentNode==t){for(;o!=n;)n=Rw(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(o,n);if(a instanceof Fo){let l=n?n.previousSibling:t.lastChild;t2(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=Rw(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const ku=function(t){t&&(this.nodeName=t)};ku.prototype=Object.create(null);const io=[new ku];function Q0(t,e,r){if(t.length==0)return io;let n=r?io[0]:new ku,s=[n];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(n=new ku(a.nodeName));for(let o in a){let l=a[o];l!=null&&(r&&s.length==1&&s.push(n=new ku(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+l:o=="style"?n.style=(n.style?n.style+";":"")+l:o!="nodeName"&&(n[o]=l))}}}return s}function r2(t,e,r,n){if(r==io&&n==io)return e;let s=e;for(let i=0;i<n.length;i++){let a=n[i],o=r[i];if(i){let l;o&&o.nodeName==a.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(s),o=io[0]),s=l}d9(s,o||io[0],a)}return s}function d9(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function n2(t,e,r){return r2(t,t,io,Q0(e,r,t.nodeType!=1))}function bf(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function Rw(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class h9{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=f9(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=xs,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=Fo.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))i=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let u=this.top.children[o];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){i=o;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let a=this.top.children[s];return a.dirty==ai&&a.dom==a.contentDOM&&(a.dirty=so),a.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof wa){let u=this.preMatch.matched.get(l);if(u!=null&&u!=i)return!1;let d=l.dom,h,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ai&&bf(r,l.outerDeco));if(!p&&l.update(e,r,n,s))return this.destroyBetween(this.index,o),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,r,n,s,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=so,h.updateChildren(s,a+1),h.dirty=xs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,a){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!bf(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let o=wa.create(this.top,r,n,s,i,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,r,n,s,i){let a=wa.create(this.top,e,r,n,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new ZS(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Fo;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Rp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((bn||Zr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new e2(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function f9(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let o;for(;;)if(n){let u=r.children[n-1];if(u instanceof Fo)r=u,n=u.children.length;else{o=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=o.node;if(l){if(l!=t.child(s-1))break;--s,i.set(o,s),a.push(o)}}return{index:s,matched:i,matches:a.reverse()}}function p9(t,e){return t.type.side-e.type.side}function m9(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);n(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,o=[],l=null;for(let u=0;;){let d,h;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(h||(h=[d])).push(b):d=b)}if(d)if(h){h.sort(p9);for(let b=0;b<h.length;b++)r(h[b],u,!!l)}else r(d,u,!!l);let p,f;if(l)f=-1,p=l,l=null;else if(u<t.childCount)f=u,p=t.child(u++);else break;for(let b=0;b<o.length;b++)o[b].to<=i&&o.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)o.push(s[a++]);let m=i+p.nodeSize;if(p.isText){let b=m;a<s.length&&s[a].from<b&&(b=s[a].from);for(let y=0;y<o.length;y++)o[y].to<b&&(b=o[y].to);b<m&&(l=p.cut(b-i),p=p.cut(0,b-i),m=b,f=-1)}else for(;a<s.length&&s[a].to<m;)a++;let g=p.isInline&&!p.isLeaf?o.filter(b=>!b.inline):o.slice();n(p,g,e.forChild(i,p),f),i=m}}function g9(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function x9(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let a=t.child(s++),o=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;l+=u.text}if(i>=r){if(i>=n&&l.slice(n-e.length-o,n-o)==e)return n-e.length;let u=o<n?l.lastIndexOf(e,n-o-1):-1;if(u>=0&&u+e.length+o>=r)return o+u;if(r==n&&l.length>=n+e.length-o&&l.slice(n-o,n-o+e.length)==e)return n}}return-1}function Z0(t,e,r,n,s){let i=[];for(let a=0,o=0;a<t.length;a++){let l=t[a],u=o,d=o+=l.size;u>=r||d<=e?i.push(l):(u<e&&i.push(l.slice(0,e-u,n)),s&&(i.push(s),s=void 0),d>r&&i.push(l.slice(r-u,l.size,n)))}return i}function Hb(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let o=n.resolve(a),l,u;if(Pp(r)){for(l=a;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Ee.isSelectable(h)&&s.parent&&!(h.isInline&&$B(r.focusNode,r.focusOffset,s.dom))){let p=s.posBefore;u=new Ee(a==p?o:n.resolve(p))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=a,p=a;for(let f=0;f<r.rangeCount;f++){let m=r.getRangeAt(f);h=Math.min(h,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[l,a]=p==t.state.selection.anchor?[p,h]:[h,p],o=n.resolve(a)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let d=n.resolve(l);if(!u){let h=e=="pointer"||t.state.selection.head<o.pos&&!i?1:-1;u=zb(t,d,o,h)}return u}function s2(t){return t.editable?t.hasFocus():a2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ji(t,e=!1){let r=t.state.selection;if(i2(t,r),!!s2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Zr){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Lo(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)y9(t);else{let{anchor:n,head:s}=r,i,a;Dw&&!(r instanceof De)&&(r.$from.parent.inlineContent||(i=Mw(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=Mw(t,r.to))),t.docView.setSelection(n,s,t,e),Dw&&(i&&Lw(i),a&&Lw(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&b9(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Dw=bn||Zr&&WS<63;function Mw(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(bn&&s&&s.contentEditable=="false")return ig(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return ig(s);if(i)return ig(i)}}function ig(t){return t.contentEditable="true",bn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Lw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function b9(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!s2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function y9(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?r.setStart(n.parentNode,Fr(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!s&&!t.state.selection.visible&&Pn&&va<=11&&(n.disabled=!0,n.disabled=!1)}function i2(t,e){if(e instanceof Ee){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Fw(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Fw(t)}function Fw(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function zb(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||De.between(e,r,n)}function Bw(t){return t.editable&&!t.hasFocus()?!1:a2(t)}function a2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function v9(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Lo(e.node,e.offset,r.anchorNode,r.anchorOffset)}function ex(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&$e.findFrom(i,e)}function Xi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Uw(t,e,r){let n=t.state.selection;if(n instanceof De)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Xi(t,new De(n.$anchor,a))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=ex(t.state,e);return s&&s instanceof Ee?Xi(t,s):!1}else if(!(ss&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let o=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?Ee.isSelectable(i)?Xi(t,new Ee(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Sd?Xi(t,new De(t.state.doc.resolve(e<0?o:o+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ee&&n.node.isInline)return Xi(t,new De(e>0?n.$to:n.$from));{let s=ex(t.state,e);return s?Xi(t,s):!1}}}function yf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Nu(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ll(t,e){return e<0?w9(t):_9(t)}function w9(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,a=!1;for(Ls&&r.nodeType==1&&n<yf(r)&&Nu(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(Nu(o,-1))s=r,i=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(o2(r))break;{let o=r.previousSibling;for(;o&&Nu(o,-1);)s=r.parentNode,i=Fr(o),o=o.previousSibling;if(o)r=o,n=yf(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?tx(t,r,n):s&&tx(t,s,i)}function _9(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=yf(r),i,a;for(;;)if(n<s){if(r.nodeType!=1)break;let o=r.childNodes[n];if(Nu(o,1))i=r,a=++n;else break}else{if(o2(r))break;{let o=r.nextSibling;for(;o&&Nu(o,1);)i=o.parentNode,a=Fr(o)+1,o=o.nextSibling;if(o)r=o,n=0,s=yf(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&tx(t,i,a)}function o2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function E9(t,e){for(;t&&e==t.childNodes.length&&!Nd(t);)e=Fr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function T9(t,e){for(;t&&!e&&!Nd(t);)e=Fr(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function tx(t,e,r){if(e.nodeType!=3){let i,a;(a=E9(e,r))?(e=a,r=0):(i=T9(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Pp(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ji(t)},50)}function Hw(t,e){let r=t.state.doc.resolve(e);if(!(Zr||WB)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function zw(t,e,r){let n=t.state.selection;if(n instanceof De&&!n.empty||r.indexOf("s")>-1||ss&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=ex(t.state,e);if(a&&a instanceof Ee)return Xi(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,o=n instanceof gs?$e.near(a,e):$e.findFrom(a,e);return o?Xi(t,o):!1}return!1}function $w(t,e){if(!(t.state.selection instanceof De))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(r.pos-i.nodeSize,r.pos):a.delete(r.pos,r.pos+i.nodeSize),t.dispatch(a),!0}return!1}function Vw(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function k9(t){if(!bn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Vw(t,n,"true"),setTimeout(()=>Vw(t,n,"false"),20)}return!1}function N9(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function S9(t,e){let r=e.keyCode,n=N9(e);if(r==8||ss&&r==72&&n=="c")return $w(t,-1)||ll(t,-1);if(r==46&&!e.shiftKey||ss&&r==68&&n=="c")return $w(t,1)||ll(t,1);if(r==13||r==27)return!0;if(r==37||ss&&r==66&&n=="c"){let s=r==37?Hw(t,t.state.selection.from)=="ltr"?-1:1:-1;return Uw(t,s,n)||ll(t,s)}else if(r==39||ss&&r==70&&n=="c"){let s=r==39?Hw(t,t.state.selection.from)=="ltr"?1:-1:1;return Uw(t,s,n)||ll(t,s)}else{if(r==38||ss&&r==80&&n=="c")return zw(t,-1,n)||ll(t,-1);if(r==40||ss&&r==78&&n=="c")return k9(t)||zw(t,1,n)||ll(t,1);if(n==(ss?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function $b(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let f=n.firstChild;r.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let a=t.someProp("clipboardSerializer")||Vo.fromSchema(t.state.schema),o=f2(),l=o.createElement("div");l.appendChild(a.serializeFragment(n,{document:o}));let u=l.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=h2[u.nodeName.toLowerCase()]);){for(let f=d.length-1;f>=0;f--){let m=o.createElement(d[f]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(r)}`);let p=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function l2(t,e,r,n,s){let i=s.parent.type.spec.code,a,o;if(!r&&!e)return null;let l=e&&(n||i||!r);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,i||n,t)}),i)return e?new he(te.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):he.empty;let h=t.someProp("clipboardTextParser",p=>p(e,s,n,t));if(h)o=h;else{let p=s.marks(),{schema:f}=t.state,m=Vo.fromSchema(f);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=a.appendChild(document.createElement("p"));g&&b.appendChild(m.serializeNode(f.text(g,p)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),a=O9(r),Sd&&I9(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||ya.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!C9.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)o=P9(qw(o,+d[1],+d[2]),d[4]);else if(o=he.maxOpen(A9(o.content,s),!0),o.openStart||o.openEnd){let h=0,p=0;for(let f=o.content.firstChild;h<o.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=o.content.lastChild;p<o.openEnd&&!f.type.spec.isolating;p++,f=f.lastChild);o=qw(o,h,p)}return t.someProp("transformPasted",h=>{o=h(o,t)}),o}const C9=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function A9(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,a=[];if(t.forEach(o=>{if(!a)return;let l=s.findWrapping(o.type),u;if(!l)return a=null;if(u=a.length&&i.length&&u2(l,i,o,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=d2(a[a.length-1],i.length));let d=c2(o,l);a.push(d),s=s.matchType(d.type),i=l}}),a)return te.from(a)}return t}function c2(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,te.from(t));return t}function u2(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=u2(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(te.from(c2(r,t,s+1))))}}function d2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,d2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(te.empty,!0);return t.copy(r.append(n))}function rx(t,e,r,n,s,i){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(i=0),s<n-1&&(o=rx(o,e,r,n,s+1,i)),s>=r&&(o=e<0?a.contentMatchAt(0).fillBefore(o,i<=s).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(te.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function qw(t,e,r){return e<t.openStart&&(t=new he(rx(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new he(rx(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const h2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ww=null;function f2(){return Ww||(Ww=document.implementation.createHTMLDocument("title"))}let ag=null;function j9(t){let e=window.trustedTypes;return e?(ag||(ag=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),ag.createHTML(t)):t}function O9(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=f2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&h2[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=j9(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function I9(t){let e=t.querySelectorAll(Zr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="Â "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function P9(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let o=n.length-2;o>=0;o-=2){let l=r.nodes[n[o]];if(!l||l.hasRequiredAttrs())break;s=te.from(l.create(n[o+1],s)),i++,a++}return new he(s,i,a)}const yn={},vn={},R9={touchstart:!0,touchmove:!0};class D9{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function M9(t){for(let e in yn){let r=yn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{F9(t,n)&&!Vb(t,n)&&(t.editable||!(n.type in vn))&&r(t,n)},R9[e]?{passive:!0}:void 0)}bn&&t.dom.addEventListener("input",()=>null),nx(t)}function fa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function L9(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function nx(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Vb(t,n))})}function Vb(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function F9(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function B9(t,e){!Vb(t,e)&&yn[e.type]&&(t.editable||!(e.type in vn))&&yn[e.type](t,e)}vn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!m2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ci&&Zr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),oc&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,Za(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||S9(t,r)?r.preventDefault():fa(t,"key")};vn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};vn.keypress=(t,e)=>{let r=e;if(m2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||ss&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof De)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,s,i))&&t.dispatch(i()),r.preventDefault()}};function Dp(t){return{left:t.clientX,top:t.clientY}}function U9(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function qb(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,o=>a>i.depth?o(t,r,i.nodeAfter,i.before(a),s,!0):o(t,r,i.node(a),i.before(a),s,!1)))return!0;return!1}function Ll(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function H9(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ee.isSelectable(n)?(Ll(t,new Ee(r)),!0):!1}function z9(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof Ee&&(n=r.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a);if(Ee.isSelectable(o)){n&&r.$from.depth>0&&a>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(a);break}}return s!=null?(Ll(t,Ee.create(t.state.doc,s)),!0):!1}function $9(t,e,r,n,s){return qb(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?z9(t,r):H9(t,r))}function V9(t,e,r,n){return qb(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function q9(t,e,r,n){return qb(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||W9(t,r,n)}function W9(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ll(t,De.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),o=s.before(i);if(a.inlineContent)Ll(t,De.create(n,o+1,o+1+a.content.size));else if(Ee.isSelectable(a))Ll(t,Ee.create(n,o));else continue;return!0}}function Wb(t){return vf(t)}const p2=ss?"metaKey":"ctrlKey";yn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Wb(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&U9(r,t.input.lastClick)&&!r[p2]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i,button:r.button};let a=t.posAtCoords(Dp(r));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Y9(t,a,r,!!n)):(i=="doubleClick"?V9:q9)(t,a.pos,a.inside,r)?r.preventDefault():fa(t,"pointer"))};class Y9{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[p2],this.allowDefault=n.shiftKey;let i,a;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),a=r.inside;else{let d=e.state.doc.resolve(r.pos);i=d.parent,a=d.depth?d.before():0}const o=s?null:n.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Ee&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ls&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ji(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Dp(e))),this.updateAllowDefault(e),this.allowDefault||!r?fa(this.view,"pointer"):$9(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||bn&&this.mightDrag&&!this.mightDrag.node.isAtom||Zr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ll(this.view,$e.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):fa(this.view,"pointer")}move(e){this.updateAllowDefault(e),fa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yn.touchstart=t=>{t.input.lastTouch=Date.now(),Wb(t),fa(t,"pointer")};yn.touchmove=t=>{t.input.lastTouch=Date.now(),fa(t,"pointer")};yn.contextmenu=t=>Wb(t);function m2(t,e){return t.composing?!0:bn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const G9=Ci?5e3:-1;vn.compositionstart=vn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof De&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),vf(t,!0),t.markCursor=null;else if(vf(t,!e.selection.empty),Ls&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}g2(t,G9)};vn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,g2(t,20))};function g2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>vf(t),e))}function x2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=J9());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function K9(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=HB(e.focusNode,e.focusOffset),n=zB(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function J9(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function vf(t,e=!1){if(!(Ci&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),x2(t),e||t.docView&&t.docView.dirty){let r=Hb(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function X9(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const od=Pn&&va<15||oc&&YB<604;yn.copy=vn.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=od?null:r.clipboardData,a=n.content(),{dom:o,text:l}=$b(t,a);i?(r.preventDefault(),i.clearData(),i.setData("text/html",o.innerHTML),i.setData("text/plain",l)):X9(t,o),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Q9(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Z9(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?ld(t,n.value,null,s,e):ld(t,n.textContent,n.innerHTML,s,e)},50)}function ld(t,e,r,n,s){let i=l2(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||he.empty)))return!0;if(!i)return!1;let a=Q9(i),o=a?t.state.tr.replaceSelectionWith(a,n):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function b2(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}vn.paste=(t,e)=>{let r=e;if(t.composing&&!Ci)return;let n=od?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&ld(t,b2(n),n.getData("text/html"),s,r)?r.preventDefault():Z9(t,r)};class y2{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const eU=ss?"altKey":"ctrlKey";function v2(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[eU]}yn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Dp(r)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ee?s.to-1:s.to))){if(n&&n.mightDrag)a=Ee.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(a=Ee.create(t.state.doc,h.posBefore))}}let o=(a||t.state.selection).content(),{dom:l,text:u,slice:d}=$b(t,o);(!r.dataTransfer.files.length||!Zr||WS>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(od?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",od||r.dataTransfer.setData("text/plain",u),t.dragging=new y2(d,v2(t,r),a)};yn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};vn.dragover=vn.dragenter=(t,e)=>e.preventDefault();vn.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(Dp(r));if(!s)return;let i=t.state.doc.resolve(s.pos),a=n&&n.slice;a?t.someProp("transformPasted",m=>{a=m(a,t)}):a=l2(t,b2(r.dataTransfer),od?null:r.dataTransfer.getData("text/html"),!1,i);let o=!!(n&&v2(t,r));if(t.someProp("handleDrop",m=>m(t,r,a||he.empty,o))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?LS(t.state.doc,i.pos,a):i.pos;l==null&&(l=i.pos);let u=t.state.tr;if(o){let{node:m}=n;m?m.replace(u):u.deleteSelection()}let d=u.mapping.map(l),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=u.doc;if(h?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(p))return;let f=u.doc.resolve(d);if(h&&Ee.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Ee(f));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,b,y,E)=>m=E),u.setSelection(zb(t,f,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};yn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ji(t)},20))};yn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yn.beforeinput=(t,e)=>{if(Zr&&Ci&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Za(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in vn)yn[t]=vn[t];function cd(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class wf{constructor(e,r){this.toDOM=e,this.spec=r||vo,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:a}=e.mapResult(r.from+s,this.side<0?-1:1);return a?null:new xn(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof wf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _a{constructor(e,r){this.attrs=e,this.spec=r||vo}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=a?null:new xn(i,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof _a&&cd(this.attrs,e.attrs)&&cd(this.spec,e.spec)}static is(e){return e.type instanceof _a}destroy(){}}class Yb{constructor(e,r){this.attrs=e,this.spec=r||vo}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let a=e.mapResult(r.to+s,-1);return a.deleted||a.pos<=i.pos?null:new xn(i.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof Yb&&cd(this.attrs,e.attrs)&&cd(this.spec,e.spec)}destroy(){}}class xn{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new xn(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new xn(e,e,new wf(r,n))}static inline(e,r,n,s){return new xn(e,r,new _a(n,s))}static node(e,r,n,s){return new xn(e,r,new Yb(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof _a}get widget(){return this.type instanceof wf}}const gl=[],vo={};class Ut{constructor(e,r){this.local=e.length?e:gl,this.children=r.length?r:gl}static create(e,r){return r.length?_f(r,e,0,vo):Gr}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=r&&o.to>=e&&(!i||i(o.spec))&&n.push(o.copy(o.from+s,o.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,r-o,n,s+o,i)}}map(e,r,n){return this==Gr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||vo)}mapInner(e,r,n,s,i){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,n,s);l&&l.type.valid(r,l)?(a||(a=[])).push(l):i.onRemove&&i.onRemove(this.local[o].spec)}return this.children.length?tU(this.children,a||[],e,r,n,s,i):a?new Ut(a.sort(wo),gl):Gr}add(e,r){return r.length?this==Gr?Ut.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((o,l)=>{let u=l+n,d;if(d=_2(r,o,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(o,d,u+1):s.splice(i,0,l,l+o.nodeSize,_f(d,o,u+1,vo)),i+=3}});let a=w2(i?E2(r):r,-n);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new Ut(a.length?this.local.concat(a).sort(wo):this.local,s||this.children)}remove(e){return e.length==0||this==Gr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let a,o=n[i]+r,l=n[i+1]+r;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>o&&h.to<l&&(e[d]=null,(a||(a=[])).push(h));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[i+2].removeInner(a,o+1);u!=Gr?n[i+2]=u:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let o=0;o<s.length;o++)s[o].eq(a,r)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new Ut(s,n):Gr}forChild(e,r){if(this==Gr)return this;if(r.isLeaf)return Ut.empty;let n,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let i=e+1,a=i+r.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>i&&l.type instanceof _a){let u=Math.max(i,l.from)-i,d=Math.min(a,l.to)-i;u<d&&(s||(s=[])).push(l.copy(u,d))}}if(s){let o=new Ut(s.sort(wo),gl);return n?new ra([o,n]):o}return n||Gr}eq(e){if(this==e)return!0;if(!(e instanceof Ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Gb(this.localsInner(e))}localsInner(e){if(this==Gr)return gl;if(e.inlineContent||!this.local.some(_a.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof _a||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Ut.empty=new Ut([],[]);Ut.removeOverlap=Gb;const Gr=Ut.empty;class ra{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,vo));return ra.from(n)}forChild(e,r){if(r.isLeaf)return Ut.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=Gr&&(i instanceof ra?n=n.concat(i.members):n.push(i))}return ra.from(n)}eq(e){if(!(e instanceof ra)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let a=0;a<i.length;a++)r.push(i[a])}}return r?Gb(n?r:r.sort(wo)):gl}static from(e){switch(e.length){case 0:return Gr;case 1:return e[0];default:return new ra(e.every(r=>r instanceof Ut)?e:e.reduce((r,n)=>r.concat(n instanceof Ut?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function tU(t,e,r,n,s,i,a){let o=t.slice();for(let u=0,d=i;u<r.maps.length;u++){let h=0;r.maps[u].forEach((p,f,m,g)=>{let b=g-m-(f-p);for(let y=0;y<o.length;y+=3){let E=o[y+1];if(E<0||p>E+d-h)continue;let T=o[y]+d-h;f>=T?o[y+1]=p<=T?-2:-1:p>=d&&b&&(o[y]+=b,o[y+1]+=b)}h+=b}),d=r.maps[u].map(d,-1)}let l=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){l=!0,o[u+1]=-1;continue}let d=r.map(t[u]+i),h=d-s;if(h<0||h>=n.content.size){l=!0;continue}let p=r.map(t[u+1]+i,-1),f=p-s,{index:m,offset:g}=n.content.findIndex(h),b=n.maybeChild(m);if(b&&g==h&&g+b.nodeSize==f){let y=o[u+2].mapInner(r,b,d+1,t[u]+i+1,a);y!=Gr?(o[u]=h,o[u+1]=f,o[u+2]=y):(o[u+1]=-2,l=!0)}else l=!0}if(l){let u=rU(o,t,e,r,s,i,a),d=_f(u,n,0,a);e=d.local;for(let h=0;h<o.length;h+=3)o[h+1]<0&&(o.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let f=d.children[h];for(;p<o.length&&o[p]<f;)p+=3;o.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Ut(e.sort(wo),o)}function w2(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new xn(s.from+e,s.to+e,s.type))}return r}function rU(t,e,r,n,s,i,a){function o(l,u){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(n,s,u);h?r.push(h):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)o(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+i+1);return r}function _2(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>r&&a.to<n&&((s||(s=[])).push(a),t[i]=null);return s}function E2(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function _f(t,e,r,n){let s=[],i=!1;e.forEach((o,l)=>{let u=_2(t,o,l+r);if(u){i=!0;let d=_f(u,o,r+l+1,n);d!=Gr&&s.push(l,l+o.nodeSize,d)}});let a=w2(i?E2(t):t,-r).sort(wo);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(n.onRemove&&n.onRemove(a[o].spec),a.splice(o--,1));return a.length||s.length?new Ut(a,s):Gr}function wo(t,e){return t.from-e.from||t.to-e.to}function Gb(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),Yw(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),Yw(e,s,n.copy(i.from,n.to)));break}}}return e}function Yw(t,e,r){for(;e<t.length&&wo(r,t[e])>0;)e++;t.splice(e,0,r)}function og(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Gr&&e.push(n)}),t.cursorWrapper&&e.push(Ut.create(t.state.doc,[t.cursorWrapper.deco])),ra.from(e)}const nU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sU=Pn&&va<=11;class iU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class aU{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new iU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Pn&&va<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),sU&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nU)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Bw(this.view)){if(this.suppressingSelectionUpdates)return ji(this.view);if(Pn&&va<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=ac(i))r.add(i);for(let i=e.anchorNode;i;i=ac(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Bw(e)&&!this.ignoreSelectionChange(n),i=-1,a=-1,o=!1,l=[];if(e.editable)for(let d=0;d<r.length;d++){let h=this.registerMutation(r[d],l);h&&(i=i<0?h.from:Math.min(h.from,i),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(o=!0))}if(Ls&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let f=p.parentNode;f&&f.nodeName=="LI"&&(!h||cU(e,h)!=f)&&p.remove()}}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Pp(n)&&(u=Hb(e))&&u.eq($e.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ji(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),oU(e)),this.handleDOMChange(i,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ji(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Pn&&va<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?Fr(s)+1:0,o=n.localPosFromDOM(e.target,a,-1),l=i&&i.parentNode==e.target?Fr(i):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:o,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Gw=new WeakMap,Kw=!1;function oU(t){if(!Gw.has(t)&&(Gw.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ls,Kw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Kw=!0}}function Jw(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Lo(a.node,a.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function lU(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Jw(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Jw(t,r):null}function cU(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function uU(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:a,to:o}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],Pp(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Zr&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let y=n.childNodes[b-1],E=y.pmViewDesc;if(y.nodeName=="BR"&&!E){i=b;break}if(!E||E.size)break}let h=t.state.doc,p=t.someProp("domParser")||ya.fromSchema(t.state.schema),f=h.resolve(a),m=null,g=p.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:i,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:dU,context:f});if(u&&u[0].pos!=null){let b=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=b),m={anchor:b+a,head:y+a}}return{doc:g,sel:m,from:a,to:o}}function dU(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(bn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||bn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hU=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fU(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=Hb(t,A);if(I&&!t.state.selection.eq(I)){if(Zr&&Ci&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",U=>U(t,Za(13,"Enter"))))return;let S=t.state.tr.setSelection(I);A=="pointer"?S.setMeta("pointer",!0):A=="key"&&S.scrollIntoView(),i&&S.setMeta("composition",i),t.dispatch(S)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(r);e=a.before(o+1),r=t.state.doc.resolve(r).after(o+1);let l=t.state.selection,u=uU(t,e,r),d=t.state.doc,h=d.slice(u.from,u.to),p,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,f="end"):(p=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let m=gU(h.content,u.doc.content,u.from,p,f);if(m&&t.input.domChangeCount++,(oc&&t.input.lastIOSEnter>Date.now()-225||Ci)&&s.some(A=>A.nodeType==1&&!hU.test(A.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",A=>A(t,Za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(n&&l instanceof De&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let A=Xw(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let I=t.state.tr.setSelection(A);i&&I.setMeta("composition",i),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof De&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Pn&&va<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" Â "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),b=u.doc.resolveNoCache(m.endB-u.from),y=d.resolve(m.start),E=g.sameParent(b)&&g.parent.inlineContent&&y.end()>=m.endA,T;if((oc&&t.input.lastIOSEnter>Date.now()-225&&(!E||s.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!E&&g.pos<u.doc.content.size&&(!g.sameParent(b)||!g.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(g.pos,b.pos,"",""))&&(T=$e.findFrom(u.doc.resolve(g.pos+1),1,!0))&&T.head>g.pos)&&t.someProp("handleKeyDown",A=>A(t,Za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&mU(d,m.start,m.endA,g,b)&&t.someProp("handleKeyDown",A=>A(t,Za(8,"Backspace")))){Ci&&Zr&&t.domObserver.suppressSelectionUpdates();return}Zr&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Ci&&!E&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,b=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Za(13,"Enter"))})},20));let k=m.start,w=m.endA,v=A=>{let I=A||t.state.tr.replace(k,w,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let S=Xw(t,I.doc,u.sel);S&&!(Zr&&t.composing&&S.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(S.head==k||S.head==I.mapping.map(w)-1)||Pn&&S.empty&&S.head==k)&&I.setSelection(S)}return i&&I.setMeta("composition",i),I.scrollIntoView()},N;if(E){if(g.pos==b.pos){Pn&&va<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ji(t),20));let A=v(t.state.tr.delete(k,w)),I=d.resolve(m.start).marksAcross(d.resolve(m.endA));I&&A.ensureMarks(I),t.dispatch(A)}else if(m.endA==m.endB&&(N=pU(g.parent.content.cut(g.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let A=v(t.state.tr);N.type=="add"?A.addMark(k,w,N.mark):A.removeMark(k,w,N.mark),t.dispatch(A)}else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let A=g.parent.textBetween(g.parentOffset,b.parentOffset),I=()=>v(t.state.tr.insertText(A,k,w));t.someProp("handleTextInput",S=>S(t,k,w,A,I))||t.dispatch(I())}}else t.dispatch(v())}function Xw(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:zb(t,e.resolve(r.anchor),e.resolve(r.head))}function pU(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,a,o,l;for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);if(s.length==1&&i.length==0)o=s[0],a="add",l=d=>d.mark(o.addToSet(d.marks));else if(s.length==0&&i.length==1)o=i[0],a="remove",l=d=>d.mark(o.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(te.from(u).eq(t))return{mark:o,type:a}}function mU(t,e,r,n,s){if(r-e<=s.pos-n.pos||lg(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let o=i.nodeAfter;return o!=null&&r==e+o.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(lg(i,!0,!0));return!a.parent.isTextblock||a.pos>r||lg(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function lg(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function gU(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a,b:o}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(a,o));n-=a+l-i}if(a<i&&t.size<e.size){let l=n<=i&&n>=a?i-n:0;i-=l,i&&i<e.size&&Qw(e.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}else if(o<i){let l=n<=i&&n>=o?i-n:0;i-=l,i&&i<t.size&&Qw(t.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}return{start:i,endA:a,endB:o}}function Qw(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class T2{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new D9,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(n_),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=t_(this),e_(this),this.nodeViews=r_(this),this.docView=Pw(this.state.doc,Zw(this),og(this),this.dom,this),this.domObserver=new aU(this,(n,s,i,a)=>fU(this,n,s,i,a)),this.domObserver.start(),M9(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nx(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(n_),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(x2(this),a=!0),this.state=e;let o=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let f=r_(this);bU(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&nx(this),this.editable=t_(this),e_(this);let l=og(this),u=Zw(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&JB(this);if(a){this.domObserver.stop();let f=h&&(Pn||Zr)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&xU(s.selection,e.selection);if(h){let m=Zr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=K9(this)),(i||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Pw(e.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&v9(this))?ji(this,f):(i2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&XB(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ee){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&Sw(this,r.getBoundingClientRect(),e)}else Sw(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new y2(e.slice,e.move,s<0?void 0:Ee.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(s=r?r(o):o))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let o=i[a].props[e];if(o!=null&&(s=r?r(o):o))return s}}hasFocus(){if(Pn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&QB(this.dom),ji(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return n9(this,e)}coordsAtPos(e,r=1){return XS(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return l9(this,r||this.state,e)}pasteHTML(e,r){return ld(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return ld(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return $b(this,e)}destroy(){this.docView&&(L9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],og(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,BB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return B9(this,e)}domSelectionRange(){let e=this.domSelection();return e?bn&&this.root.nodeType===11&&VB(this.dom.ownerDocument)==this.dom&&lU(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}T2.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Zw(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[xn.node(0,t.state.doc.content.size,e)]}function e_(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:xn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function t_(t){return!t.someProp("editable",e=>e(t.state)===!1)}function xU(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function r_(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function bU(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function n_(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ja={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ef={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yU=typeof navigator<"u"&&/Mac/.test(navigator.platform),vU=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Br=0;Br<10;Br++)ja[48+Br]=ja[96+Br]=String(Br);for(var Br=1;Br<=24;Br++)ja[Br+111]="F"+Br;for(var Br=65;Br<=90;Br++)ja[Br]=String.fromCharCode(Br+32),Ef[Br]=String.fromCharCode(Br);for(var cg in ja)Ef.hasOwnProperty(cg)||(Ef[cg]=ja[cg]);function wU(t){var e=yU&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||vU&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Ef:ja)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const _U=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),EU=typeof navigator<"u"&&/Win/.test(navigator.platform);function TU(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,a;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))_U?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function kU(t){let e=Object.create(null);for(let r in t)e[TU(r)]=t[r];return e}function ug(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function NU(t){return new Yt({props:{handleKeyDown:k2(t)}})}function k2(t){let e=kU(t);return function(r,n){let s=wU(n),i,a=e[ug(s,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let o=e[ug(s,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(EU&&n.ctrlKey&&n.altKey)&&(i=ja[n.keyCode])&&i!=s){let o=e[ug(i,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}const SU=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function N2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const CU=(t,e,r)=>{let n=N2(t,r);if(!n)return!1;let s=Kb(n);if(!s){let a=n.blockRange(),o=a&&_c(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let i=s.nodeBefore;if(j2(t,s,e,-1))return!0;if(n.parent.content.size==0&&(lc(i,"end")||Ee.isSelectable(i)))for(let a=n.depth;;a--){let o=Op(t.doc,n.before(a),n.after(a),he.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(lc(i,"end")?$e.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):Ee.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},AU=(t,e,r)=>{let n=N2(t,r);if(!n)return!1;let s=Kb(n);return s?S2(t,s,e):!1},jU=(t,e,r)=>{let n=C2(t,r);if(!n)return!1;let s=Jb(n);return s?S2(t,s,e):!1};function S2(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,o=a,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let u=Op(t.doc,i,l,he.empty);if(!u||u.from!=i||u instanceof kr&&u.slice.size>=l-i)return!1;if(r){let d=t.tr.step(u);d.setSelection(De.create(d.doc,i)),r(d.scrollIntoView())}return!0}function lc(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const OU=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=Kb(n)}let a=i&&i.nodeBefore;return!a||!Ee.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ee.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function Kb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function C2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const IU=(t,e,r)=>{let n=C2(t,r);if(!n)return!1;let s=Jb(n);if(!s)return!1;let i=s.nodeAfter;if(j2(t,s,e,1))return!0;if(n.parent.content.size==0&&(lc(i,"start")||Ee.isSelectable(i))){let a=Op(t.doc,n.before(),n.after(),he.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(lc(i,"start")?$e.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):Ee.create(o.doc,o.mapping.map(s.pos))),e(o.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},PU=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=Jb(n)}let a=i&&i.nodeAfter;return!a||!Ee.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ee.create(t.doc,i.pos)).scrollIntoView()),!0)};function Jb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const RU=(t,e)=>{let r=t.selection,n=r instanceof Ee,s;if(n){if(r.node.isTextblock||!Da(t.doc,r.from))return!1;s=r.from}else if(s=jp(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(Ee.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},DU=(t,e)=>{let r=t.selection,n;if(r instanceof Ee){if(r.node.isTextblock||!Da(t.doc,r.to))return!1;n=r.to}else if(n=jp(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},MU=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&_c(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},LU=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function A2(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const FU=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),a=A2(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let o=r.after(),l=t.tr.replaceWith(o,o,a.createAndFill());l.setSelection($e.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},BU=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof gs||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=A2(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,o=t.tr.insert(a,i.createAndFill());o.setSelection(De.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},UU=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Dl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&_c(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)},HU=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(Ee.create(t.doc,s))),!0)};function zU(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Da(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function j2(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,a,o,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&zU(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(o=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(r){let f=e.pos+i.nodeSize,m=te.empty;for(let y=a.length-1;y>=0;y--)m=te.from(a[y].create(null,m));m=te.from(s.copy(m));let g=t.tr.step(new Ar(e.pos-1,f,e.pos,f,new he(m,1,0),a.length,!0)),b=g.doc.resolve(f+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Da(g.doc,b.pos)&&g.join(b.pos),r(g.scrollIntoView())}return!0}let d=i.type.spec.isolating||n>0&&l?null:$e.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&_c(h);if(p!=null&&p>=e.depth)return r&&r(t.tr.lift(h,p).scrollIntoView()),!0;if(u&&lc(i,"start",!0)&&lc(s,"end")){let f=s,m=[];for(;m.push(f),!f.isTextblock;)f=f.lastChild;let g=i,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(r){let y=te.empty;for(let T=m.length-1;T>=0;T--)y=te.from(m[T].copy(y));let E=t.tr.step(new Ar(e.pos-m.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new he(y,m.length,0),0,!0));r(E.scrollIntoView())}return!0}}return!1}function O2(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(De.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const $U=O2(-1),VU=O2(1);function qU(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,a=s.blockRange(i),o=a&&Fb(a,t,e);return o?(n&&n(r.tr.wrap(a,o).scrollIntoView()),!0):!1}}function s_(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:o}}=r.selection.ranges[i];r.doc.nodesBetween(a,o,(l,u)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let d=r.doc.resolve(u),h=d.index();s=d.parent.canReplaceWith(h,h+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[a];i.setBlockType(o,l,t,e)}n(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function WU(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,a=s.blockRange(i);if(!a)return!1;let o=n?r.tr:null;return YU(o,a,t,e)?(n&&n(o.scrollIntoView()),!0):!1}}function YU(t,e,r,n=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);i=new gf(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new gf(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let o=Fb(i,r,n,e);return o?(t&&GU(t,e,o,s,r),!0):!1}function GU(t,e,r,n,s){let i=te.empty;for(let d=r.length-1;d>=0;d--)i=te.from(r[d].type.create(r[d].attrs,i));t.step(new Ar(e.start-(n?2:0),e.end,e.start,e.end,new he(i,0,0),r.length,!0));let a=0;for(let d=0;d<r.length;d++)r[d].type==s&&(a=d+1);let o=r.length-a,l=e.start+r.length-(n?2:0),u=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&Dl(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=u.child(d).nodeSize;return t}function KU(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?JU(e,r,t,i):XU(e,r,i):!0:!1}}function JU(t,e,r,n){let s=t.tr,i=n.end,a=n.$to.end(n.depth);i<a&&(s.step(new Ar(i-1,a,i,a,new he(te.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new gf(s.doc.resolve(n.$from.pos),s.doc.resolve(a),n.depth));const o=_c(n);if(o==null)return!1;s.lift(n,o);let l=s.doc.resolve(s.mapping.map(i,-1)-1);return Da(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),e(s.scrollIntoView()),!0}function XU(t,e,r){let n=t.tr,s=r.parent;for(let f=r.end,m=r.endIndex-1,g=r.startIndex;m>g;m--)f-=s.child(m).nodeSize,n.delete(f-1,f+1);let i=n.doc.resolve(r.start),a=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let o=r.startIndex==0,l=r.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(o?0:1),d+1,a.content.append(l?te.empty:te.from(s))))return!1;let h=i.pos,p=h+a.nodeSize;return n.step(new Ar(h-(o?1:0),p+(l?1:0),h+1,p-1,new he((o?te.empty:te.from(s.copy(te.empty))).append(l?te.empty:te.from(s.copy(te.empty))),o?0:1,l?0:1),o?0:1)),e(n.scrollIntoView()),!0}function QU(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let o=i.parent,l=o.child(a-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==o.type,d=te.from(u?t.create():null),h=new he(te.from(t.create(null,te.from(o.type.create(null,d)))),u?3:1,0),p=i.start,f=i.end;r(e.tr.step(new Ar(p-(u?3:1),f,p,f,h,1,!0)).scrollIntoView())}return!0}}var ZU=Object.defineProperty,I2=(t,e)=>{for(var r in e)ZU(t,r,{get:e[r],enumerable:!0})};function Mp(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}var Lp=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...u)=>{const d=o(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,a=[],o=!!t,l=t||s.tr,u=()=>(!o&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...m)=>{const g=this.buildProps(l,e),b=p(...m)(g);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,i=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>l(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,a={tr:t,editor:n,view:i,state:Mp({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([o,l])=>[o,(...u)=>l(...u)(a)]))}};return a}},eH=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(n=>n.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(n=>n!==e):delete this.callbacks[t]),this}once(t,e){const r=(...n)=>{this.off(t,r),e.apply(this,n)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}};function P2(t,e){const r=new zS(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}var R2=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&R2(n)}return t};function oh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return R2(r)}function ud(t,e,r){if(t instanceof Ps||t instanceof te)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return te.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return r.errorOnInvalidContent&&a.check(),a}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),ud("",e,r)}if(s){if(r.errorOnInvalidContent){let a=!1,o="";const l=new NS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?ya.fromSchema(l).parseSlice(oh(t),r.parseOptions):ya.fromSchema(l).parse(oh(t),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const i=ya.fromSchema(e);return r.slice?i.parseSlice(oh(t),r.parseOptions).content:i.parse(oh(t),r.parseOptions)}return ud("",e,r)}function sx(t,e,r={},n={}){return ud(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function tH(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function rH(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,i)=>{r(s)&&n.push({node:s,pos:i})}),n}function nH(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function Fp(t){return e=>nH(e.$from,t)}function _e(t,e,r){return t.config[e]===void 0&&t.parent?_e(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?_e(t.parent,e,r):null}):t.config[e]}function Xb(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=_e(e,"addExtensions",r);return n?[e,...Xb(n())]:e}).flat(10)}function Qb(t,e){const r=Vo.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function D2(t){return typeof t=="function"}function gt(t,e=void 0,...r){return D2(t)?e?t.bind(e)(...r):t(...r):t}function sH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function dd(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function M2(t){const e=[],{nodeExtensions:r,markExtensions:n}=dd(t),s=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:s},l=_e(a,"addGlobalAttributes",o);if(!l)return;l().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([p,f])=>{e.push({type:h,name:p,attribute:{...i,...f}})})})})}),s.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},l=_e(a,"addAttributes",o);if(!l)return;const u=l();Object.entries(u).forEach(([d,h])=>{const p={...i,...h};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function er(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const o=i?String(i).split(" "):[],l=n[s]?n[s].split(" "):[],u=o.filter(d=>!l.includes(d));n[s]=[...l,...u].join(" ")}else if(s==="style"){const o=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],l=n[s]?n[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;l.forEach(d=>{const[h,p]=d.split(":").map(f=>f.trim());u.set(h,p)}),o.forEach(d=>{const[h,p]=d.split(":").map(f=>f.trim());u.set(h,p)}),n[s]=Array.from(u.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else n[s]=i}),n},{})}function Tf(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>er(r,n),{})}function iH(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function i_(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(r):iH(r.getAttribute(a.name));return o==null?i:{...i,[a.name]:o}},{});return{...n,...s}}}}function a_(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&sH(r)?!1:r!=null))}function aH(t,e){var r;const n=M2(t),{nodeExtensions:s,markExtensions:i}=dd(t),a=(r=s.find(u=>_e(u,"topNode")))==null?void 0:r.name,o=Object.fromEntries(s.map(u=>{const d=n.filter(y=>y.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((y,E)=>{const T=_e(E,"extendNodeSchema",h);return{...y,...T?T(u):{}}},{}),f=a_({...p,content:gt(_e(u,"content",h)),marks:gt(_e(u,"marks",h)),group:gt(_e(u,"group",h)),inline:gt(_e(u,"inline",h)),atom:gt(_e(u,"atom",h)),selectable:gt(_e(u,"selectable",h)),draggable:gt(_e(u,"draggable",h)),code:gt(_e(u,"code",h)),whitespace:gt(_e(u,"whitespace",h)),linebreakReplacement:gt(_e(u,"linebreakReplacement",h)),defining:gt(_e(u,"defining",h)),isolating:gt(_e(u,"isolating",h)),attrs:Object.fromEntries(d.map(y=>{var E,T;return[y.name,{default:(E=y==null?void 0:y.attribute)==null?void 0:E.default,validate:(T=y==null?void 0:y.attribute)==null?void 0:T.validate}]}))}),m=gt(_e(u,"parseHTML",h));m&&(f.parseDOM=m.map(y=>i_(y,d)));const g=_e(u,"renderHTML",h);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:Tf(y,d)}));const b=_e(u,"renderText",h);return b&&(f.toText=b),[u.name,f]})),l=Object.fromEntries(i.map(u=>{const d=n.filter(b=>b.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,y)=>{const E=_e(y,"extendMarkSchema",h);return{...b,...E?E(u):{}}},{}),f=a_({...p,inclusive:gt(_e(u,"inclusive",h)),excludes:gt(_e(u,"excludes",h)),group:gt(_e(u,"group",h)),spanning:gt(_e(u,"spanning",h)),code:gt(_e(u,"code",h)),attrs:Object.fromEntries(d.map(b=>{var y,E;return[b.name,{default:(y=b==null?void 0:b.attribute)==null?void 0:y.default,validate:(E=b==null?void 0:b.attribute)==null?void 0:E.validate}]}))}),m=gt(_e(u,"parseHTML",h));m&&(f.parseDOM=m.map(b=>i_(b,d)));const g=_e(u,"renderHTML",h);return g&&(f.toDOM=b=>g({mark:b,HTMLAttributes:Tf(b,d)})),[u.name,f]}));return new NS({topNode:a,nodes:o,marks:l})}function oH(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function Zb(t){return t.sort((r,n)=>{const s=_e(r,"priority")||100,i=_e(n,"priority")||100;return s>i?-1:s<i?1:0})}function L2(t){const e=Zb(Xb(t)),r=oH(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function F2(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=r||{};let o="";return t.nodesBetween(n,s,(l,u,d,h)=>{var p;l.isBlock&&u>n&&(o+=i);const f=a==null?void 0:a[l.type.name];if(f)return d&&(o+=f({node:l,pos:u,parent:d,index:h,range:e})),!1;l.isText&&(o+=(p=l==null?void 0:l.text)==null?void 0:p.slice(Math.max(n,u)-u,s-u))}),o}function lH(t,e){const r={from:0,to:t.content.size};return F2(t,r,e)}function B2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function Fi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function U2(t,e){const r=Fi(e,t.schema),{from:n,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,l=>{a.push(...l.marks)});const o=a.find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function ur(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function cH(t,e){const r=ur(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,o=>{i.push(o)});const a=i.reverse().find(o=>o.type.name===r.name);return a?{...a.attrs}:{}}function Bp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function H2(t,e){const r=Bp(typeof e=="string"?e:e.name,t.schema);return r==="node"?cH(t,e):r==="mark"?U2(t,e):{}}function uH(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function dH(t){const e=uH(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,a)=>a!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function z2(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((o,l)=>{a.push({from:o,to:l})});else{const{from:o,to:l}=r[i];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{const u=e.slice(i).map(o,-1),d=e.slice(i).map(l),h=e.invert().map(u,-1),p=e.invert().map(d);n.push({oldRange:{from:h,to:p},newRange:{from:u,to:d}})})}),dH(n)}function ey(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function kf(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:ey(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function $2(t,e,r={}){return t.find(n=>n.type===e&&kf(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function o_(t,e,r={}){return!!$2(t,e,r)}function ty(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!$2([...s.node.marks],e,r)))return;let a=s.index,o=t.start()+s.offset,l=a+1,u=o+s.node.nodeSize;for(;a>0&&o_([...t.parent.child(a-1).marks],e,r);)a-=1,o-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&o_([...t.parent.child(l).marks],e,r);)u+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:u}}function ry(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),a=ty(i,s.type);a&&n.push({mark:s,...a})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),n}var hH=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let i=n,a=null;for(;i>0&&a===null;){const o=s.node(i);(o==null?void 0:o.type.name)===e?a=o:i-=1}return[a,i]};function dg(t,e){return e.nodes[t]||e.marks[t]||null}function Rh(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}var fH=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,a,o)=>{var l,u;const d=((u=(l=s.type.spec).toText)==null?void 0:u.call(l,{node:s,pos:i,parent:a,index:o}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,n-i))}),r};function ix(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?Fi(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>kf(h.attrs,r,{strict:!1}));let a=0;const o=[];if(s.forEach(({$from:h,$to:p})=>{const f=h.pos,m=p.pos;t.doc.nodesBetween(f,m,(g,b)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,b),E=Math.min(m,b+g.nodeSize),T=E-y;a+=T,o.push(...g.marks.map(k=>({mark:k,from:y,to:E})))})}),a===0)return!1;const l=o.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>kf(h.mark.attrs,r,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),u=o.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,p)=>h+p.to-p.from,0);return(l>0?l+u:l)>=a}function Oa(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,a=e?ur(e,t.schema):null,o=[];t.doc.nodesBetween(n,s,(h,p)=>{if(h.isText)return;const f=Math.max(n,p),m=Math.min(s,p+h.nodeSize);o.push({node:h,from:f,to:m})});const l=s-n,u=o.filter(h=>a?a.name===h.node.type.name:!0).filter(h=>kf(h.node.attrs,r,{strict:!1}));return i?!!u.length:u.reduce((h,p)=>h+p.to-p.from,0)>=l}function pH(t,e,r={}){if(!e)return Oa(t,null,r)||ix(t,null,r);const n=Bp(e,t.schema);return n==="node"?Oa(t,e,r):n==="mark"?ix(t,e,r):!1}var mH=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const i=Fp(o=>o.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},gH=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function l_(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function c_(t,e){const{nodeExtensions:r}=dd(e),n=r.find(a=>a.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=gt(_e(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Up(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Up(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function V2(t){return t instanceof Ee}function q2(t){return t instanceof De}function ao(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function W2(t,e=null){if(!e)return null;const r=$e.atStart(t),n=$e.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?De.create(t,ao(0,s,i),ao(t.content.size,s,i)):De.create(t,ao(e,s,i),ao(e,s,i))}function xH(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof kr||s instanceof Ar))return;const i=t.mapping.maps[n];let a=0;i.forEach((o,l,u,d)=>{a===0&&(a=d)}),t.setSelection($e.near(t.doc.resolve(a),r))}var Hp=class{constructor(t){this.find=t.find,this.handler=t.handler}},bH=(t,e)=>{if(ey(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function lh(t){var e;const{editor:r,from:n,to:s,text:i,rules:a,plugin:o}=t,{view:l}=r;if(l.composing)return!1;const u=l.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const h=fH(u)+i;return a.forEach(p=>{if(d)return;const f=bH(h,p.find);if(!f)return;const m=l.state.tr,g=Mp({state:l.state,transaction:m}),b={from:n-(f[0].length-i.length),to:s},{commands:y,chain:E,can:T}=new Lp({editor:r,state:g});p.handler({state:g,range:b,match:f,commands:y,chain:E,can:T})===null||!m.steps.length||(m.setMeta(o,{transform:m,from:n,to:s,text:i}),l.dispatch(m),d=!0)}),d}function yH(t){const{editor:e,rules:r}=t,n=new Yt({state:{init(){return null},apply(s,i,a){const o=s.getMeta(n);if(o)return o;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=Qb(te.from(d),a.schema);const{from:h}=l,p=h+d.length;lh({editor:e,from:h,to:p,text:d,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,o){return lh({editor:e,from:i,to:a,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&lh({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?lh({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function vH(t){return Object.prototype.toString.call(t).slice(8,-1)}function ch(t){return vH(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Y2(t,e){const r={...t};return ch(t)&&ch(e)&&Object.keys(e).forEach(n=>{ch(e[n])&&ch(t[n])?r[n]=Y2(t[n],e[n]):r[n]=e[n]}),r}var ny=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...gt(_e(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...gt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Y2(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},qo=class G2 extends ny{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new G2(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const l=a.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function wH(t){return typeof t=="number"}var _H=class{constructor(t){this.find=t.find,this.handler=t.handler}},EH=(t,e,r)=>{if(ey(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function TH(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:a,dropEvent:o}=t,{commands:l,chain:u,can:d}=new Lp({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,s,(f,m)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(n,m),b=Math.min(s,m+f.content.size),y=f.textBetween(g-m,b-m,void 0,"ï¿¼");EH(y,i.find,a).forEach(T=>{if(T.index===void 0)return;const k=g+T.index+1,w=k+T[0].length,v={from:r.tr.mapping.map(k),to:r.tr.mapping.map(w)},N=i.handler({state:r,range:v,match:T,commands:l,chain:u,can:d,pasteEvent:a,dropEvent:o});h.push(N)})}),h.every(f=>f!==null)}var uh=null,kH=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function NH(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:d,from:h,to:p,rule:f,pasteEvt:m})=>{const g=d.tr,b=Mp({state:d,transaction:g});if(!(!TH({editor:e,state:b,from:Math.max(h-1,0),to:p.b-1,rule:f,pasteEvent:m,dropEvent:o})||!g.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(d=>new Yt({view(h){const p=m=>{var g;n=(g=h.dom.parentElement)!=null&&g.contains(m.target)?h.dom.parentElement:null,n&&(uh=e)},f=()=>{uh&&(uh=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(i=n===h.dom.parentElement,o=p,!i){const f=uh;f!=null&&f.isEditable&&setTimeout(()=>{const m=f.state.selection;m&&f.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(h,p)=>{var f;const m=(f=p.clipboardData)==null?void 0:f.getData("text/html");return a=p,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(h,p,f)=>{const m=h[0],g=m.getMeta("uiEvent")==="paste"&&!s,b=m.getMeta("uiEvent")==="drop"&&!i,y=m.getMeta("applyPasteRules"),E=!!y;if(!g&&!b&&!E)return;if(E){let{text:w}=y;typeof w=="string"?w=w:w=Qb(te.from(w),f.schema);const{from:v}=y,N=v+w.length,A=kH(w);return l({rule:d,state:f,from:v,to:{b:N},pasteEvt:A})}const T=p.doc.content.findDiffStart(f.doc.content),k=p.doc.content.findDiffEnd(f.doc.content);if(!(!wH(T)||!k||T===k.b))return l({rule:d,state:f,from:T,to:k,pasteEvt:a})}}))}var zp=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=L2(t),this.schema=aH(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:dg(e.name,this.schema)},n=_e(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this,e=Zb([...this.extensions].reverse()),r=[],n=[],s=e.map(i=>{const a={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:dg(i.name,this.schema)},o=[],l=_e(i,"addKeyboardShortcuts",a);let u={};if(i.type==="mark"&&_e(i,"exitable",a)&&(u.ArrowRight=()=>qo.handleExit({editor:t,mark:i})),l){const m=Object.fromEntries(Object.entries(l()).map(([g,b])=>[g,()=>b({editor:t})]));u={...u,...m}}const d=NU(u);o.push(d);const h=_e(i,"addInputRules",a);l_(i,t.options.enableInputRules)&&h&&r.push(...h());const p=_e(i,"addPasteRules",a);l_(i,t.options.enablePasteRules)&&p&&n.push(...p());const f=_e(i,"addProseMirrorPlugins",a);if(f){const m=f();o.push(...m)}return o}).flat();return[yH({editor:t,rules:r}),...NH({editor:t,rules:n}),...s]}get attributes(){return M2(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=dd(this.extensions);return Object.fromEntries(e.filter(r=>!!_e(r,"addNodeView")).map(r=>{const n=this.attributes.filter(o=>o.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ur(r.name,this.schema)},i=_e(r,"addNodeView",s);if(!i)return[];const a=(o,l,u,d,h)=>{const p=Tf(o,n);return i()({node:o,view:l,getPos:u,decorations:d,innerDecorations:h,editor:t,extension:r,HTMLAttributes:p})};return[r.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=dd(this.extensions);return Object.fromEntries(e.filter(r=>!!_e(r,"addMarkView")).map(r=>{const n=this.attributes.filter(o=>o.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Fi(r.name,this.schema)},i=_e(r,"addMarkView",s);if(!i)return[];const a=(o,l,u)=>{const d=Tf(o,n);return i()({mark:o,view:l,inline:u,editor:t,extension:r,HTMLAttributes:d,updateAttributes:h=>{H7(o,t,h)}})};return[r.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:dg(e.name,this.schema)};e.type==="mark"&&((r=gt(_e(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=_e(e,"onBeforeCreate",n),i=_e(e,"onCreate",n),a=_e(e,"onUpdate",n),o=_e(e,"onSelectionUpdate",n),l=_e(e,"onTransaction",n),u=_e(e,"onFocus",n),d=_e(e,"onBlur",n),h=_e(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}};zp.resolve=L2;zp.sort=Zb;zp.flatten=Xb;var SH={};I2(SH,{ClipboardTextSerializer:()=>J2,Commands:()=>Z2,Delete:()=>eC,Drop:()=>tC,Editable:()=>rC,FocusEvents:()=>sC,Keymap:()=>iC,Paste:()=>aC,Tabindex:()=>oC,focusEventsPluginKey:()=>nC});var tr=class K2 extends ny{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new K2(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},J2=tr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Yt({key:new Pr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),o=Math.max(...i.map(d=>d.$to.pos)),l=B2(r);return F2(n,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),X2={};I2(X2,{blur:()=>CH,clearContent:()=>AH,clearNodes:()=>jH,command:()=>OH,createParagraphNear:()=>IH,cut:()=>PH,deleteCurrentNode:()=>RH,deleteNode:()=>DH,deleteRange:()=>MH,deleteSelection:()=>LH,enter:()=>FH,exitCode:()=>BH,extendMarkRange:()=>UH,first:()=>HH,focus:()=>$H,forEach:()=>VH,insertContent:()=>qH,insertContentAt:()=>YH,joinBackward:()=>JH,joinDown:()=>KH,joinForward:()=>XH,joinItemBackward:()=>QH,joinItemForward:()=>ZH,joinTextblockBackward:()=>e7,joinTextblockForward:()=>t7,joinUp:()=>GH,keyboardShortcut:()=>n7,lift:()=>s7,liftEmptyBlock:()=>i7,liftListItem:()=>a7,newlineInCode:()=>o7,resetAttributes:()=>l7,scrollIntoView:()=>c7,selectAll:()=>u7,selectNodeBackward:()=>d7,selectNodeForward:()=>h7,selectParentNode:()=>f7,selectTextblockEnd:()=>p7,selectTextblockStart:()=>m7,setContent:()=>g7,setMark:()=>b7,setMeta:()=>y7,setNode:()=>v7,setNodeSelection:()=>w7,setTextSelection:()=>_7,sinkListItem:()=>E7,splitBlock:()=>T7,splitListItem:()=>k7,toggleList:()=>N7,toggleMark:()=>S7,toggleNode:()=>C7,toggleWrap:()=>A7,undoInputRule:()=>j7,unsetAllMarks:()=>O7,unsetMark:()=>I7,updateAttributes:()=>P7,wrapIn:()=>R7,wrapInList:()=>D7});var CH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),AH=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),jH=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(o,l)=>{if(o.type.isText)return;const{doc:u,mapping:d}=e,h=u.resolve(d.map(l)),p=u.resolve(d.map(l+o.nodeSize)),f=h.blockRange(p);if(!f)return;const m=_c(f);if(o.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(f.start,g)}(m||m===0)&&e.lift(f,m)})}),!0},OH=t=>e=>t(e),IH=()=>({state:t,dispatch:e})=>BU(t,e),PH=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const a=n.mapping.map(e);return n.insert(a,i.content),n.setSelection(new De(n.doc.resolve(Math.max(a-1,0)))),!0},RH=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const o=s.before(i),l=s.after(i);t.delete(o,l).scrollIntoView()}return!0}return!1},DH=t=>({tr:e,state:r,dispatch:n})=>{const s=ur(t,r.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(n){const l=i.before(a),u=i.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},MH=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},LH=()=>({state:t,dispatch:e})=>SU(t,e),FH=()=>({commands:t})=>t.keyboardShortcut("Enter"),BH=()=>({state:t,dispatch:e})=>FU(t,e),UH=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=Fi(t,n.schema),{doc:a,selection:o}=r,{$from:l,from:u,to:d}=o;if(s){const h=ty(l,i,e);if(h&&h.from<=u&&h.to>=d){const p=De.create(a,h.from,h.to);r.setSelection(p)}}return!0},HH=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function zH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function sy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var $H=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(sy()||zH())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!q2(r.state.selection))return a(),!0;const o=W2(s.doc,t)||r.state.selection,l=r.state.selection.eq(o);return i&&(l||s.setSelection(o),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},VH=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),qH=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),WH=t=>!("type"in t),YH=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var a;if(s){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o;const{selection:l}=i.state,u=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{ud(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(y){u(y)}try{o=ud(e,i.schema,{parseOptions:d,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(y){return u(y),!1}let{from:h,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,m=!0;if((WH(o)?o:[o]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,m=m?y.isBlock:!1}),h===p&&m){const{parent:y}=n.doc.resolve(h);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(h-=1,p+=1)}let b;if(f){if(Array.isArray(e))b=e.map(y=>y.text||"").join("");else if(e instanceof te){let y="";e.forEach(E=>{E.text&&(y+=E.text)}),b=y}else typeof e=="object"&&e&&e.text?b=e.text:b=e;n.insertText(b,h,p)}else{b=o;const y=l.$from.parentOffset===0,E=l.$from.node().isText||l.$from.node().isTextblock,T=l.$from.node().content.size>0;y&&E&&T&&(h=Math.max(0,h-1)),n.replaceWith(h,p,b)}r.updateSelection&&xH(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:b}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:b})}return!0},GH=()=>({state:t,dispatch:e})=>RU(t,e),KH=()=>({state:t,dispatch:e})=>DU(t,e),JH=()=>({state:t,dispatch:e})=>CU(t,e),XH=()=>({state:t,dispatch:e})=>IU(t,e),QH=()=>({state:t,dispatch:e,tr:r})=>{try{const n=jp(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},ZH=()=>({state:t,dispatch:e,tr:r})=>{try{const n=jp(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},e7=()=>({state:t,dispatch:e})=>AU(t,e),t7=()=>({state:t,dispatch:e})=>jU(t,e);function Q2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function r7(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,a;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))sy()||Q2()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var n7=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=r7(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,o))});return l==null||l.steps.forEach(u=>{const d=u.map(n.mapping);d&&s&&n.maybeStep(d)}),!0},s7=(t,e={})=>({state:r,dispatch:n})=>{const s=ur(t,r.schema);return Oa(r,s,e)?MU(r,n):!1},i7=()=>({state:t,dispatch:e})=>UU(t,e),a7=t=>({state:e,dispatch:r})=>{const n=ur(t,e.schema);return KU(n)(e,r)},o7=()=>({state:t,dispatch:e})=>LU(t,e);function u_(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var l7=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,a=null;const o=Bp(typeof t=="string"?t:t.name,n.schema);return o?(o==="node"&&(i=ur(t,n.schema)),o==="mark"&&(a=Fi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{i&&i===u.type&&r.setNodeMarkup(d,void 0,u_(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(h=>{a===h.type&&r.addMark(d,d+u.nodeSize,a.create(u_(h.attrs,e)))})})}),!0):!1},c7=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),u7=()=>({tr:t,dispatch:e})=>{if(e){const r=new gs(t.doc);t.setSelection(r)}return!0},d7=()=>({state:t,dispatch:e})=>OU(t,e),h7=()=>({state:t,dispatch:e})=>PU(t,e),f7=()=>({state:t,dispatch:e})=>HU(t,e),p7=()=>({state:t,dispatch:e})=>VU(t,e),m7=()=>({state:t,dispatch:e})=>$U(t,e),g7=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:i,dispatch:a,commands:o})=>{const{doc:l}=i;if(n.preserveWhitespace!=="full"){const u=sx(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!r),!0}return a&&i.setMeta("preventUpdate",!r),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function x7(t,e,r){var n;const{selection:s}=e;let i=null;if(q2(s)&&(i=s.$cursor),i){const o=(n=t.storedMarks)!=null?n:i.marks();return!!r.isInSet(o)||!o.some(l=>l.type.excludes(r))}const{ranges:a}=s;return a.some(({$from:o,$to:l})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(o.pos,l.pos,(d,h,p)=>{if(u)return!1;if(d.isInline){const f=!p||p.type.allowsMarkType(r),m=!!r.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(r));u=f&&m}return!u}),u})}var b7=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:a,ranges:o}=i,l=Fi(t,n.schema);if(s)if(a){const u=U2(n,l);r.addStoredMark(l.create({...u,...e}))}else o.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;n.doc.nodesBetween(d,h,(p,f)=>{const m=Math.max(f,d),g=Math.min(f+p.nodeSize,h);p.marks.find(y=>y.type===l)?p.marks.forEach(y=>{l===y.type&&r.addMark(m,g,l.create({...y.attrs,...e}))}):r.addMark(m,g,l.create(e))})});return x7(n,r,l)},y7=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),v7=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=ur(t,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:o})=>s_(i,{...a,...e})(r)?!0:o.clearNodes()).command(({state:o})=>s_(i,{...a,...e})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},w7=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=ao(t,0,n.content.size),i=Ee.create(n,s);e.setSelection(i)}return!0},_7=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=De.atStart(n).from,o=De.atEnd(n).to,l=ao(s,a,o),u=ao(i,a,o),d=De.create(n,l,u);e.setSelection(d)}return!0},E7=t=>({state:e,dispatch:r})=>{const n=ur(t,e.schema);return QU(n)(e,r)};function d_(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var T7=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:a}=e,{$from:o,$to:l}=i,u=s.extensionManager.attributes,d=Rh(u,o.node().type.name,o.node().attrs);if(i instanceof Ee&&i.node.isBlock)return!o.parentOffset||!Dl(a,o.pos)?!1:(n&&(t&&d_(r,s.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,p=o.depth===0?void 0:tH(o.node(-1).contentMatchAt(o.indexAfter(-1)));let f=h&&p?[{type:p,attrs:d}]:void 0,m=Dl(e.doc,e.mapping.map(o.pos),1,f);if(!f&&!m&&Dl(e.doc,e.mapping.map(o.pos),1,p?[{type:p}]:void 0)&&(m=!0,f=p?[{type:p,attrs:d}]:void 0),n){if(m&&(i instanceof De&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,f),p&&!h&&!o.parentOffset&&o.parent.type!==p)){const g=e.mapping.map(o.before()),b=e.doc.resolve(g);o.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(o.before()),p)}t&&d_(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},k7=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var a;const o=ur(t,n.schema),{$from:l,$to:u}=n.selection,d=n.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(u))return!1;const h=l.node(-1);if(h.type!==o)return!1;const p=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let y=te.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let A=l.depth-E;A>=l.depth-3;A-=1)y=te.from(l.node(A).copy(y));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...Rh(p,l.node().type.name,l.node().attrs),...e},w=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(k))||void 0;y=y.append(te.from(o.createAndFill(null,w)||void 0));const v=l.before(l.depth-(E-1));r.replace(v,l.after(-T),new he(y,4-E,0));let N=-1;r.doc.nodesBetween(v,r.doc.content.size,(A,I)=>{if(N>-1)return!1;A.isTextblock&&A.content.size===0&&(N=I+1)}),N>-1&&r.setSelection(De.near(r.doc.resolve(N))),r.scrollIntoView()}return!0}const f=u.pos===l.end()?h.contentMatchAt(0).defaultType:null,m={...Rh(p,h.type.name,h.attrs),...e},g={...Rh(p,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,u.pos);const b=f?[{type:o,attrs:m},{type:f,attrs:g}]:[{type:o,attrs:m}];if(!Dl(r.doc,l.pos,2))return!1;if(s){const{selection:y,storedMarks:E}=n,{splittableMarks:T}=i.extensionManager,k=E||y.$to.parentOffset&&y.$from.marks();if(r.split(l.pos,2,b).scrollIntoView(),!k||!s)return!0;const w=k.filter(v=>T.includes(v.type.name));r.ensureMarks(w)}return!0},hg=(t,e)=>{const r=Fp(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Da(t.doc,r.pos)&&t.join(r.pos),!0},fg=(t,e)=>{const r=Fp(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Da(t.doc,n)&&t.join(n),!0},N7=(t,e,r,n={})=>({editor:s,tr:i,state:a,dispatch:o,chain:l,commands:u,can:d})=>{const{extensions:h,splittableMarks:p}=s.extensionManager,f=ur(t,a.schema),m=ur(e,a.schema),{selection:g,storedMarks:b}=a,{$from:y,$to:E}=g,T=y.blockRange(E),k=b||g.$to.parentOffset&&g.$from.marks();if(!T)return!1;const w=Fp(v=>c_(v.type.name,h))(g);if(T.depth>=1&&w&&T.depth-w.depth<=1){if(w.node.type===f)return u.liftListItem(m);if(c_(w.node.type.name,h)&&f.validContent(w.node.content)&&o)return l().command(()=>(i.setNodeMarkup(w.pos,f),!0)).command(()=>hg(i,f)).command(()=>fg(i,f)).run()}return!r||!k||!o?l().command(()=>d().wrapInList(f,n)?!0:u.clearNodes()).wrapInList(f,n).command(()=>hg(i,f)).command(()=>fg(i,f)).run():l().command(()=>{const v=d().wrapInList(f,n),N=k.filter(A=>p.includes(A.type.name));return i.ensureMarks(N),v?!0:u.clearNodes()}).wrapInList(f,n).command(()=>hg(i,f)).command(()=>fg(i,f)).run()},S7=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,a=Fi(t,n.schema);return ix(n,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},C7=(t,e,r={})=>({state:n,commands:s})=>{const i=ur(t,n.schema),a=ur(e,n.schema),o=Oa(n,i,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o?s.setNode(a,l):s.setNode(i,{...l,...r})},A7=(t,e={})=>({state:r,commands:n})=>{const s=ur(t,r.schema);return Oa(r,s,e)?n.lift(s):n.wrapIn(s,e)},j7=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,o=i.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(i.text){const l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else a.delete(i.from,i.to)}return!0}}return!1},O7=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},I7=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=r,l=Fi(t,n.schema),{$from:u,empty:d,ranges:h}=o;if(!s)return!0;if(d&&a){let{from:p,to:f}=o;const m=(i=u.marks().find(b=>b.type===l))==null?void 0:i.attrs,g=ty(u,l,m);g&&(p=g.from,f=g.to),r.removeMark(p,f,l)}else h.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,l)});return r.removeStoredMark(l),!0},P7=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,a=null;const o=Bp(typeof t=="string"?t:t.name,n.schema);return o?(o==="node"&&(i=ur(t,n.schema)),o==="mark"&&(a=Fi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;let h,p,f,m;r.selection.empty?n.doc.nodesBetween(u,d,(g,b)=>{i&&i===g.type&&(f=Math.max(b,u),m=Math.min(b+g.nodeSize,d),h=b,p=g)}):n.doc.nodesBetween(u,d,(g,b)=>{b<u&&i&&i===g.type&&(f=Math.max(b,u),m=Math.min(b+g.nodeSize,d),h=b,p=g),b>=u&&b<=d&&(i&&i===g.type&&r.setNodeMarkup(b,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(y=>{if(a===y.type){const E=Math.max(b,u),T=Math.min(b+g.nodeSize,d);r.addMark(E,T,a.create({...y.attrs,...e}))}}))}),p&&(h!==void 0&&r.setNodeMarkup(h,void 0,{...p.attrs,...e}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&r.addMark(f,m,a.create({...g.attrs,...e}))}))}),!0):!1},R7=(t,e={})=>({state:r,dispatch:n})=>{const s=ur(t,r.schema);return qU(s,e)(r,n)},D7=(t,e={})=>({state:r,dispatch:n})=>{const s=ur(t,r.schema);return WU(s,e)(r,n)},Z2=tr.create({name:"commands",addCommands(){return{...X2}}}),eC=tr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const i=()=>{var a,o,l,u;if((u=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,t))!=null?u:t.getMeta("y-sync$"))return;const d=P2(t.before,[t,...e]);z2(d).forEach(f=>{d.mapping.mapResult(f.oldRange.from).deletedAfter&&d.mapping.mapResult(f.oldRange.to).deletedBefore&&d.before.nodesBetween(f.oldRange.from,f.oldRange.to,(m,g)=>{const b=g+m.nodeSize-2,y=f.oldRange.from<=g&&b<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:b,newFrom:d.mapping.map(g),newTo:d.mapping.map(b),deletedRange:f.oldRange,newRange:f.newRange,partial:!y,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((f,m)=>{var g,b;if(f instanceof Os){const y=p.slice(m).map(f.from,-1),E=p.slice(m).map(f.to),T=p.invert().map(y,-1),k=p.invert().map(E),w=(g=d.doc.nodeAt(y-1))==null?void 0:g.marks.some(N=>N.eq(f.mark)),v=(b=d.doc.nodeAt(E))==null?void 0:b.marks.some(N=>N.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:T,to:k},newRange:{from:y,to:E},partial:!!(v||w),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(i,0):i()}}),tC=tr.create({name:"drop",addProseMirrorPlugins(){return[new Yt({key:new Pr("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),rC=tr.create({name:"editable",addProseMirrorPlugins(){return[new Yt({key:new Pr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),nC=new Pr("focusEvents"),sC=tr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Yt({key:nC,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),iC=tr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:l,doc:u}=o,{empty:d,$anchor:h}=l,{pos:p,parent:f}=h,m=h.parent.isTextblock&&p>0?o.doc.resolve(p-1):h,g=m.parent.type.spec.isolating,b=h.pos-h.parentOffset,y=g&&m.parent.childCount===1?b===h.pos:$e.atStart(u).from===p;return!d||!f.type.isTextblock||f.textContent.length||!y||y&&h.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return sy()||Q2()?i:s},addProseMirrorPlugins(){return[new Yt({key:new Pr("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(g=>g.getMeta("composition")))return;const n=t.some(g=>g.docChanged)&&!e.doc.eq(r.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:a,to:o}=e.selection,l=$e.atStart(e.doc).from,u=$e.atEnd(e.doc).to;if(i||!(a===l&&o===u)||!Up(r.doc))return;const p=r.tr,f=Mp({state:r,transaction:p}),{commands:m}=new Lp({editor:this.editor,state:f});if(m.clearNodes(),!!p.steps.length)return p}})]}}),aC=tr.create({name:"paste",addProseMirrorPlugins(){return[new Yt({key:new Pr("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),oC=tr.create({name:"tabindex",addProseMirrorPlugins(){return[new Yt({key:new Pr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),M7=class xl{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canât set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new xl(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,a=this.pos+n+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!s&&o.depth<=this.depth)return;const l=new xl(o,this.editor,s,s?r:null);s&&(l.actualDepth=this.depth+1),e.push(new xl(o,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,a=Object.keys(r);for(let o=0;o<a.length;o+=1){const l=a[o];if(i[l]!==r[l])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(a=>{n&&s.length>0||(a.node.type.name===e&&i.every(l=>r[l]===a.node.attrs[l])&&s.push(a),!(n&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},L7=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function F7(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var B7=class extends eH{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=W2(e,this.options.autofocus);this.editorState=El.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=F7(L7,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=D2(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[rC,J2.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Z2,sC,iC,oC,tC,aC,eC].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new zp(n,this)}createCommandManager(){this.commandManager=new Lp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=sx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=sx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new T2(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),o=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return H2(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return pH(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Qb(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return lH(this.state.doc,{blockSeparator:e,textSerializers:{...B2(this.schema),...r}})}get isEmpty(){return Up(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new M7(e,this)}get $doc(){return this.$pos(0)}};function cc(t){return new Hp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=gt(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,a=n[n.length-1],o=n[0];if(a){const l=o.search(/\S/),u=r.from+o.indexOf(a),d=u+a.length;if(ry(r.from,r.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>u).length)return null;d<r.to&&i.delete(d,r.to),u>r.from&&i.delete(r.from+l,u);const p=r.from+l+a.length;i.addMark(r.from+l,p,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function lC(t){return new Hp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=gt(t.getAttributes,void 0,n)||{},{tr:i}=e,a=r.from;let o=r.to;const l=t.type.create(s);if(n[1]){const u=n[0].lastIndexOf(n[1]);let d=a+u;d>o?d=o:o=d+n[1].length;const h=n[0][n[0].length-1];i.insertText(h,a+n[0].length-1),i.replaceWith(d,o,l)}else if(n[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(o))}i.scrollIntoView()}})}function ax(t){return new Hp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=gt(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)}})}function uc(t){return new Hp({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=gt(t.getAttributes,void 0,n)||{},a=e.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),u=l&&Fb(l,t.type,i);if(!u)return null;if(a.wrap(l,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:p}=e,{splittableMarks:f}=t.editor.extensionManager,m=p||h.$to.parentOffset&&h.$from.marks();if(m){const g=m.filter(b=>f.includes(b.type.name));a.ensureMarks(g)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,i).run()}const d=a.doc.resolve(r.from-1).nodeBefore;d&&d.type===t.type&&Da(a.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,d))&&a.join(r.from-1)}})}function U7(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Ee){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let s=n.depth;for(;s>=0;){const i=n.index(s);if(n.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function H7(t,e,r={}){const{state:n}=e,{doc:s,tr:i}=n,a=t;s.descendants((o,l)=>{const u=i.mapping.map(l),d=i.mapping.map(l)+o.nodeSize;let h=null;if(o.marks.forEach(f=>{if(f!==a)return!1;h=f}),!h)return;let p=!1;if(Object.keys(r).forEach(f=>{r[f]!==h.attrs[f]&&(p=!0)}),p){const f=t.type.create({...t.attrs,...r});i.removeMark(u,d,t.type),i.addMark(u,d,f)}}),i.docChanged&&e.view.dispatch(i)}var Mn=class cC extends ny{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new cC(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Bo(t){return new _H({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=gt(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:a}=e,o=n[n.length-1],l=n[0];let u=r.to;if(o){const d=l.search(/\S/),h=r.from+l.indexOf(o),p=h+o.length;if(ry(r.from,r.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===t.type&&b!==m.mark.type)).filter(m=>m.to>h).length)return null;p<r.to&&a.delete(p,r.to),h>r.from&&a.delete(r.from+d,h),u=r.from+d+o.length,a.addMark(r.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}var z7=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r};const $7=hc(z7);var uC={exports:{}},dC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=D,V7=Db;function q7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var W7=typeof Object.is=="function"?Object.is:q7,Y7=V7.useSyncExternalStore,G7=$p.useRef,K7=$p.useEffect,J7=$p.useMemo,X7=$p.useDebugValue;dC.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=G7(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=J7(function(){function l(f){if(!u){if(u=!0,d=f,f=n(f),s!==void 0&&a.hasValue){var m=a.value;if(s(m,f))return h=m}return h=f}if(m=h,W7(d,f))return m;var g=n(f);return s!==void 0&&s(m,g)?(d=f,m):(d=f,h=g)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,s]);var o=Y7(t,i[0],i[1]);return K7(function(){a.hasValue=!0,a.value=o},[o]),X7(o),o};uC.exports=dC;var Q7=uC.exports,Z7=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},ez=({contentComponent:t})=>{const e=Db.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return c.jsx(c.Fragment,{children:Object.values(e)})};function tz(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:DA.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var rz=class extends Ae.Component{constructor(t){var e;super(t),this.editorContentRef=Ae.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=tz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:t,innerRef:e,...r}=this.props;return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:Z7(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&c.jsx(ez,{contentComponent:t.contentComponent})]})}},nz=D.forwardRef((t,e)=>{const r=Ae.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ae.createElement(rz,{key:r,innerRef:e,...t})}),sz=Ae.memo(nz),iz=typeof window<"u"?D.useLayoutEffect:D.useEffect,az=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function oz(t){var e;const[r]=D.useState(()=>new az(t.editor)),n=Q7.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:$7);return iz(()=>r.watch(t.editor),[t.editor,r]),D.useDebugValue(n),n}var lz=!1,ox=typeof window>"u",cz=ox||!!(typeof window<"u"&&window.next),uz=class hC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return ox||cz?null:this.createEditor();if(this.options.current.immediatelyRender&&ox&&lz)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...n)},onDrop:(...n)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...n)},onPaste:(...n)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...n)},onDelete:(...n)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...n)}};return new B7(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=r.extensions)==null?void 0:a[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?hC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function dz(t={},e=[]){const r=D.useRef(t);r.current=t;const[n]=D.useState(()=>new uz(r)),s=Db.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return D.useDebugValue(s),D.useEffect(n.onRender(e)),oz({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var hz=D.createContext({editor:null});hz.Consumer;var fz=D.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),pz=()=>D.useContext(fz);Ae.forwardRef((t,e)=>{const{onDragStart:r}=pz(),n=t.as||"div";return c.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});Ae.createContext({markViewContentRef:()=>{}});var Nf=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},mz=/^\s*>\s$/,fC=Mn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Nf("blockquote",{...er(this.options.HTMLAttributes,t),children:Nf("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[uc({find:mz,type:this.type})]}}),gz=fC,xz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,bz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,wz=qo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Nf("strong",{...er(this.options.HTMLAttributes,t),children:Nf("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[cc({find:xz,type:this.type}),cc({find:yz,type:this.type})]},addPasteRules(){return[Bo({find:bz,type:this.type}),Bo({find:vz,type:this.type})]}}),_z=/(^|[^`])`([^`]+)`(?!`)/,Ez=/(^|[^`])`([^`]+)`(?!`)/g,pC=qo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[cc({find:_z,type:this.type})]},addPasteRules(){return[Bo({find:Ez,type:this.type})]}}),Tz=pC,kz=/^```([a-z]+)?[\s\n]$/,Nz=/^~~~([a-z]+)?[\s\n]$/,mC=Mn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",er(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:n.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection($e.near(n.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[ax({find:kz,type:this.type,getAttributes:t=>({language:t[1]})}),ax({find:Nz,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yt({key:new Pr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:a,schema:o}=t.state,l=o.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(De.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Sz=mC,Cz=Mn.create({name:"doc",topNode:!0,content:"block+"}),Az=Mn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",er(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=n.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&a){const h=l.filter(p=>o.includes(p.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),jz=Mn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,er(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ax({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),gC=Mn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",er(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!U7(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return V2(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:i,dispatch:a})=>{var o;if(a){const{$to:l}=i.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(De.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(Ee.create(i.doc,l.pos)):i.setSelection(De.create(i.doc,l.pos));else{const d=(o=l.parent.type.contentMatch.defaultType)==null?void 0:o.create();d&&(i.insert(u,d),i.setSelection(De.create(i.doc,u+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lC({find:/^(?:---|â-|___\s|\*\*\*\s)$/,type:this.type})]}}),Oz=gC,Iz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Pz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Rz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Dz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Mz=qo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[cc({find:Iz,type:this.type}),cc({find:Rz,type:this.type})]},addPasteRules(){return[Bo({find:Pz,type:this.type}),Bo({find:Dz,type:this.type})]}});const Lz="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Fz="ÎµÎ»1Ï2Ð±Ð³1ÐµÐ»3Ð´ÐµÑÐ¸4ÐµÑ2ÐºÐ°ÑÐ¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5ÑÐ³3ÑÑÑ2Ñ2ÑÐ°Ð¹Ñ3ÑÐ±3ÑÐºÑ3ÒÐ°Ð·3Õ°Õ¡Õµ3××©×¨××5×§××3Ø§Ø¨ÙØ¸Ø¨Ù5Ø±Ø§ÙÙÙ5ÙØ§Ø±Ø¯Ù4Ø¨Ø­Ø±ÙÙ5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙØ¯ÙØ©6Ø¹ÙÙØ§Ù5ÙØºØ±Ø¨5ÙØ§Ø±Ø§Øª5ÛØ±Ø§Ù5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙØªÙ3Ú¾Ø§Ø±Øª5ØªÙÙØ³4Ø³ÙØ¯Ø§Ù3Ø±ÙØ©5Ø´Ø¨ÙØ©4Ø¹Ø±Ø§Ù2Ø¨2ÙØ§Ù4ÙÙØ³Ø·ÙÙ6ÙØ·Ø±3ÙØ§Ø«ÙÙÙÙ6ÙÙ3ÙØµØ±2ÙÙØ³ÙØ§5ÙØ±ÙØªØ§ÙÙØ§7ÙØ¹4ÙÙØ±Ø§Ù5Ù¾Ø§Ú©Ø³ØªØ§Ù7ÚØ§Ø±Øª4à¤à¥à¤®3à¤¨à¥à¤3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥à¤¤5à¤¸à¤à¤à¤ à¤¨5à¦¬à¦¾à¦à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®à®¨à¯à®¤à®¿à®¯à®¾6à®²à®à¯à®à¯6à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´5à¶½à¶à¶à·4à¸à¸­à¸¡3à¹à¸à¸¢3àº¥àº²àº§3áá2ã¿ããª3ã¢ãã¾ã³4ã¯ã©ã¦ã4ã°ã¼ã°ã«4ã³ã 2ã¹ãã¢3ã»ã¼ã«3ãã¡ãã·ã§ã³6ãã¤ã³ã4ä¸ç2ä¸­ä¿¡1å½1å1æç½3äºé©¬é3ä¼ä¸2ä½å±±2ä¿¡æ¯2å¥åº·2å«å¦2å¬å¸1ç2å°æ¹¾1ç£2åå1åº1æ 2åé0å¤§éåº5å¨çº¿2å¤§æ¿2å¤©ä¸»æ3å¨±ä¹2å®¶é»2å¹¿ä¸2å¾®å2æå2æç±ä½ 3ææº2æè2æ¿å¡1åº2æ°å å¡2é»2æ¶å°2æ¸ç±2æºæ2æ·¡é©¬é¡3æ¸¸æ2æ¾³é2ç¹ç2ç§»å¨2ç»ç»æºæ4ç½å1åº1ç«1ç»2èé2è°·æ­2è´­ç©2éè²©2éå¢2é»è¨çç§4é£å©æµ¦3é£å2é¤å2é¦æ ¼éæ3æ¸¯2ë·ë·1ì»´2ì¼ì±2íêµ­2",lx="numeric",cx="ascii",ux="alpha",Su="asciinumeric",su="alphanumeric",dx="domain",xC="emoji",Bz="scheme",Uz="slashscheme",pg="whitespace";function Hz(t,e){return t in e||(e[t]=[]),e[t]}function oo(t,e,r){e[lx]&&(e[Su]=!0,e[su]=!0),e[cx]&&(e[Su]=!0,e[ux]=!0),e[Su]&&(e[su]=!0),e[ux]&&(e[su]=!0),e[su]&&(e[dx]=!0),e[xC]&&(e[dx]=!0);for(const n in e){const s=Hz(n,r);s.indexOf(t)<0&&s.push(t)}}function zz(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Sn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Sn.groups={};Sn.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],i=e.jr[n][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||Sn.groups;let s;return e&&e.j?s=e:(s=new Sn(e),r&&n&&oo(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||Sn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,o=s.go(t);if(o?(a=new Sn,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Sn,i){if(n)if(a.t&&typeof a.t=="string"){const l=Object.assign(zz(a.t,n),r);oo(i,l,n)}else r&&oo(i,r,n);a.t=i}return s.j[t]=a,a}};const Ve=(t,e,r,n,s)=>t.ta(e,r,n,s),$t=(t,e,r,n,s)=>t.tr(e,r,n,s),h_=(t,e,r,n,s)=>t.ts(e,r,n,s),ne=(t,e,r,n,s)=>t.tt(e,r,n,s),yi="WORD",hx="UWORD",bC="ASCIINUMERICAL",yC="ALPHANUMERICAL",hd="LOCALHOST",fx="TLD",px="UTLD",Dh="SCHEME",bl="SLASH_SCHEME",iy="NUM",mx="WS",ay="NL",Cu="OPENBRACE",Au="CLOSEBRACE",Sf="OPENBRACKET",Cf="CLOSEBRACKET",Af="OPENPAREN",jf="CLOSEPAREN",Of="OPENANGLEBRACKET",If="CLOSEANGLEBRACKET",Pf="FULLWIDTHLEFTPAREN",Rf="FULLWIDTHRIGHTPAREN",Df="LEFTCORNERBRACKET",Mf="RIGHTCORNERBRACKET",Lf="LEFTWHITECORNERBRACKET",Ff="RIGHTWHITECORNERBRACKET",Bf="FULLWIDTHLESSTHAN",Uf="FULLWIDTHGREATERTHAN",Hf="AMPERSAND",zf="APOSTROPHE",$f="ASTERISK",Qi="AT",Vf="BACKSLASH",qf="BACKTICK",Wf="CARET",na="COLON",oy="COMMA",Yf="DOLLAR",qs="DOT",Gf="EQUALS",ly="EXCLAMATION",rs="HYPHEN",ju="PERCENT",Kf="PIPE",Jf="PLUS",Xf="POUND",Ou="QUERY",cy="QUOTE",vC="FULLWIDTHMIDDLEDOT",uy="SEMI",Ws="SLASH",Iu="TILDE",Qf="UNDERSCORE",wC="EMOJI",Zf="SYM";var _C=Object.freeze({__proto__:null,ALPHANUMERICAL:yC,AMPERSAND:Hf,APOSTROPHE:zf,ASCIINUMERICAL:bC,ASTERISK:$f,AT:Qi,BACKSLASH:Vf,BACKTICK:qf,CARET:Wf,CLOSEANGLEBRACKET:If,CLOSEBRACE:Au,CLOSEBRACKET:Cf,CLOSEPAREN:jf,COLON:na,COMMA:oy,DOLLAR:Yf,DOT:qs,EMOJI:wC,EQUALS:Gf,EXCLAMATION:ly,FULLWIDTHGREATERTHAN:Uf,FULLWIDTHLEFTPAREN:Pf,FULLWIDTHLESSTHAN:Bf,FULLWIDTHMIDDLEDOT:vC,FULLWIDTHRIGHTPAREN:Rf,HYPHEN:rs,LEFTCORNERBRACKET:Df,LEFTWHITECORNERBRACKET:Lf,LOCALHOST:hd,NL:ay,NUM:iy,OPENANGLEBRACKET:Of,OPENBRACE:Cu,OPENBRACKET:Sf,OPENPAREN:Af,PERCENT:ju,PIPE:Kf,PLUS:Jf,POUND:Xf,QUERY:Ou,QUOTE:cy,RIGHTCORNERBRACKET:Mf,RIGHTWHITECORNERBRACKET:Ff,SCHEME:Dh,SEMI:uy,SLASH:Ws,SLASH_SCHEME:bl,SYM:Zf,TILDE:Iu,TLD:fx,UNDERSCORE:Qf,UTLD:px,UWORD:hx,WORD:yi,WS:mx});const gi=/[a-z]/,zc=new RegExp("\\p{L}","u"),mg=new RegExp("\\p{Emoji}","u"),xi=/\d/,gg=/\s/,f_="\r",xg=`
`,$z="ï¸",Vz="â",bg="ï¿¼";let dh=null,hh=null;function qz(t=[]){const e={};Sn.groups=e;const r=new Sn;dh==null&&(dh=p_(Lz)),hh==null&&(hh=p_(Fz)),ne(r,"'",zf),ne(r,"{",Cu),ne(r,"}",Au),ne(r,"[",Sf),ne(r,"]",Cf),ne(r,"(",Af),ne(r,")",jf),ne(r,"<",Of),ne(r,">",If),ne(r,"ï¼",Pf),ne(r,"ï¼",Rf),ne(r,"ã",Df),ne(r,"ã",Mf),ne(r,"ã",Lf),ne(r,"ã",Ff),ne(r,"ï¼",Bf),ne(r,"ï¼",Uf),ne(r,"&",Hf),ne(r,"*",$f),ne(r,"@",Qi),ne(r,"`",qf),ne(r,"^",Wf),ne(r,":",na),ne(r,",",oy),ne(r,"$",Yf),ne(r,".",qs),ne(r,"=",Gf),ne(r,"!",ly),ne(r,"-",rs),ne(r,"%",ju),ne(r,"|",Kf),ne(r,"+",Jf),ne(r,"#",Xf),ne(r,"?",Ou),ne(r,'"',cy),ne(r,"/",Ws),ne(r,";",uy),ne(r,"~",Iu),ne(r,"_",Qf),ne(r,"\\",Vf),ne(r,"ã»",vC);const n=$t(r,xi,iy,{[lx]:!0});$t(n,xi,n);const s=$t(n,gi,bC,{[Su]:!0}),i=$t(n,zc,yC,{[su]:!0}),a=$t(r,gi,yi,{[cx]:!0});$t(a,xi,s),$t(a,gi,a),$t(s,xi,s),$t(s,gi,s);const o=$t(r,zc,hx,{[ux]:!0});$t(o,gi),$t(o,xi,i),$t(o,zc,o),$t(i,xi,i),$t(i,gi),$t(i,zc,i);const l=ne(r,xg,ay,{[pg]:!0}),u=ne(r,f_,mx,{[pg]:!0}),d=$t(r,gg,mx,{[pg]:!0});ne(r,bg,d),ne(u,xg,l),ne(u,bg,d),$t(u,gg,d),ne(d,f_),ne(d,xg),$t(d,gg,d),ne(d,bg,d);const h=$t(r,mg,wC,{[xC]:!0});ne(h,"#"),$t(h,mg,h),ne(h,$z,h);const p=ne(h,Vz);ne(p,"#"),$t(p,mg,h);const f=[[gi,a],[xi,s]],m=[[gi,null],[zc,o],[xi,i]];for(let g=0;g<dh.length;g++)Vi(r,dh[g],fx,yi,f);for(let g=0;g<hh.length;g++)Vi(r,hh[g],px,hx,m);oo(fx,{tld:!0,ascii:!0},e),oo(px,{utld:!0,alpha:!0},e),Vi(r,"file",Dh,yi,f),Vi(r,"mailto",Dh,yi,f),Vi(r,"http",bl,yi,f),Vi(r,"https",bl,yi,f),Vi(r,"ftp",bl,yi,f),Vi(r,"ftps",bl,yi,f),oo(Dh,{scheme:!0,ascii:!0},e),oo(bl,{slashscheme:!0,ascii:!0},e),t=t.sort((g,b)=>g[0]>b[0]?1:-1);for(let g=0;g<t.length;g++){const b=t[g][0],E=t[g][1]?{[Bz]:!0}:{[Uz]:!0};b.indexOf("-")>=0?E[dx]=!0:gi.test(b)?xi.test(b)?E[Su]=!0:E[cx]=!0:E[lx]=!0,h_(r,b,b,E)}return h_(r,"localhost",hd,{ascii:!0}),r.jd=new Sn(Zf),{start:r,tokens:Object.assign({groups:e},_C)}}function EC(t,e){const r=Wz(e.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,s=[];let i=0,a=0;for(;a<n;){let o=t,l=null,u=0,d=null,h=-1,p=-1;for(;a<n&&(l=o.go(r[a]));)o=l,o.accepts()?(h=0,p=0,d=o):h>=0&&(h+=r[a].length,p++),u+=r[a].length,i+=r[a].length,a++;i-=h,a-=p,u-=h,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function Wz(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),i,a=s<55296||s>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(a),n+=a.length}return e}function Vi(t,e,r,n,s){let i;const a=e.length;for(let o=0;o<a-1;o++){const l=e[o];t.j[l]?i=t.j[l]:(i=new Sn(n),i.jr=s.slice(),t.j[l]=i),t=i}return i=new Sn(r),i.jr=s.slice(),t.j[e[a-1]]=i,i}function p_(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let i=0;for(;s.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let a=parseInt(t.substring(n,n+i),10);a>0;a--)r.pop();n+=i}else r.push(t[n]),n++}return e}const fd={defaultProtocol:"http",events:null,format:m_,formatHref:m_,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function dy(t,e=null){let r=Object.assign({},fd);t&&(r=Object.assign(r,t instanceof dy?t.o:t));const n=r.ignoreTags,s=[];for(let i=0;i<n.length;i++)s.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}dy.prototype={o:fd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:fd[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function m_(t){return t}function TC(t,e){this.t="token",this.v=t,this.tk=e}TC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"â¦":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=fd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),i=this.toFormattedString(t),a={},o=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),d=t.getObj("attributes",r,e),h=t.getObj("events",r,e);return a.href=n,o&&(a.class=o),l&&(a.target=l),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:h}}};function Vp(t,e){class r extends TC{constructor(s,i){super(s,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const g_=Vp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),x_=Vp("text"),Yz=Vp("nl"),fh=Vp("url",{isLink:!0,toHref(t=fd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==hd&&t[1].t===na}}),es=t=>new Sn(t);function Gz({groups:t}){const e=t.domain.concat([Hf,$f,Qi,Vf,qf,Wf,Yf,Gf,rs,iy,ju,Kf,Jf,Xf,Ws,Zf,Iu,Qf]),r=[zf,na,oy,qs,ly,ju,Ou,cy,uy,Of,If,Cu,Au,Cf,Sf,Af,jf,Pf,Rf,Df,Mf,Lf,Ff,Bf,Uf],n=[Hf,zf,$f,Vf,qf,Wf,Yf,Gf,rs,Cu,Au,ju,Kf,Jf,Xf,Ou,Ws,Zf,Iu,Qf],s=es(),i=ne(s,Iu);Ve(i,n,i),Ve(i,t.domain,i);const a=es(),o=es(),l=es();Ve(s,t.domain,a),Ve(s,t.scheme,o),Ve(s,t.slashscheme,l),Ve(a,n,i),Ve(a,t.domain,a);const u=ne(a,Qi);ne(i,Qi,u),ne(o,Qi,u),ne(l,Qi,u);const d=ne(i,qs);Ve(d,n,i),Ve(d,t.domain,i);const h=es();Ve(u,t.domain,h),Ve(h,t.domain,h);const p=ne(h,qs);Ve(p,t.domain,h);const f=es(g_);Ve(p,t.tld,f),Ve(p,t.utld,f),ne(u,hd,f);const m=ne(h,rs);ne(m,rs,m),Ve(m,t.domain,h),Ve(f,t.domain,h),ne(f,qs,p),ne(f,rs,m);const g=ne(f,na);Ve(g,t.numeric,g_);const b=ne(a,rs),y=ne(a,qs);ne(b,rs,b),Ve(b,t.domain,a),Ve(y,n,i),Ve(y,t.domain,a);const E=es(fh);Ve(y,t.tld,E),Ve(y,t.utld,E),Ve(E,t.domain,a),Ve(E,n,i),ne(E,qs,y),ne(E,rs,b),ne(E,Qi,u);const T=ne(E,na),k=es(fh);Ve(T,t.numeric,k);const w=es(fh),v=es();Ve(w,e,w),Ve(w,r,v),Ve(v,e,w),Ve(v,r,v),ne(E,Ws,w),ne(k,Ws,w);const N=ne(o,na),A=ne(l,na),I=ne(A,Ws),S=ne(I,Ws);Ve(o,t.domain,a),ne(o,qs,y),ne(o,rs,b),Ve(l,t.domain,a),ne(l,qs,y),ne(l,rs,b),Ve(N,t.domain,w),ne(N,Ws,w),ne(N,Ou,w),Ve(S,t.domain,w),Ve(S,e,w),ne(S,Ws,w);const U=[[Cu,Au],[Sf,Cf],[Af,jf],[Of,If],[Pf,Rf],[Df,Mf],[Lf,Ff],[Bf,Uf]];for(let M=0;M<U.length;M++){const[$,Y]=U[M],G=ne(w,$);ne(v,$,G),ne(G,Y,w);const J=es(fh);Ve(G,e,J);const Z=es();Ve(G,r),Ve(J,e,J),Ve(J,r,Z),Ve(Z,e,J),Ve(Z,r,Z),ne(J,Y,w),ne(Z,Y,w)}return ne(s,hd,E),ne(s,ay,Yz),{start:s,tokens:_C}}function Kz(t,e,r){let n=r.length,s=0,i=[],a=[];for(;s<n;){let o=t,l=null,u=null,d=0,h=null,p=-1;for(;s<n&&!(l=o.go(r[s].t));)a.push(r[s++]);for(;s<n&&(u=l||o.go(r[s].t));)l=null,o=u,o.accepts()?(p=0,h=o):p>=0&&p++,s++,d++;if(p<0)s-=d,s<n&&(a.push(r[s]),s++);else{a.length>0&&(i.push(yg(x_,e,a)),a=[]),s-=p,d-=p;const f=h.t,m=r.slice(s-d,s);i.push(yg(f,e,m))}}return a.length>0&&i.push(yg(x_,e,a)),i}function yg(t,e,r){const n=r[0].s,s=r[r.length-1].e,i=e.slice(n,s);return new t(i,r)}const Jz=typeof console<"u"&&console&&console.warn||(()=>{}),Xz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",At={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Qz(){return Sn.groups={},At.scanner=null,At.parser=null,At.tokenQueue=[],At.pluginQueue=[],At.customSchemes=[],At.initialized=!1,At}function b_(t,e=!1){if(At.initialized&&Jz(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Xz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);At.customSchemes.push([t,e])}function Zz(){At.scanner=qz(At.customSchemes);for(let t=0;t<At.tokenQueue.length;t++)At.tokenQueue[t][1]({scanner:At.scanner});At.parser=Gz(At.scanner.tokens);for(let t=0;t<At.pluginQueue.length;t++)At.pluginQueue[t][1]({scanner:At.scanner,parser:At.parser});return At.initialized=!0,At}function hy(t){return At.initialized||Zz(),Kz(At.parser.start,t,EC(At.scanner.start,t))}hy.scan=EC;function kC(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new dy(r),s=hy(t),i=[];for(let a=0;a<s.length;a++){const o=s[a];o.isLink&&(!e||o.t===e)&&n.check(o)&&i.push(o.toFormattedObject(n))}return i}var fy="[\0- Â áá â-\u2029âã]",e$=new RegExp(fy),t$=new RegExp(`${fy}$`),r$=new RegExp(fy,"g");function n$(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function s$(t){return new Yt({key:new Pr("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=n,o=P2(r.doc,[...e]);if(z2(o).forEach(({newRange:u})=>{const d=rH(n.doc,u,f=>f.isTextblock);let h,p;if(d.length>1)h=d[0],p=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(d.length){const f=n.doc.textBetween(u.from,u.to," "," ");if(!t$.test(f))return;h=d[0],p=n.doc.textBetween(h.pos,u.to,void 0," ")}if(h&&p){const f=p.split(e$).filter(Boolean);if(f.length<=0)return!1;const m=f[f.length-1],g=h.pos+p.lastIndexOf(m);if(!m)return!1;const b=hy(m).map(y=>y.toObject(t.defaultProtocol));if(!n$(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{ry(y.from,y.to,n.doc).some(E=>E.mark.type===t.type)||a.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!a.steps.length)return a}})}function i$(t){return new Yt({key:new Pr("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,i;if(n.button!==0||!e.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let d=n.target;const h=[];for(;d.nodeName!=="DIV";)h.push(d),d=d.parentNode;a=h.find(p=>p.nodeName==="A")}if(!a)return!1;const o=H2(e.state,t.type.name),l=(s=a==null?void 0:a.href)!=null?s:o.href,u=(i=a==null?void 0:a.target)!=null?i:o.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&l?(window.open(l,u),!0):!1}}})}function a$(t){return new Yt({key:new Pr("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:s}=e,{selection:i}=s,{empty:a}=i;if(a)return!1;let o="";n.content.forEach(u=>{o+=u.textContent});const l=kC(o,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===o);return!o||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}function Wa(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(r$,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var NC=qo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){b_(t);return}b_(t.scheme,t.optionalSlashes)})},onDestroy(){Qz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Wa(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Wa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Wa(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",er(this.options.HTMLAttributes,t),0]:["a",er(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Wa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Wa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Bo({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=kC(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Wa(a,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(s$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Wa(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(i$({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(a$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),o$=NC,l$=Object.defineProperty,c$=(t,e)=>{for(var r in e)l$(t,r,{get:e[r],enumerable:!0})},u$="listItem",y_="textStyle",v_=/^\s*([-+*])\s$/,SC=Mn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",er(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(u$,this.editor.getAttributes(y_)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=uc({find:v_,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=uc({find:v_,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(y_),editor:this.editor})),[t]}}),CC=Mn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",er(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),d$={};c$(d$,{findListItemPos:()=>Ad,getNextListDepth:()=>py,handleBackspace:()=>gx,handleDelete:()=>xx,hasListBefore:()=>AC,hasListItemAfter:()=>h$,hasListItemBefore:()=>jC,listItemHasSubList:()=>OC,nextListIsDeeper:()=>IC,nextListIsHigher:()=>PC});var Ad=(t,e)=>{const{$from:r}=e.selection,n=ur(t,e.schema);let s=null,i=r.depth,a=r.pos,o=null;for(;i>0&&o===null;)s=r.node(i),s.type===n?o=i:(i-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},py=(t,e)=>{const r=Ad(t,e);if(!r)return!1;const[,n]=hH(e,t,r.$pos.pos+4);return n},AC=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),i=t.doc.resolve(s).node();return!(!i||!r.includes(i.type.name))},jC=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},OC=(t,e,r)=>{if(!r)return!1;const n=ur(t,e.schema);let s=!1;return r.descendants(i=>{i.type===n&&(s=!0)}),s},gx=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Oa(t.state,e)&&AC(t.state,e,r)){const{$anchor:o}=t.state.selection,l=t.state.doc.resolve(o.before()-1),u=[];l.node().descendants((p,f)=>{p.type.name===e&&u.push({node:p,pos:f})});const d=u.at(-1);if(!d)return!1;const h=t.state.doc.resolve(l.start()+d.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},h.end()).joinForward().run()}if(!Oa(t.state,e)||!gH(t.state))return!1;const n=Ad(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=OC(e,t.state,i);return jC(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},IC=(t,e)=>{const r=py(t,e),n=Ad(t,e);return!n||!r?!1:r>n.depth},PC=(t,e)=>{const r=py(t,e),n=Ad(t,e);return!n||!r?!1:r<n.depth},xx=(t,e)=>{if(!Oa(t.state,e)||!mH(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:IC(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():PC(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},h$=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},RC=tr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&xx(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&xx(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&gx(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&gx(t,r,n)&&(e=!0)}),e}}}}),f$="listItem",w_="textStyle",__=/^(\d+)\.\s$/,DC=Mn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",er(this.options.HTMLAttributes,r),0]:["ol",er(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(f$,this.editor.getAttributes(w_)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=uc({find:__,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=uc({find:__,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(w_)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),p$=/^\s*(\[([( |x])?\])\s$/,m$=Mn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",er(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),u=d=>{var h,p;o.ariaLabel=((p=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:p.call(h,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:h}=d.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const f=r();if(typeof f!="number")return!1;const m=p.doc.nodeAt(f);return p.setNodeMarkup(f,void 0,{...m==null?void 0:m.attrs,checked:h}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,h)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{s.setAttribute(d,h)}),s.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,i.append(o,a),s.append(i,l),Object.entries(e).forEach(([d,h])=>{s.setAttribute(d,h)}),{dom:s,contentDOM:l,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[uc({find:p$,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),g$=Mn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",er(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});tr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(SC.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(CC.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(RC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(DC.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(m$.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(g$.configure(this.options.taskList)),t}});var x$=Mn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),b$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,y$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,v$=qo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[cc({find:b$,type:this.type})]},addPasteRules(){return[Bo({find:y$,type:this.type})]}}),w$=Mn.create({name:"text",group:"inline"}),MC=qo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),_$=MC;function E$(t={}){return new Yt({view(e){return new T$(e,t)}})}class T${constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,o=i.height/s.offsetHeight;if(r){let h=e.nodeBefore,p=e.nodeAfter;if(h||p){let f=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(f){let m=f.getBoundingClientRect(),g=h?m.bottom:m.top;h&&p&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*o;n={left:m.left,right:m.right,top:g-b,bottom:g+b}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;n={left:h.left-p,right:h.left+p,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,d=-pageYOffset;else{let h=l.getBoundingClientRect(),p=h.width/l.offsetWidth,f=h.height/l.offsetHeight;u=h.left-l.scrollLeft*p,d=h.top-l.scrollTop*f}this.element.style.left=(n.left-u)/a+"px",this.element.style.top=(n.top-d)/o+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=LS(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class qt extends $e{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return qt.valid(n)?new qt(n):$e.near(n)}content(){return he.empty}eq(e){return e instanceof qt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new qt(e.resolve(r.pos))}getBookmark(){return new my(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!k$(e)||!N$(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&qt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let o=e.node(a);if(r>0?e.indexAfter(a)<o.childCount:e.index(a)>0){i=o.child(r>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=r;let l=e.doc.resolve(s);if(qt.valid(l))return l}for(;;){let a=r>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ee.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=a,s+=r;let o=e.doc.resolve(s);if(qt.valid(o))return o}return null}}}qt.prototype.visible=!1;qt.findFrom=qt.findGapCursorFrom;$e.jsonID("gapcursor",qt);class my{constructor(e){this.pos=e}map(e){return new my(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return qt.valid(r)?new qt(r):$e.near(r)}}function k$(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function N$(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function S$(){return new Yt({props:{decorations:O$,createSelectionBetween(t,e,r){return e.pos==r.pos&&qt.valid(r)?new qt(r):null},handleClick:A$,handleKeyDown:C$,handleDOMEvents:{beforeinput:j$}}})}const C$=k2({ArrowLeft:ph("horiz",-1),ArrowRight:ph("horiz",1),ArrowUp:ph("vert",-1),ArrowDown:ph("vert",1)});function ph(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let a=n.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof De){if(!i.endOfTextblock(r)||o.depth==0)return!1;l=!1,o=n.doc.resolve(e>0?o.after():o.before())}let u=qt.findGapCursorFrom(o,e,l);return u?(s&&s(n.tr.setSelection(new qt(u))),!0):!1}}function A$(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!qt.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&Ee.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new qt(n))),!0)}function j$(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof qt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=te.empty;for(let a=n.length-1;a>=0;a--)s=te.from(n[a].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new he(s,0,0));return i.setSelection(De.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function O$(t){if(!(t.selection instanceof qt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ut.create(t.doc,[xn.widget(t.selection.head,e,{key:"gapcursor"})])}var ep=200,jr=function(){};jr.prototype.append=function(e){return e.length?(e=jr.from(e),!this.length&&e||e.length<ep&&this.leafAppend(e)||this.length<ep&&e.leafPrepend(this)||this.appendInner(e)):this};jr.prototype.prepend=function(e){return e.length?jr.from(e).append(this):this};jr.prototype.appendInner=function(e){return new I$(this,e)};jr.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?jr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};jr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};jr.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};jr.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},r,n),s};jr.from=function(e){return e instanceof jr?e:e&&e.length?new LC(e):jr.empty};var LC=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,o){for(var l=i;l<a;l++)if(s(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,o){for(var l=i-1;l>=a;l--)if(s(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=ep)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=ep)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(jr);jr.empty=new LC([]);var I$=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,a){var o=this.left.length;if(s<o&&this.left.forEachInner(n,s,Math.min(i,o),a)===!1||i>o&&this.right.forEachInner(n,Math.max(s-o,0),Math.min(this.length,i)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,a){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(n,s-o,Math.max(i,o)-o,a+o)===!1||i<o&&this.left.forEachInvertedInner(n,Math.min(s,o),i,a)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(jr);const P$=500;class Cs{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let a=e.tr,o,l,u=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){s||(s=this.remapping(n,p+1),i=s.maps.length),i--,d.push(h);return}if(s){d.push(new Ys(h.map));let f=h.step.map(s.slice(i)),m;f&&a.maybeStep(f).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],u.push(new Ys(m,void 0,void 0,u.length+d.length))),i--,m&&s.appendMap(m,i)}else a.maybeStep(h.step);if(h.selection)return o=s?h.selection.map(s.slice(i)):h.selection,l=new Cs(this.items.slice(0,n).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,r,n,s){let i=[],a=this.eventCount,o=this.items,l=!s&&o.length?o.get(o.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new Ys(e.mapping.maps[d],h,r),f;(f=l&&l.merge(p))&&(p=f,d?i.pop():o=o.slice(0,o.length-1)),i.push(p),r&&(a++,r=void 0),s||(l=p)}let u=a-n.depth;return u>D$&&(o=R$(o,u),a-=u),new Cs(o.append(i),a)}remapping(e,r){let n=new id;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new Cs(this.items.append(e.map(r=>new Ys(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(p=>{p.selection&&o--},s);let l=r;this.items.forEach(p=>{let f=i.getMirror(--l);if(f==null)return;a=Math.min(a,f);let m=i.maps[f];if(p.step){let g=e.steps[f].invert(e.docs[f]),b=p.selection&&p.selection.map(i.slice(l+1,f));b&&o++,n.push(new Ys(m,g,b))}else n.push(new Ys(m))},s);let u=[];for(let p=r;p<a;p++)u.push(new Ys(i.maps[p]));let d=this.items.slice(0,s).append(u).append(n),h=new Cs(d,o);return h.emptyItemCount()>P$&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((a,o)=>{if(o>=e)s.push(a),a.selection&&i++;else if(a.step){let l=a.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let d=a.selection&&a.selection.map(r.slice(n));d&&i++;let h=new Ys(u.invert(),l,d),p,f=s.length-1;(p=s.length&&s[f].merge(h))?s[f]=p:s.push(h)}}else a.map&&n--},this.items.length,0),new Cs(jr.from(s.reverse()),i)}}Cs.empty=new Cs(jr.empty,0);function R$(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Ys{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ys(r.getMap().invert(),r,this.selection)}}}class Zi{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const D$=20;function M$(t,e,r,n){let s=r.getMeta(_o),i;if(s)return s.historyState;r.getMeta(B$)&&(t=new Zi(t.done,t.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(_o))return a.getMeta(_o).redo?new Zi(t.done.addTransform(r,void 0,n,Mh(e)),t.undone,E_(r.mapping.maps),t.prevTime,t.prevComposition):new Zi(t.done,t.undone.addTransform(r,void 0,n,Mh(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-n.newGroupDelay||!L$(r,t.prevRanges)),u=a?vg(t.prevRanges,r.mapping):E_(r.mapping.maps);return new Zi(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Mh(e)),Cs.empty,u,r.time,o??t.prevComposition)}else return(i=r.getMeta("rebased"))?new Zi(t.done.rebased(r,i),t.undone.rebased(r,i),vg(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Zi(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),vg(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function L$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function E_(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,a)=>e.push(i,a));return e}function vg(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function F$(t,e,r){let n=Mh(e),s=_o.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let a=i.selection.resolve(i.transform.doc),o=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),l=new Zi(r?o:i.remaining,r?i.remaining:o,null,0,-1);return i.transform.setSelection(a).setMeta(_o,{redo:r,historyState:l})}let wg=!1,T_=null;function Mh(t){let e=t.plugins;if(T_!=e){wg=!1,T_=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){wg=!0;break}}return wg}const _o=new Pr("history"),B$=new Pr("closeHistory");function U$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yt({key:_o,state:{init(){return new Zi(Cs.empty,Cs.empty,null,0,-1)},apply(e,r,n){return M$(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?BC:n=="historyRedo"?UC:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function FC(t,e){return(r,n)=>{let s=_o.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=F$(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const BC=FC(!1,!0),UC=FC(!0,!0);tr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Yt({key:new Pr("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>s){const a=i-s,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=n.tr.deleteRange(o,l);return t=!0,u}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||s>n&&i>n&&i<=s)return!0;if(s>n&&i>n&&i>s||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,l=i-n,u=o-l,d=o;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>n)}})]}});var H$=tr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[E$(this.options)]}});tr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Yt({key:new Pr("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,i=[];if(!r||!n)return Ut.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,u)=>{if(l.isText)return;if(!(s>=u&&s<=u+l.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((l,u)=>{if(l.isText||!(s>=u&&s<=u+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";i.push(xn.node(u,u+l.nodeSize,{class:this.options.className}))}),Ut.create(t,i)}}})]}});var z$=tr.create({name:"gapCursor",addProseMirrorPlugins(){return[S$()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=gt(_e(t,"allowGapCursor",r)))!=null?e:null}}}),$$=tr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Yt({key:new Pr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((a,o)=>{const l=n>=o&&n<=o+a.nodeSize,u=!a.isLeaf&&Up(a);if((l||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const h=xn.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:l}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),Ut.create(t,s)}}})]}});tr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Yt({key:new Pr("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||V2(r.selection)||t.view.dragging?null:Ut.create(r.doc,[xn.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function k_({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var V$=tr.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Pr(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Yt({key:t,appendTransaction:(r,n,s)=>{const{doc:i,tr:a,schema:o}=s,l=t.getState(s),u=i.content.size,d=o.nodes[this.options.node];if(l)return a.insert(u,d.create())},state:{init:(r,n)=>{const s=n.tr.doc.lastChild;return!k_({node:s,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const s=r.doc.lastChild;return!k_({node:s,types:e})}}})]}}),q$=tr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>BC(t,e),redo:()=>({state:t,dispatch:e})=>UC(t,e)}},addProseMirrorPlugins(){return[U$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),W$=tr.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(wz.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(fC.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(SC.configure(this.options.bulletList)),this.options.code!==!1&&s.push(pC.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(mC.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Cz.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(H$.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(z$.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Az.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(jz.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(q$.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(gC.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Mz.configure(this.options.italic)),this.options.listItem!==!1&&s.push(CC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(RC.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(NC.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(DC.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(x$.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(v$.configure(this.options.strike)),this.options.text!==!1&&s.push(w$.configure(this.options.text)),this.options.underline!==!1&&s.push(MC.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(V$.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),Y$=W$,G$=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,K$=Mn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",er(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[lC({find:G$,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),J$=K$,X$=$$,Q$=tr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Z$=Q$;const eV=({value:t,onChange:e,placeholder:r="Write your content here...",className:n=""})=>{const s=D.useRef(null),[i,a]=D.useState(!1),o=dz({extensions:[Y$.configure({heading:{levels:[1,2,3]},link:!1,underline:!1,codeBlock:!1,code:!1,blockquote:!1,horizontalRule:!1}),J$.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg my-4"},allowBase64:!0}),o$.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-400 hover:text-blue-300 underline"}}),X$.configure({placeholder:r}),Z$.configure({types:["heading","paragraph"]}),_$,Sz.configure({HTMLAttributes:{class:"bg-gray-800 rounded-lg p-4 font-mono text-sm"}}),Tz.configure({HTMLAttributes:{class:"bg-gray-800 px-2 py-1 rounded text-sm font-mono"}}),gz.configure({HTMLAttributes:{class:"border-l-4 border-blue-500 pl-4 italic text-gray-300"}}),Oz.configure({HTMLAttributes:{class:"border-gray-600 my-4"}})],content:t,onUpdate:({editor:b})=>{const y=b.getHTML();e(y)},editorProps:{attributes:{class:"prose prose-invert max-w-none focus:outline-none min-h-[300px] p-4"},handleDrop:(b,y,E,T)=>{if(!T&&y.dataTransfer&&y.dataTransfer.files&&y.dataTransfer.files[0]){const k=y.dataTransfer.files[0];if(k.type.startsWith("image/"))return y.preventDefault(),l(k),!0}return!1},handlePaste:(b,y,E)=>{var k;const T=Array.from(((k=y.clipboardData)==null?void 0:k.items)||[]);for(const w of T)if(w.type.startsWith("image/")){const v=w.getAsFile();if(v)return y.preventDefault(),l(v),!0}return!1}},parseOptions:{preserveWhitespace:"full"}}),l=D.useCallback(async b=>{if(b){if(!b.type.startsWith("image/")){H.error("Please select a valid image file");return}if(b.size>5*1024*1024){H.error("Image size must be less than 5MB");return}try{const y=H.loading("Uploading image..."),E=await Rb.uploadImage(b,!1);H.dismiss(y),E.success&&o?(o.chain().focus().setImage({src:E.url,alt:b.name,title:b.name}).run(),H.success("Image added successfully!")):H.error(E.error||"Failed to upload image")}catch(y){console.error("Image upload failed:",y),H.error("Failed to upload image")}}},[o]),u=D.useCallback(()=>{if(!o)return;const b=o.getAttributes("link").href,y=window.prompt("Enter URL",b);if(y!==null){if(y===""){o.chain().focus().extendMarkRange("link").unsetLink().run();return}o.chain().focus().extendMarkRange("link").setLink({href:y}).run()}},[o]),d=D.useCallback(()=>{if(!o)return;const b=window.prompt("Enter image URL:");b&&(o.chain().focus().setImage({src:b,alt:"Image",title:"Image"}).run(),H.success("Image added successfully!"))},[o]),h=D.useCallback(b=>{var E;const y=(E=b.target.files)==null?void 0:E[0];y&&l(y),s.current&&(s.current.value="")},[l]),p=D.useCallback(b=>{b.preventDefault(),a(!0)},[]),f=D.useCallback(b=>{b.preventDefault(),a(!1)},[]),m=D.useCallback(b=>{b.preventDefault(),a(!1);const E=Array.from(b.dataTransfer.files).find(T=>T.type.startsWith("image/"));E&&l(E)},[l]);if(!o)return null;const g=({onClick:b,isActive:y=!1,icon:E,title:T,disabled:k=!1})=>c.jsx(K,{type:"button",variant:y?"primary":"ghost",size:"sm",onClick:b,disabled:k,className:"p-2 h-8 w-8",title:T,children:c.jsx(E,{className:"w-4 h-4"})});return c.jsxs("div",{className:`border border-gray-600 rounded-lg bg-gray-700 ${n}`,children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-gray-600 bg-gray-800 rounded-t-lg",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().toggleBold().run(),isActive:o.isActive("bold"),icon:J_,title:"Bold"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleItalic().run(),isActive:o.isActive("italic"),icon:X_,title:"Italic"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleUnderline().run(),isActive:o.isActive("underline"),icon:YA,title:"Underline"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().toggleHeading({level:1}).run(),isActive:o.isActive("heading",{level:1}),icon:Q_,title:"Heading 1"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleHeading({level:2}).run(),isActive:o.isActive("heading",{level:2}),icon:Z_,title:"Heading 2"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleHeading({level:3}).run(),isActive:o.isActive("heading",{level:3}),icon:eE,title:"Heading 3"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().toggleBulletList().run(),isActive:o.isActive("bulletList"),icon:Cx,title:"Bullet List"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleOrderedList().run(),isActive:o.isActive("orderedList"),icon:tE,title:"Numbered List"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().setTextAlign("left").run(),isActive:o.isActive({textAlign:"left"}),icon:GA,title:"Align Left"}),c.jsx(g,{onClick:()=>o.chain().focus().setTextAlign("center").run(),isActive:o.isActive({textAlign:"center"}),icon:KA,title:"Align Center"}),c.jsx(g,{onClick:()=>o.chain().focus().setTextAlign("right").run(),isActive:o.isActive({textAlign:"right"}),icon:JA,title:"Align Right"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().toggleCode().run(),isActive:o.isActive("code"),icon:Fu,title:"Inline Code"}),c.jsx(g,{onClick:()=>o.chain().focus().toggleCodeBlock().run(),isActive:o.isActive("codeBlock"),icon:Fu,title:"Code Block"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:()=>o.chain().focus().toggleBlockquote().run(),isActive:o.isActive("blockquote"),icon:rE,title:"Quote"}),c.jsx(g,{onClick:()=>o.chain().focus().setHorizontalRule().run(),icon:nE,title:"Horizontal Rule"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(g,{onClick:u,isActive:o.isActive("link"),icon:sE,title:"Add Link"}),c.jsx(g,{onClick:d,icon:jx,title:"Add Image URL"}),c.jsx(g,{onClick:()=>{var b;return(b=s.current)==null?void 0:b.click()},icon:ko,title:"Upload Image"})]})]}),c.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:h,className:"hidden"}),c.jsxs("div",{className:`relative ${i?"bg-blue-900/20 border-blue-500":""}`,onDragOver:p,onDragLeave:f,onDrop:m,children:[c.jsx(sz,{editor:o,className:"min-h-[300px] max-h-[600px] overflow-y-auto"}),i&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-900/30 border-2 border-dashed border-blue-500 rounded",children:c.jsxs("div",{className:"text-blue-300 text-center",children:[c.jsx(ko,{className:"w-8 h-8 mx-auto mb-2"}),c.jsx("p",{children:"Drop image here to upload"})]})})]})]})},N_=/[#.]/g;function tV(t,e){const r=t||"",n={};let s=0,i,a;for(;s<r.length;){N_.lastIndex=s;const o=N_.exec(r),l=r.slice(s,o?o.index:r.length);l&&(i?i==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,s+=l.length),o&&(i=o[0],s++)}return{type:"element",tagName:a||e||"div",properties:n,children:[]}}function HC(t,e,r){const n=r?iV(r):void 0;function s(i,a,...o){let l;if(i==null){l={type:"root",children:[]};const u=a;o.unshift(u)}else{l=tV(i,e);const u=l.tagName.toLowerCase(),d=n?n.get(u):void 0;if(l.tagName=d||u,rV(a))o.unshift(a);else for(const[h,p]of Object.entries(a))nV(t,l.properties,h,p)}for(const u of o)bx(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return s}function rV(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,r=Object.keys(t);for(const n of r){const s=e[n];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const a of i)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function nV(t,e,r,n){const s=fb(t,r);let i;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;i=n}else typeof n=="boolean"?i=n:typeof n=="string"?s.spaceSeparated?i=z1(n):s.commaSeparated?i=L1(n):s.commaOrSpaceSeparated?i=z1(L1(n).join(" ")):i=S_(s,s.property,n):Array.isArray(n)?i=[...n]:i=s.property==="style"?sV(n):String(n);if(Array.isArray(i)){const a=[];for(const o of i)a.push(S_(s,s.property,o));i=a}s.property==="className"&&Array.isArray(e.className)&&(i=e.className.concat(i)),e[s.property]=i}}function bx(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const r of e)bx(t,r);else if(typeof e=="object"&&"type"in e)e.type==="root"?bx(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function S_(t,e,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||Qu(r)===Qu(e)))return!0}return r}function sV(t){const e=[];for(const[r,n]of Object.entries(t))e.push([r,n].join(": "));return e.join("; ")}function iV(t){const e=new Map;for(const r of t)e.set(r.toLowerCase(),r);return e}const aV=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],oV=HC(bp,"div"),lV=HC(vc,"g",aV);function cV(t){const e=String(t),r=[];return{toOffset:s,toPoint:n};function n(i){if(typeof i=="number"&&i>-1&&i<=e.length){let a=0;for(;;){let o=r[a];if(o===void 0){const l=C_(e,r[a-1]);o=l===-1?e.length+1:l+1,r[a]=o}if(o>i)return{line:a+1,column:i-(a>0?r[a-1]:0)+1,offset:i};a++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;r.length<i.line;){const o=r[r.length-1],l=C_(e,o),u=l===-1?e.length+1:l+1;if(o===u)break;r.push(u)}const a=(i.line>1?r[i.line-2]:0)+i.column-1;if(a<r[i.line-1])return a}}}function C_(t,e){const r=t.indexOf("\r",e),n=t.indexOf(`
`,e);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const lo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zC={}.hasOwnProperty,uV=Object.prototype;function dV(t,e){const r=e||{};return gy({file:r.file||void 0,location:!1,schema:r.space==="svg"?vc:bp,verbose:r.verbose||!1},t)}function gy(t,e){let r;switch(e.nodeName){case"#comment":{const n=e;return r={type:"comment",value:n.data},Lh(t,n,r),r}case"#document":case"#document-fragment":{const n=e,s="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:$C(t,e.childNodes),data:{quirksMode:s}},t.file&&t.location){const i=String(t.file),a=cV(i),o=a.toPoint(0),l=a.toPoint(i.length);r.position={start:o,end:l}}return r}case"#documentType":{const n=e;return r={type:"doctype"},Lh(t,n,r),r}case"#text":{const n=e;return r={type:"text",value:n.value},Lh(t,n,r),r}default:return r=hV(t,e),r}}function $C(t,e){let r=-1;const n=[];for(;++r<e.length;){const s=gy(t,e[r]);n.push(s)}return n}function hV(t,e){const r=t.schema;t.schema=e.namespaceURI===lo.svg?vc:bp;let n=-1;const s={};for(;++n<e.attrs.length;){const o=e.attrs[n],l=(o.prefix?o.prefix+":":"")+o.name;zC.call(uV,l)||(s[l]=o.value)}const a=(t.schema.space==="svg"?lV:oV)(e.tagName,s,$C(t,e.childNodes));if(Lh(t,e,a),a.tagName==="template"){const o=e,l=o.sourceCodeLocation,u=l&&l.startTag&&Tl(l.startTag),d=l&&l.endTag&&Tl(l.endTag),h=gy(t,o.content);u&&d&&t.file&&(h.position={start:u.end,end:d.start}),a.content=h}return t.schema=r,a}function Lh(t,e,r){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const n=fV(t,r,e.sourceCodeLocation);n&&(t.location=!0,r.position=n)}}function fV(t,e,r){const n=Tl(r);if(e.type==="element"){const s=e.children[e.children.length-1];if(n&&!r.endTag&&s&&s.position&&s.position.end&&(n.end=Object.assign({},s.position.end)),t.verbose){const i={};let a;if(r.attrs)for(a in r.attrs)zC.call(r.attrs,a)&&(i[fb(t.schema,a).property]=Tl(r.attrs[a]));r.startTag;const o=Tl(r.startTag),l=r.endTag?Tl(r.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=i,e.data={position:u}}}return n}function Tl(t){const e=A_({line:t.startLine,column:t.startCol,offset:t.startOffset}),r=A_({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||r?{start:e,end:r}:void 0}function A_(t){return t.line&&t.column?t:void 0}class jd{constructor(e,r,n){this.property=e,this.normal=r,n&&(this.space=n)}}jd.prototype.property={};jd.prototype.normal={};jd.prototype.space=null;function VC(t,e){const r={},n={};let s=-1;for(;++s<t.length;)Object.assign(r,t[s].property),Object.assign(n,t[s].normal);return new jd(r,n,e)}function yx(t){return t.toLowerCase()}class ys{constructor(e,r){this.property=e,this.attribute=r}}ys.prototype.space=null;ys.prototype.boolean=!1;ys.prototype.booleanish=!1;ys.prototype.overloadedBoolean=!1;ys.prototype.number=!1;ys.prototype.commaSeparated=!1;ys.prototype.spaceSeparated=!1;ys.prototype.commaOrSpaceSeparated=!1;ys.prototype.mustUseProperty=!1;ys.prototype.defined=!1;let pV=0;const Ue=Wo(),ir=Wo(),qC=Wo(),ie=Wo(),Ct=Wo(),Fl=Wo(),Bn=Wo();function Wo(){return 2**++pV}const vx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ue,booleanish:ir,commaOrSpaceSeparated:Bn,commaSeparated:Fl,number:ie,overloadedBoolean:qC,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),_g=Object.keys(vx);class xy extends ys{constructor(e,r,n,s){let i=-1;if(super(e,r),j_(this,"space",s),typeof n=="number")for(;++i<_g.length;){const a=_g[i];j_(this,_g[i],(n&vx[a])===vx[a])}}}xy.prototype.defined=!0;function j_(t,e,r){r&&(t[e]=r)}const mV={}.hasOwnProperty;function Ec(t){const e={},r={};let n;for(n in t.properties)if(mV.call(t.properties,n)){const s=t.properties[n],i=new xy(n,t.transform(t.attributes||{},n),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),e[n]=i,r[yx(n)]=n,r[yx(i.attribute)]=n}return new jd(e,r,t.space)}const WC=Ec({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),YC=Ec({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function GC(t,e){return e in t?t[e]:e}function KC(t,e){return GC(t,e.toLowerCase())}const JC=Ec({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:KC,properties:{xmlns:null,xmlnsXLink:null}}),XC=Ec({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ir,ariaAutoComplete:null,ariaBusy:ir,ariaChecked:ir,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:ir,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:ir,ariaFlowTo:Ct,ariaGrabbed:ir,ariaHasPopup:null,ariaHidden:ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:ie,ariaLive:null,ariaModal:ir,ariaMultiLine:ir,ariaMultiSelectable:ir,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:ir,ariaReadOnly:ir,ariaRelevant:null,ariaRequired:ir,ariaRoleDescription:Ct,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:ir,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null}}),gV=Ec({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:KC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fl,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Ue,allowPaymentRequest:Ue,allowUserMedia:Ue,alt:null,as:null,async:Ue,autoCapitalize:null,autoComplete:Ct,autoFocus:Ue,autoPlay:Ue,blocking:Ct,capture:null,charSet:null,checked:Ue,cite:null,className:Ct,cols:ie,colSpan:null,content:null,contentEditable:ir,controls:Ue,controlsList:Ct,coords:ie|Fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ue,defer:Ue,dir:null,dirName:null,disabled:Ue,download:qC,draggable:ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ue,formTarget:null,headers:Ct,height:ie,hidden:Ue,high:ie,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ue,inputMode:null,integrity:null,is:null,isMap:Ue,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Ue,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ue,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:Ue,muted:Ue,name:null,nonce:null,noModule:Ue,noValidate:Ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ue,optimum:ie,pattern:null,ping:Ct,placeholder:null,playsInline:Ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ue,referrerPolicy:null,rel:Ct,required:Ue,reversed:Ue,rows:ie,rowSpan:ie,sandbox:Ct,scope:null,scoped:Ue,seamless:Ue,selected:Ue,shadowRootClonable:Ue,shadowRootDelegatesFocus:Ue,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:Ue,useMap:null,value:ir,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ue,declare:Ue,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:Ue,noHref:Ue,noShade:Ue,noWrap:Ue,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:ir,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ue,disableRemotePlayback:Ue,prefix:null,property:null,results:ie,security:null,unselectable:null}}),xV=Ec({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:GC,properties:{about:Bn,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:Ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fl,g2:Fl,glyphName:Fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),bV=/^data[-\w.:]+$/i,O_=/-[a-z]/g,yV=/[A-Z]/g;function vV(t,e){const r=yx(e);let n=e,s=ys;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&bV.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(O_,_V);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!O_.test(i)){let a=i.replace(yV,wV);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}s=xy}return new s(n,e)}function wV(t){return"-"+t.toLowerCase()}function _V(t){return t.charAt(1).toUpperCase()}const EV=VC([YC,WC,JC,XC,gV],"html"),QC=VC([YC,WC,JC,XC,xV],"svg"),TV={},kV={}.hasOwnProperty,ZC=bN("type",{handlers:{root:SV,element:IV,text:jV,comment:OV,doctype:AV}});function NV(t,e){const n=(e||TV).space;return ZC(t,n==="svg"?QC:EV)}function SV(t,e){const r={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=by(t.children,r,e),Tc(t,r),r}function CV(t,e){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=by(t.children,r,e),Tc(t,r),r}function AV(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Tc(t,e),e}function jV(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Tc(t,e),e}function OV(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Tc(t,e),e}function IV(t,e){const r=e;let n=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=QC);const s=[];let i;if(t.properties){for(i in t.properties)if(i!=="children"&&kV.call(t.properties,i)){const l=PV(n,i,t.properties[i]);l&&s.push(l)}}const a=n.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:lo[a],childNodes:[],parentNode:null};return o.childNodes=by(t.children,o,n),Tc(t,o),t.tagName==="template"&&t.content&&(o.content=CV(t.content,n)),o}function PV(t,e,r){const n=vV(t,e);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?jk(r):Fk(r));const s={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const i=s.name.indexOf(":");i<0?s.prefix="":(s.name=s.name.slice(i+1),s.prefix=n.attribute.slice(0,i)),s.namespace=lo[n.space]}return s}function by(t,e,r){let n=-1;const s=[];if(t)for(;++n<t.length;){const i=ZC(t[n],r);i.parentNode=e,s.push(i)}return s}function Tc(t,e){const r=t.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,e.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const RV=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],DV=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Pt="ï¿½";var C;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(C||(C={}));const En={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function eA(t){return t>=55296&&t<=57343}function MV(t){return t>=56320&&t<=57343}function LV(t,e){return(t-55296)*1024+9216+e}function tA(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function rA(t){return t>=64976&&t<=65007||DV.has(t)}var V;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(V||(V={}));const FV=65536;class BV{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=FV,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,r){const{line:n,col:s,offset:i}=this,a=s+r,o=i+r;return{code:e,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(MV(r))return this.pos++,this._addGap(),LV(e,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,C.EOF;return this._err(V.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,r){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,r){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==e.charCodeAt(n))return!1;return!0}peek(e){const r=this.pos+e;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;const n=this.html.charCodeAt(r);return n===C.CARRIAGE_RETURN?C.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,C.EOF;let e=this.html.charCodeAt(this.pos);return e===C.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,C.LINE_FEED):e===C.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,eA(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===C.LINE_FEED||e===C.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){tA(e)?this._err(V.controlCharacterInInputStream):rA(e)&&this._err(V.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xe;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Xe||(Xe={}));function nA(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}const UV=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(t=>t.charCodeAt(0))),HV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function zV(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=HV.get(t))!==null&&e!==void 0?e:t}var Sr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Sr||(Sr={}));const $V=32;var pa;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(pa||(pa={}));function wx(t){return t>=Sr.ZERO&&t<=Sr.NINE}function VV(t){return t>=Sr.UPPER_A&&t<=Sr.UPPER_F||t>=Sr.LOWER_A&&t<=Sr.LOWER_F}function qV(t){return t>=Sr.UPPER_A&&t<=Sr.UPPER_Z||t>=Sr.LOWER_A&&t<=Sr.LOWER_Z||wx(t)}function WV(t){return t===Sr.EQUALS||qV(t)}var yr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(yr||(yr={}));var Ni;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ni||(Ni={}));class YV{constructor(e,r,n){this.decodeTree=e,this.emitCodePoint=r,this.errors=n,this.state=yr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ni.Strict}startEntity(e){this.decodeMode=e,this.state=yr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case yr.EntityStart:return e.charCodeAt(r)===Sr.NUM?(this.state=yr.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=yr.NamedEntity,this.stateNamedEntity(e,r));case yr.NumericStart:return this.stateNumericStart(e,r);case yr.NumericDecimal:return this.stateNumericDecimal(e,r);case yr.NumericHex:return this.stateNumericHex(e,r);case yr.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|$V)===Sr.LOWER_X?(this.state=yr.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=yr.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,n,s){if(r!==n){const i=n-r;this.result=this.result*Math.pow(s,i)+Number.parseInt(e.substr(r,i),s),this.consumed+=i}}stateNumericHex(e,r){const n=r;for(;r<e.length;){const s=e.charCodeAt(r);if(wx(s)||VV(s))r+=1;else return this.addToNumericResult(e,n,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,n,r,16),-1}stateNumericDecimal(e,r){const n=r;for(;r<e.length;){const s=e.charCodeAt(r);if(wx(s))r+=1;else return this.addToNumericResult(e,n,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,n,r,10),-1}emitNumericEntity(e,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Sr.SEMI)this.consumed+=1;else if(this.decodeMode===Ni.Strict)return 0;return this.emitCodePoint(zV(this.result),this.consumed),this.errors&&(e!==Sr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:n}=this;let s=n[this.treeIndex],i=(s&pa.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const a=e.charCodeAt(r);if(this.treeIndex=GV(n,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Ni.Attribute&&(i===0||WV(a))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&pa.VALUE_LENGTH)>>14,i!==0){if(a===Sr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Ni.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:n}=this,s=(n[r]&pa.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,n){const{decodeTree:s}=this;return this.emitCodePoint(r===1?s[e]&~pa.VALUE_LENGTH:s[e+1],n),r===3&&this.emitCodePoint(s[e+2],n),n}end(){var e;switch(this.state){case yr.NamedEntity:return this.result!==0&&(this.decodeMode!==Ni.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yr.NumericDecimal:return this.emitNumericEntity(0,2);case yr.NumericHex:return this.emitNumericEntity(0,3);case yr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yr.EntityStart:return 0}}}function GV(t,e,r,n){const s=(e&pa.BRANCH_LENGTH)>>7,i=e&pa.JUMP_TABLE;if(s===0)return i!==0&&n===i?r:-1;if(i){const l=n-i;return l<0||l>=s?-1:t[r+l]-1}let a=r,o=a+s-1;for(;a<=o;){const l=a+o>>>1,u=t[l];if(u<n)a=l+1;else if(u>n)o=l-1;else return t[l+s]}return-1}var Q;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Q||(Q={}));var Eo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Eo||(Eo={}));var cs;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(cs||(cs={}));var B;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(B||(B={}));var x;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(x||(x={}));const KV=new Map([[B.A,x.A],[B.ADDRESS,x.ADDRESS],[B.ANNOTATION_XML,x.ANNOTATION_XML],[B.APPLET,x.APPLET],[B.AREA,x.AREA],[B.ARTICLE,x.ARTICLE],[B.ASIDE,x.ASIDE],[B.B,x.B],[B.BASE,x.BASE],[B.BASEFONT,x.BASEFONT],[B.BGSOUND,x.BGSOUND],[B.BIG,x.BIG],[B.BLOCKQUOTE,x.BLOCKQUOTE],[B.BODY,x.BODY],[B.BR,x.BR],[B.BUTTON,x.BUTTON],[B.CAPTION,x.CAPTION],[B.CENTER,x.CENTER],[B.CODE,x.CODE],[B.COL,x.COL],[B.COLGROUP,x.COLGROUP],[B.DD,x.DD],[B.DESC,x.DESC],[B.DETAILS,x.DETAILS],[B.DIALOG,x.DIALOG],[B.DIR,x.DIR],[B.DIV,x.DIV],[B.DL,x.DL],[B.DT,x.DT],[B.EM,x.EM],[B.EMBED,x.EMBED],[B.FIELDSET,x.FIELDSET],[B.FIGCAPTION,x.FIGCAPTION],[B.FIGURE,x.FIGURE],[B.FONT,x.FONT],[B.FOOTER,x.FOOTER],[B.FOREIGN_OBJECT,x.FOREIGN_OBJECT],[B.FORM,x.FORM],[B.FRAME,x.FRAME],[B.FRAMESET,x.FRAMESET],[B.H1,x.H1],[B.H2,x.H2],[B.H3,x.H3],[B.H4,x.H4],[B.H5,x.H5],[B.H6,x.H6],[B.HEAD,x.HEAD],[B.HEADER,x.HEADER],[B.HGROUP,x.HGROUP],[B.HR,x.HR],[B.HTML,x.HTML],[B.I,x.I],[B.IMG,x.IMG],[B.IMAGE,x.IMAGE],[B.INPUT,x.INPUT],[B.IFRAME,x.IFRAME],[B.KEYGEN,x.KEYGEN],[B.LABEL,x.LABEL],[B.LI,x.LI],[B.LINK,x.LINK],[B.LISTING,x.LISTING],[B.MAIN,x.MAIN],[B.MALIGNMARK,x.MALIGNMARK],[B.MARQUEE,x.MARQUEE],[B.MATH,x.MATH],[B.MENU,x.MENU],[B.META,x.META],[B.MGLYPH,x.MGLYPH],[B.MI,x.MI],[B.MO,x.MO],[B.MN,x.MN],[B.MS,x.MS],[B.MTEXT,x.MTEXT],[B.NAV,x.NAV],[B.NOBR,x.NOBR],[B.NOFRAMES,x.NOFRAMES],[B.NOEMBED,x.NOEMBED],[B.NOSCRIPT,x.NOSCRIPT],[B.OBJECT,x.OBJECT],[B.OL,x.OL],[B.OPTGROUP,x.OPTGROUP],[B.OPTION,x.OPTION],[B.P,x.P],[B.PARAM,x.PARAM],[B.PLAINTEXT,x.PLAINTEXT],[B.PRE,x.PRE],[B.RB,x.RB],[B.RP,x.RP],[B.RT,x.RT],[B.RTC,x.RTC],[B.RUBY,x.RUBY],[B.S,x.S],[B.SCRIPT,x.SCRIPT],[B.SEARCH,x.SEARCH],[B.SECTION,x.SECTION],[B.SELECT,x.SELECT],[B.SOURCE,x.SOURCE],[B.SMALL,x.SMALL],[B.SPAN,x.SPAN],[B.STRIKE,x.STRIKE],[B.STRONG,x.STRONG],[B.STYLE,x.STYLE],[B.SUB,x.SUB],[B.SUMMARY,x.SUMMARY],[B.SUP,x.SUP],[B.TABLE,x.TABLE],[B.TBODY,x.TBODY],[B.TEMPLATE,x.TEMPLATE],[B.TEXTAREA,x.TEXTAREA],[B.TFOOT,x.TFOOT],[B.TD,x.TD],[B.TH,x.TH],[B.THEAD,x.THEAD],[B.TITLE,x.TITLE],[B.TR,x.TR],[B.TRACK,x.TRACK],[B.TT,x.TT],[B.U,x.U],[B.UL,x.UL],[B.SVG,x.SVG],[B.VAR,x.VAR],[B.WBR,x.WBR],[B.XMP,x.XMP]]);function kc(t){var e;return(e=KV.get(t))!==null&&e!==void 0?e:x.UNKNOWN}const re=x,JV={[Q.HTML]:new Set([re.ADDRESS,re.APPLET,re.AREA,re.ARTICLE,re.ASIDE,re.BASE,re.BASEFONT,re.BGSOUND,re.BLOCKQUOTE,re.BODY,re.BR,re.BUTTON,re.CAPTION,re.CENTER,re.COL,re.COLGROUP,re.DD,re.DETAILS,re.DIR,re.DIV,re.DL,re.DT,re.EMBED,re.FIELDSET,re.FIGCAPTION,re.FIGURE,re.FOOTER,re.FORM,re.FRAME,re.FRAMESET,re.H1,re.H2,re.H3,re.H4,re.H5,re.H6,re.HEAD,re.HEADER,re.HGROUP,re.HR,re.HTML,re.IFRAME,re.IMG,re.INPUT,re.LI,re.LINK,re.LISTING,re.MAIN,re.MARQUEE,re.MENU,re.META,re.NAV,re.NOEMBED,re.NOFRAMES,re.NOSCRIPT,re.OBJECT,re.OL,re.P,re.PARAM,re.PLAINTEXT,re.PRE,re.SCRIPT,re.SECTION,re.SELECT,re.SOURCE,re.STYLE,re.SUMMARY,re.TABLE,re.TBODY,re.TD,re.TEMPLATE,re.TEXTAREA,re.TFOOT,re.TH,re.THEAD,re.TITLE,re.TR,re.TRACK,re.UL,re.WBR,re.XMP]),[Q.MATHML]:new Set([re.MI,re.MO,re.MN,re.MS,re.MTEXT,re.ANNOTATION_XML]),[Q.SVG]:new Set([re.TITLE,re.FOREIGN_OBJECT,re.DESC]),[Q.XLINK]:new Set,[Q.XML]:new Set,[Q.XMLNS]:new Set},_x=new Set([re.H1,re.H2,re.H3,re.H4,re.H5,re.H6]);B.STYLE,B.SCRIPT,B.XMP,B.IFRAME,B.NOEMBED,B.NOFRAMES,B.PLAINTEXT;var j;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(j||(j={}));const Xt={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function XV(t){return t>=C.DIGIT_0&&t<=C.DIGIT_9}function iu(t){return t>=C.LATIN_CAPITAL_A&&t<=C.LATIN_CAPITAL_Z}function QV(t){return t>=C.LATIN_SMALL_A&&t<=C.LATIN_SMALL_Z}function Gi(t){return QV(t)||iu(t)}function I_(t){return Gi(t)||XV(t)}function mh(t){return t+32}function sA(t){return t===C.SPACE||t===C.LINE_FEED||t===C.TABULATION||t===C.FORM_FEED}function P_(t){return sA(t)||t===C.SOLIDUS||t===C.GREATER_THAN_SIGN}function ZV(t){return t===C.NULL?V.nullCharacterReference:t>1114111?V.characterReferenceOutsideUnicodeRange:eA(t)?V.surrogateCharacterReference:rA(t)?V.noncharacterCharacterReference:tA(t)||t===C.CARRIAGE_RETURN?V.controlCharacterReference:null}class eq{constructor(e,r){this.options=e,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new BV(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new YV(UV,(n,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(V.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(V.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const s=ZV(n);s&&this._err(s,1)}}:void 0)}_err(e,r=0){var n,s;(s=(n=this.handler).onParseError)===null||s===void 0||s.call(n,this.preprocessor.getError(e,r))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,r,n){this.active=!0,this.preprocessor.write(e,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let r=0;r<e;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,r){return this.preprocessor.startsWith(e,r)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xe.START_TAG,tagName:"",tagID:x.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xe.END_TAG,tagName:"",tagID:x.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Xe.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Xe.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,r){this.currentCharacterToken={type:e,chars:r,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,r;const n=this.currentToken;if(nA(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const s=(e=(r=n.location).attrs)!==null&&e!==void 0?e:r.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(V.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=kc(e.tagName),e.type===Xe.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(V.endTagWithAttributes),e.selfClosing&&this._err(V.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Xe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Xe.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,r)}_emitCodePoint(e){const r=sA(e)?Xe.WHITESPACE_CHARACTER:e===C.NULL?Xe.NULL_CHARACTER:Xe.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Xe.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=j.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ni.Attribute:Ni.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case j.DATA:{this._stateData(e);break}case j.RCDATA:{this._stateRcdata(e);break}case j.RAWTEXT:{this._stateRawtext(e);break}case j.SCRIPT_DATA:{this._stateScriptData(e);break}case j.PLAINTEXT:{this._statePlaintext(e);break}case j.TAG_OPEN:{this._stateTagOpen(e);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case j.TAG_NAME:{this._stateTagName(e);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case j.BOGUS_COMMENT:{this._stateBogusComment(e);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case j.COMMENT_START:{this._stateCommentStart(e);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case j.COMMENT:{this._stateComment(e);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case j.COMMENT_END:{this._stateCommentEnd(e);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case j.DOCTYPE:{this._stateDoctype(e);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case j.CDATA_SECTION:{this._stateCdataSection(e);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case C.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitCodePoint(e);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case C.AMPERSAND:{this._startCharacterReference();break}case C.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case C.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Gi(e))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case C.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case C.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case C.QUESTION_MARK:{this._err(V.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e);break}case C.EOF:{this._err(V.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(V.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Gi(e))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case C.GREATER_THAN_SIGN:{this._err(V.missingEndTagName),this.state=j.DATA;break}case C.EOF:{this._err(V.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(V.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.tagName+=Pt;break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(iu(e)?mh(e):e)}}_stateRcdataLessThanSign(e){e===C.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Gi(e)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case C.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case C.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===C.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Gi(e)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case C.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case C.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Gi(e)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===C.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===C.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case C.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case C.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case C.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===C.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Gi(e)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Gi(e)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(En.SCRIPT,!1)&&P_(this.preprocessor.peek(En.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<En.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case C.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(V.unexpectedNullCharacter),this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case C.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case C.HYPHEN_MINUS:{this._emitChars("-");break}case C.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case C.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Pt);break}case C.EOF:{this._err(V.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===C.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(En.SCRIPT,!1)&&P_(this.preprocessor.peek(En.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<En.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case C.EQUALS_SIGN:{this._err(V.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:case C.SOLIDUS:case C.GREATER_THAN_SIGN:case C.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case C.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:{this._err(V.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.currentAttr.name+=Pt;break}default:this.currentAttr.name+=String.fromCodePoint(iu(e)?mh(e):e)}}_stateAfterAttributeName(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case C.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(V.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case C.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.currentAttr.value+=Pt;break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case C.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.currentAttr.value+=Pt;break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case C.AMPERSAND:{this._startCharacterReference();break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case C.NULL:{this._err(V.unexpectedNullCharacter),this.currentAttr.value+=Pt;break}case C.QUOTATION_MARK:case C.APOSTROPHE:case C.LESS_THAN_SIGN:case C.EQUALS_SIGN:case C.GRAVE_ACCENT:{this._err(V.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case C.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case C.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this._err(V.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case C.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case C.EOF:{this._err(V.eofInTag),this._emitEOFToken();break}default:this._err(V.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const r=this.currentToken;switch(e){case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(r);break}case C.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.data+=Pt;break}default:r.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(En.DASH_DASH,!0)?(this._createCommentToken(En.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(En.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(En.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(En.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(V.cdataInHtmlContent),this._createCommentToken(En.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(V.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case C.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptClosingOfEmptyComment),this.state=j.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const r=this.currentToken;switch(e){case C.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(r);break}case C.EOF:{this._err(V.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateComment(e){const r=this.currentToken;switch(e){case C.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case C.LESS_THAN_SIGN:{r.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.data+=Pt;break}case C.EOF:{this._err(V.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const r=this.currentToken;switch(e){case C.EXCLAMATION_MARK:{r.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case C.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===C.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===C.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==C.GREATER_THAN_SIGN&&e!==C.EOF&&this._err(V.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const r=this.currentToken;switch(e){case C.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case C.EOF:{this._err(V.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const r=this.currentToken;switch(e){case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(r);break}case C.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case C.HYPHEN_MINUS:{r.data+="-";break}case C.EOF:{this._err(V.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const r=this.currentToken;switch(e){case C.HYPHEN_MINUS:{r.data+="--!",this.state=j.COMMENT_END_DASH;break}case C.GREATER_THAN_SIGN:{this._err(V.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(r);break}case C.EOF:{this._err(V.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=j.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case C.EOF:{this._err(V.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(iu(e))this._createDoctypeToken(String.fromCharCode(mh(e))),this.state=j.DOCTYPE_NAME;else switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.NULL:{this._err(V.unexpectedNullCharacter),this._createDoctypeToken(Pt),this.state=j.DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this._err(V.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.name+=Pt;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(iu(e)?mh(e):e)}}_stateAfterDoctypeName(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(En.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(En.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(V.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(V.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(V.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(V.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{r.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{r.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(V.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case C.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.publicId+=Pt;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case C.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.publicId+=Pt;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case C.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.QUOTATION_MARK:{this._err(V.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(V.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.QUOTATION_MARK:{r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.QUOTATION_MARK:{this._err(V.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{this._err(V.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(V.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.QUOTATION_MARK:{r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case C.APOSTROPHE:{r.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case C.GREATER_THAN_SIGN:{this._err(V.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(r);break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case C.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.systemId+=Pt;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case C.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case C.NULL:{this._err(V.unexpectedNullCharacter),r.systemId+=Pt;break}case C.GREATER_THAN_SIGN:{this._err(V.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case C.SPACE:case C.LINE_FEED:case C.TABULATION:case C.FORM_FEED:break;case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.EOF:{this._err(V.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(V.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const r=this.currentToken;switch(e){case C.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=j.DATA;break}case C.NULL:{this._err(V.unexpectedNullCharacter);break}case C.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case C.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case C.EOF:{this._err(V.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===C.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case C.GREATER_THAN_SIGN:{this.state=j.DATA;break}case C.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(C.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&I_(this.preprocessor.peek(1))?j.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){I_(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===C.SEMICOLON&&this._err(V.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const iA=new Set([x.DD,x.DT,x.LI,x.OPTGROUP,x.OPTION,x.P,x.RB,x.RP,x.RT,x.RTC]),R_=new Set([...iA,x.CAPTION,x.COLGROUP,x.TBODY,x.TD,x.TFOOT,x.TH,x.THEAD,x.TR]),tp=new Set([x.APPLET,x.CAPTION,x.HTML,x.MARQUEE,x.OBJECT,x.TABLE,x.TD,x.TEMPLATE,x.TH]),tq=new Set([...tp,x.OL,x.UL]),rq=new Set([...tp,x.BUTTON]),D_=new Set([x.ANNOTATION_XML,x.MI,x.MN,x.MO,x.MS,x.MTEXT]),M_=new Set([x.DESC,x.FOREIGN_OBJECT,x.TITLE]),nq=new Set([x.TR,x.TEMPLATE,x.HTML]),sq=new Set([x.TBODY,x.TFOOT,x.THEAD,x.TEMPLATE,x.HTML]),iq=new Set([x.TABLE,x.TEMPLATE,x.HTML]),aq=new Set([x.TD,x.TH]);class oq{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=x.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===x.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Q.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,r){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,r,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,r){const n=this._indexOf(e);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(e,r,n){const s=this._indexOf(e)+1;this.items.splice(s,0,r),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(e,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==Q.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(e){for(;this.stackTop>=e;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<e)}}popUntilElementPopped(e){const r=this._indexOf(e);this.shortenToLength(Math.max(r,0))}popUntilPopped(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(_x,Q.HTML)}popUntilTableCellPopped(){this.popUntilPopped(aq,Q.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,r){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(iq,Q.HTML)}clearBackToTableBodyContext(){this.clearBackTo(sq,Q.HTML)}clearBackToTableRowContext(){this.clearBackTo(nq,Q.HTML)}remove(e){const r=this._indexOf(e);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===x.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const r=this._indexOf(e)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===x.HTML}hasInDynamicScope(e,r){for(let n=this.stackTop;n>=0;n--){const s=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case Q.HTML:{if(s===e)return!0;if(r.has(s))return!1;break}case Q.SVG:{if(M_.has(s))return!1;break}case Q.MATHML:{if(D_.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,tp)}hasInListItemScope(e){return this.hasInDynamicScope(e,tq)}hasInButtonScope(e){return this.hasInDynamicScope(e,rq)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Q.HTML:{if(_x.has(r))return!0;if(tp.has(r))return!1;break}case Q.SVG:{if(M_.has(r))return!1;break}case Q.MATHML:{if(D_.has(r))return!1;break}}}return!0}hasInTableScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Q.HTML)switch(this.tagIDs[r]){case e:return!0;case x.TABLE:case x.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Q.HTML)switch(this.tagIDs[e]){case x.TBODY:case x.THEAD:case x.TFOOT:return!0;case x.TABLE:case x.HTML:return!1}return!0}hasInSelectScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Q.HTML)switch(this.tagIDs[r]){case e:return!0;case x.OPTION:case x.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&iA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&R_.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&R_.has(this.currentTagId);)this.pop()}}const Eg=3;var Xs;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Xs||(Xs={}));const L_={type:Xs.Marker};class lq{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,r){const n=[],s=r.length,i=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===Xs.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===a){const d=this.treeAdapter.getAttrList(u);d.length===s&&n.push({idx:o,attrs:d})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<Eg)return;const r=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,r);if(n.length<Eg)return;const s=new Map(r.map(a=>[a.name,a.value]));let i=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(l=>s.get(l.name)===l.value)&&(i+=1,i>=Eg&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(L_)}pushElement(e,r){this._ensureNoahArkCondition(e),this.entries.unshift({type:Xs.Element,element:e,token:r})}insertElementAfterBookmark(e,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Xs.Element,element:e,token:r})}removeEntry(e){const r=this.entries.indexOf(e);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const e=this.entries.indexOf(L_);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const r=this.entries.find(n=>n.type===Xs.Marker||this.treeAdapter.getTagName(n.element)===e);return r&&r.type===Xs.Element?r:null}getElementEntry(e){return this.entries.find(r=>r.type===Xs.Element&&r.element===e)}}const Ki={createDocument(){return{nodeName:"#document",mode:cs.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,r){return{nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,r,n){const s=t.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=e,s.publicId=r,s.systemId=n;else{const i={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};Ki.appendChild(t,i)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(Ki.isTextNode(r)){r.value+=e;return}}Ki.appendChild(t,Ki.createTextNode(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&Ki.isTextNode(n)?n.value+=e:Ki.insertBefore(t,Ki.createTextNode(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map(n=>n.name));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},aA="html",cq="about:legacy-compat",uq="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",oA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],dq=[...oA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],hq=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),lA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],fq=[...lA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function F_(t,e){return e.some(r=>t.startsWith(r))}function pq(t){return t.name===aA&&t.publicId===null&&(t.systemId===null||t.systemId===cq)}function mq(t){if(t.name!==aA)return cs.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===uq)return cs.QUIRKS;let{publicId:r}=t;if(r!==null){if(r=r.toLowerCase(),hq.has(r))return cs.QUIRKS;let n=e===null?dq:oA;if(F_(r,n))return cs.QUIRKS;if(n=e===null?lA:fq,F_(r,n))return cs.LIMITED_QUIRKS}return cs.NO_QUIRKS}const B_={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},gq="definitionurl",xq="definitionURL",bq=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),yq=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Q.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Q.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Q.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Q.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Q.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Q.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Q.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Q.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Q.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Q.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Q.XMLNS}]]),vq=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),wq=new Set([x.B,x.BIG,x.BLOCKQUOTE,x.BODY,x.BR,x.CENTER,x.CODE,x.DD,x.DIV,x.DL,x.DT,x.EM,x.EMBED,x.H1,x.H2,x.H3,x.H4,x.H5,x.H6,x.HEAD,x.HR,x.I,x.IMG,x.LI,x.LISTING,x.MENU,x.META,x.NOBR,x.OL,x.P,x.PRE,x.RUBY,x.S,x.SMALL,x.SPAN,x.STRONG,x.STRIKE,x.SUB,x.SUP,x.TABLE,x.TT,x.U,x.UL,x.VAR]);function _q(t){const e=t.tagID;return e===x.FONT&&t.attrs.some(({name:n})=>n===Eo.COLOR||n===Eo.SIZE||n===Eo.FACE)||wq.has(e)}function cA(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===gq){t.attrs[e].name=xq;break}}function uA(t){for(let e=0;e<t.attrs.length;e++){const r=bq.get(t.attrs[e].name);r!=null&&(t.attrs[e].name=r)}}function yy(t){for(let e=0;e<t.attrs.length;e++){const r=yq.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function Eq(t){const e=vq.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=kc(t.tagName))}function Tq(t,e){return e===Q.MATHML&&(t===x.MI||t===x.MO||t===x.MN||t===x.MS||t===x.MTEXT)}function kq(t,e,r){if(e===Q.MATHML&&t===x.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Eo.ENCODING){const s=r[n].value.toLowerCase();return s===B_.TEXT_HTML||s===B_.APPLICATION_XML}}return e===Q.SVG&&(t===x.FOREIGN_OBJECT||t===x.DESC||t===x.TITLE)}function Nq(t,e,r,n){return(!n||n===Q.HTML)&&kq(t,e,r)||(!n||n===Q.MATHML)&&Tq(t,e)}const Sq="hidden",Cq=8,Aq=3;var O;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(O||(O={}));const jq={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},dA=new Set([x.TABLE,x.TBODY,x.TFOOT,x.THEAD,x.TR]),U_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ki,onParseError:null};class H_{constructor(e,r,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=O.INITIAL,this.originalInsertionMode=O.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...U_,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new eq(this.options,this),this.activeFormattingElements=new lq(this.treeAdapter),this.fragmentContextID=n?kc(this.treeAdapter.getTagName(n)):x.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new oq(this.document,this.treeAdapter,this)}static parse(e,r){const n=new this(r);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,r){const n={...U_,...r};e??(e=n.treeAdapter.createElement(B.TEMPLATE,Q.HTML,[]));const s=n.treeAdapter.createElement("documentmock",Q.HTML,[]),i=new this(n,s,e);return i.fragmentContextID===x.TEMPLATE&&i.tmplInsertionModeStack.unshift(O.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,r),r}_err(e,r,n){var s;if(!this.onParseError)return;const i=(s=e.location)!==null&&s!==void 0?s:jq,a={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(e,r,n){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,r)}onItemPop(e,r){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(n=this.treeAdapter).onItemPop)===null||s===void 0||s.call(n,e,this.openElements.current),r){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(e,r){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Q.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&e!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,e)}_switchToTextParsing(e,r){this._insertElement(e,Q.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=O.TEXT}switchToPlaintextParsing(){this.insertionMode=O.TEXT,this.originalInsertionMode=O.IN_BODY,this.tokenizer.state=Xt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===B.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Q.HTML))switch(this.fragmentContextID){case x.TITLE:case x.TEXTAREA:{this.tokenizer.state=Xt.RCDATA;break}case x.STYLE:case x.XMP:case x.IFRAME:case x.NOEMBED:case x.NOFRAMES:case x.NOSCRIPT:{this.tokenizer.state=Xt.RAWTEXT;break}case x.SCRIPT:{this.tokenizer.state=Xt.SCRIPT_DATA;break}case x.PLAINTEXT:{this.tokenizer.state=Xt.PLAINTEXT;break}}}_setDocumentType(e){const r=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,s),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,e)}}_appendElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,r){const n=this.treeAdapter.createElement(e,Q.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(e){const r=this.treeAdapter.createElement(e.tagName,Q.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(B.HTML,Q.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,x.HTML)}_appendCommentNode(e,r){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,e.chars,n):this.treeAdapter.insertText(r,e.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(r),i=n?s.lastIndexOf(n):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,r){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(e,r){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&r.location){const n=r.location,s=this.treeAdapter.getTagName(e),i=r.type===Xe.END_TAG&&s===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,e.tagID===x.SVG&&this.treeAdapter.getTagName(r)===B.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===Q.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===x.MGLYPH||e.tagID===x.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,Q.HTML)}_processToken(e){switch(e.type){case Xe.CHARACTER:{this.onCharacter(e);break}case Xe.NULL_CHARACTER:{this.onNullCharacter(e);break}case Xe.COMMENT:{this.onComment(e);break}case Xe.DOCTYPE:{this.onDoctype(e);break}case Xe.START_TAG:{this._processStartTag(e);break}case Xe.END_TAG:{this.onEndTag(e);break}case Xe.EOF:{this.onEof(e);break}case Xe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,r,n){const s=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return Nq(e,s,i,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const r=this.activeFormattingElements.entries.findIndex(s=>s.type===Xs.Marker||this.openElements.contains(s.element)),n=r===-1?e-1:r-1;for(let s=n;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=O.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(x.P),this.openElements.popUntilTagNamePopped(x.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case x.TR:{this.insertionMode=O.IN_ROW;return}case x.TBODY:case x.THEAD:case x.TFOOT:{this.insertionMode=O.IN_TABLE_BODY;return}case x.CAPTION:{this.insertionMode=O.IN_CAPTION;return}case x.COLGROUP:{this.insertionMode=O.IN_COLUMN_GROUP;return}case x.TABLE:{this.insertionMode=O.IN_TABLE;return}case x.BODY:{this.insertionMode=O.IN_BODY;return}case x.FRAMESET:{this.insertionMode=O.IN_FRAMESET;return}case x.SELECT:{this._resetInsertionModeForSelect(e);return}case x.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case x.HTML:{this.insertionMode=this.headElement?O.AFTER_HEAD:O.BEFORE_HEAD;return}case x.TD:case x.TH:{if(e>0){this.insertionMode=O.IN_CELL;return}break}case x.HEAD:{if(e>0){this.insertionMode=O.IN_HEAD;return}break}}this.insertionMode=O.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let r=e-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===x.TEMPLATE)break;if(n===x.TABLE){this.insertionMode=O.IN_SELECT_IN_TABLE;return}}this.insertionMode=O.IN_SELECT}_isElementCausesFosterParenting(e){return dA.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case x.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===Q.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case x.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,e,r.beforeElement):this.treeAdapter.appendChild(r.parent,e)}_isSpecialElement(e,r){const n=this.treeAdapter.getNamespaceURI(e);return JV[n].has(r)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){aY(this,e);return}switch(this.insertionMode){case O.INITIAL:{$c(this,e);break}case O.BEFORE_HTML:{Pu(this,e);break}case O.BEFORE_HEAD:{Ru(this,e);break}case O.IN_HEAD:{Du(this,e);break}case O.IN_HEAD_NO_SCRIPT:{Mu(this,e);break}case O.AFTER_HEAD:{Lu(this,e);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:{fA(this,e);break}case O.TEXT:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Tg(this,e);break}case O.IN_TABLE_TEXT:{yA(this,e);break}case O.IN_COLUMN_GROUP:{rp(this,e);break}case O.AFTER_BODY:{np(this,e);break}case O.AFTER_AFTER_BODY:{Fh(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iY(this,e);return}switch(this.insertionMode){case O.INITIAL:{$c(this,e);break}case O.BEFORE_HTML:{Pu(this,e);break}case O.BEFORE_HEAD:{Ru(this,e);break}case O.IN_HEAD:{Du(this,e);break}case O.IN_HEAD_NO_SCRIPT:{Mu(this,e);break}case O.AFTER_HEAD:{Lu(this,e);break}case O.TEXT:{this._insertCharacters(e);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Tg(this,e);break}case O.IN_COLUMN_GROUP:{rp(this,e);break}case O.AFTER_BODY:{np(this,e);break}case O.AFTER_AFTER_BODY:{Fh(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Ex(this,e);return}switch(this.insertionMode){case O.INITIAL:case O.BEFORE_HTML:case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_TEMPLATE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{Ex(this,e);break}case O.IN_TABLE_TEXT:{Vc(this,e);break}case O.AFTER_BODY:{Lq(this,e);break}case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{Fq(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case O.INITIAL:{Bq(this,e);break}case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:{this._err(e,V.misplacedDoctype);break}case O.IN_TABLE_TEXT:{Vc(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,V.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?oY(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case O.INITIAL:{$c(this,e);break}case O.BEFORE_HTML:{Uq(this,e);break}case O.BEFORE_HEAD:{zq(this,e);break}case O.IN_HEAD:{Fs(this,e);break}case O.IN_HEAD_NO_SCRIPT:{qq(this,e);break}case O.AFTER_HEAD:{Yq(this,e);break}case O.IN_BODY:{sn(this,e);break}case O.IN_TABLE:{dc(this,e);break}case O.IN_TABLE_TEXT:{Vc(this,e);break}case O.IN_CAPTION:{$W(this,e);break}case O.IN_COLUMN_GROUP:{_y(this,e);break}case O.IN_TABLE_BODY:{Yp(this,e);break}case O.IN_ROW:{Gp(this,e);break}case O.IN_CELL:{WW(this,e);break}case O.IN_SELECT:{_A(this,e);break}case O.IN_SELECT_IN_TABLE:{GW(this,e);break}case O.IN_TEMPLATE:{JW(this,e);break}case O.AFTER_BODY:{QW(this,e);break}case O.IN_FRAMESET:{ZW(this,e);break}case O.AFTER_FRAMESET:{tY(this,e);break}case O.AFTER_AFTER_BODY:{nY(this,e);break}case O.AFTER_AFTER_FRAMESET:{sY(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?lY(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case O.INITIAL:{$c(this,e);break}case O.BEFORE_HTML:{Hq(this,e);break}case O.BEFORE_HEAD:{$q(this,e);break}case O.IN_HEAD:{Vq(this,e);break}case O.IN_HEAD_NO_SCRIPT:{Wq(this,e);break}case O.AFTER_HEAD:{Gq(this,e);break}case O.IN_BODY:{Wp(this,e);break}case O.TEXT:{PW(this,e);break}case O.IN_TABLE:{pd(this,e);break}case O.IN_TABLE_TEXT:{Vc(this,e);break}case O.IN_CAPTION:{VW(this,e);break}case O.IN_COLUMN_GROUP:{qW(this,e);break}case O.IN_TABLE_BODY:{Tx(this,e);break}case O.IN_ROW:{wA(this,e);break}case O.IN_CELL:{YW(this,e);break}case O.IN_SELECT:{EA(this,e);break}case O.IN_SELECT_IN_TABLE:{KW(this,e);break}case O.IN_TEMPLATE:{XW(this,e);break}case O.AFTER_BODY:{kA(this,e);break}case O.IN_FRAMESET:{eY(this,e);break}case O.AFTER_FRAMESET:{rY(this,e);break}case O.AFTER_AFTER_BODY:{Fh(this,e);break}}}onEof(e){switch(this.insertionMode){case O.INITIAL:{$c(this,e);break}case O.BEFORE_HTML:{Pu(this,e);break}case O.BEFORE_HEAD:{Ru(this,e);break}case O.IN_HEAD:{Du(this,e);break}case O.IN_HEAD_NO_SCRIPT:{Mu(this,e);break}case O.AFTER_HEAD:{Lu(this,e);break}case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{xA(this,e);break}case O.TEXT:{RW(this,e);break}case O.IN_TABLE_TEXT:{Vc(this,e);break}case O.IN_TEMPLATE:{TA(this,e);break}case O.AFTER_BODY:case O.IN_FRAMESET:case O.AFTER_FRAMESET:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{wy(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===C.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.TEXT:case O.IN_COLUMN_GROUP:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{this._insertCharacters(e);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:case O.AFTER_BODY:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{hA(this,e);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Tg(this,e);break}case O.IN_TABLE_TEXT:{bA(this,e);break}}}}function Oq(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):gA(t,e),r}function Iq(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const s=t.openElements.items[n];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[n])&&(r=s)}return r||(t.openElements.shortenToLength(Math.max(n,0)),t.activeFormattingElements.removeEntry(e)),r}function Pq(t,e,r){let n=e,s=t.openElements.getCommonAncestor(e);for(let i=0,a=s;a!==r;i++,a=s){s=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),l=o&&i>=Aq;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=Rq(t,o),n===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(a,n),n=a)}return n}function Rq(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function Dq(t,e,r){const n=t.treeAdapter.getTagName(e),s=kc(n);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(r);else{const i=t.treeAdapter.getNamespaceURI(e);s===x.TEMPLATE&&i===Q.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function Mq(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:s}=r,i=t.treeAdapter.createElement(s.tagName,n,s.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,s),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,i,s.tagID)}function vy(t,e){for(let r=0;r<Cq;r++){const n=Oq(t,e);if(!n)break;const s=Iq(t,n);if(!s)break;t.activeFormattingElements.bookmark=n;const i=Pq(t,s,n.element),a=t.openElements.getCommonAncestor(n.element);t.treeAdapter.detachNode(i),a&&Dq(t,a,i),Mq(t,s,n)}}function Ex(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function Lq(t,e){t._appendCommentNode(e,t.openElements.items[0])}function Fq(t,e){t._appendCommentNode(e,t.document)}function wy(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const n=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(t._setEndLocation(n,e),t.openElements.stackTop>=1)){const i=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&t._setEndLocation(i,e)}}}}function Bq(t,e){t._setDocumentType(e);const r=e.forceQuirks?cs.QUIRKS:mq(e);pq(e)||t._err(e,V.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=O.BEFORE_HTML}function $c(t,e){t._err(e,V.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,cs.QUIRKS),t.insertionMode=O.BEFORE_HTML,t._processToken(e)}function Uq(t,e){e.tagID===x.HTML?(t._insertElement(e,Q.HTML),t.insertionMode=O.BEFORE_HEAD):Pu(t,e)}function Hq(t,e){const r=e.tagID;(r===x.HTML||r===x.HEAD||r===x.BODY||r===x.BR)&&Pu(t,e)}function Pu(t,e){t._insertFakeRootElement(),t.insertionMode=O.BEFORE_HEAD,t._processToken(e)}function zq(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.HEAD:{t._insertElement(e,Q.HTML),t.headElement=t.openElements.current,t.insertionMode=O.IN_HEAD;break}default:Ru(t,e)}}function $q(t,e){const r=e.tagID;r===x.HEAD||r===x.BODY||r===x.HTML||r===x.BR?Ru(t,e):t._err(e,V.endTagWithoutMatchingOpenElement)}function Ru(t,e){t._insertFakeElement(B.HEAD,x.HEAD),t.headElement=t.openElements.current,t.insertionMode=O.IN_HEAD,t._processToken(e)}function Fs(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:{t._appendElement(e,Q.HTML),e.ackSelfClosing=!0;break}case x.TITLE:{t._switchToTextParsing(e,Xt.RCDATA);break}case x.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Xt.RAWTEXT):(t._insertElement(e,Q.HTML),t.insertionMode=O.IN_HEAD_NO_SCRIPT);break}case x.NOFRAMES:case x.STYLE:{t._switchToTextParsing(e,Xt.RAWTEXT);break}case x.SCRIPT:{t._switchToTextParsing(e,Xt.SCRIPT_DATA);break}case x.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=O.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(O.IN_TEMPLATE);break}case x.HEAD:{t._err(e,V.misplacedStartTagForHeadElement);break}default:Du(t,e)}}function Vq(t,e){switch(e.tagID){case x.HEAD:{t.openElements.pop(),t.insertionMode=O.AFTER_HEAD;break}case x.BODY:case x.BR:case x.HTML:{Du(t,e);break}case x.TEMPLATE:{Yo(t,e);break}default:t._err(e,V.endTagWithoutMatchingOpenElement)}}function Yo(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==x.TEMPLATE&&t._err(e,V.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(x.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,V.endTagWithoutMatchingOpenElement)}function Du(t,e){t.openElements.pop(),t.insertionMode=O.AFTER_HEAD,t._processToken(e)}function qq(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.BASEFONT:case x.BGSOUND:case x.HEAD:case x.LINK:case x.META:case x.NOFRAMES:case x.STYLE:{Fs(t,e);break}case x.NOSCRIPT:{t._err(e,V.nestedNoscriptInHead);break}default:Mu(t,e)}}function Wq(t,e){switch(e.tagID){case x.NOSCRIPT:{t.openElements.pop(),t.insertionMode=O.IN_HEAD;break}case x.BR:{Mu(t,e);break}default:t._err(e,V.endTagWithoutMatchingOpenElement)}}function Mu(t,e){const r=e.type===Xe.EOF?V.openElementsLeftAfterEof:V.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=O.IN_HEAD,t._processToken(e)}function Yq(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.BODY:{t._insertElement(e,Q.HTML),t.framesetOk=!1,t.insertionMode=O.IN_BODY;break}case x.FRAMESET:{t._insertElement(e,Q.HTML),t.insertionMode=O.IN_FRAMESET;break}case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:case x.NOFRAMES:case x.SCRIPT:case x.STYLE:case x.TEMPLATE:case x.TITLE:{t._err(e,V.abandonedHeadElementChild),t.openElements.push(t.headElement,x.HEAD),Fs(t,e),t.openElements.remove(t.headElement);break}case x.HEAD:{t._err(e,V.misplacedStartTagForHeadElement);break}default:Lu(t,e)}}function Gq(t,e){switch(e.tagID){case x.BODY:case x.HTML:case x.BR:{Lu(t,e);break}case x.TEMPLATE:{Yo(t,e);break}default:t._err(e,V.endTagWithoutMatchingOpenElement)}}function Lu(t,e){t._insertFakeElement(B.BODY,x.BODY),t.insertionMode=O.IN_BODY,qp(t,e)}function qp(t,e){switch(e.type){case Xe.CHARACTER:{fA(t,e);break}case Xe.WHITESPACE_CHARACTER:{hA(t,e);break}case Xe.COMMENT:{Ex(t,e);break}case Xe.START_TAG:{sn(t,e);break}case Xe.END_TAG:{Wp(t,e);break}case Xe.EOF:{xA(t,e);break}}}function hA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function fA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function Kq(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Jq(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}function Xq(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_FRAMESET)}function Qq(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML)}function Zq(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&_x.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Q.HTML)}function eW(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function tW(t,e){const r=t.openElements.tmplCount>0;(!t.formElement||r)&&(t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML),r||(t.formElement=t.openElements.current))}function rW(t,e){t.framesetOk=!1;const r=e.tagID;for(let n=t.openElements.stackTop;n>=0;n--){const s=t.openElements.tagIDs[n];if(r===x.LI&&s===x.LI||(r===x.DD||r===x.DT)&&(s===x.DD||s===x.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==x.ADDRESS&&s!==x.DIV&&s!==x.P&&t._isSpecialElement(t.openElements.items[n],s))break}t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML)}function nW(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML),t.tokenizer.state=Xt.PLAINTEXT}function sW(t,e){t.openElements.hasInScope(x.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(x.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML),t.framesetOk=!1}function iW(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(B.A);r&&(vy(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function aW(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function oW(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(x.NOBR)&&(vy(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function lW(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function cW(t,e){t.treeAdapter.getDocumentMode(t.document)!==cs.QUIRKS&&t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._insertElement(e,Q.HTML),t.framesetOk=!1,t.insertionMode=O.IN_TABLE}function pA(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Q.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function mA(t){const e=nA(t,Eo.TYPE);return e!=null&&e.toLowerCase()===Sq}function uW(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Q.HTML),mA(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function dW(t,e){t._appendElement(e,Q.HTML),e.ackSelfClosing=!0}function hW(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._appendElement(e,Q.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function fW(t,e){e.tagName=B.IMG,e.tagID=x.IMG,pA(t,e)}function pW(t,e){t._insertElement(e,Q.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Xt.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=O.TEXT}function mW(t,e){t.openElements.hasInButtonScope(x.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Xt.RAWTEXT)}function gW(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Xt.RAWTEXT)}function z_(t,e){t._switchToTextParsing(e,Xt.RAWTEXT)}function xW(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===O.IN_TABLE||t.insertionMode===O.IN_CAPTION||t.insertionMode===O.IN_TABLE_BODY||t.insertionMode===O.IN_ROW||t.insertionMode===O.IN_CELL?O.IN_SELECT_IN_TABLE:O.IN_SELECT}function bW(t,e){t.openElements.currentTagId===x.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML)}function yW(t,e){t.openElements.hasInScope(x.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Q.HTML)}function vW(t,e){t.openElements.hasInScope(x.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(x.RTC),t._insertElement(e,Q.HTML)}function wW(t,e){t._reconstructActiveFormattingElements(),cA(e),yy(e),e.selfClosing?t._appendElement(e,Q.MATHML):t._insertElement(e,Q.MATHML),e.ackSelfClosing=!0}function _W(t,e){t._reconstructActiveFormattingElements(),uA(e),yy(e),e.selfClosing?t._appendElement(e,Q.SVG):t._insertElement(e,Q.SVG),e.ackSelfClosing=!0}function $_(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Q.HTML)}function sn(t,e){switch(e.tagID){case x.I:case x.S:case x.B:case x.U:case x.EM:case x.TT:case x.BIG:case x.CODE:case x.FONT:case x.SMALL:case x.STRIKE:case x.STRONG:{aW(t,e);break}case x.A:{iW(t,e);break}case x.H1:case x.H2:case x.H3:case x.H4:case x.H5:case x.H6:{Zq(t,e);break}case x.P:case x.DL:case x.OL:case x.UL:case x.DIV:case x.DIR:case x.NAV:case x.MAIN:case x.MENU:case x.ASIDE:case x.CENTER:case x.FIGURE:case x.FOOTER:case x.HEADER:case x.HGROUP:case x.DIALOG:case x.DETAILS:case x.ADDRESS:case x.ARTICLE:case x.SEARCH:case x.SECTION:case x.SUMMARY:case x.FIELDSET:case x.BLOCKQUOTE:case x.FIGCAPTION:{Qq(t,e);break}case x.LI:case x.DD:case x.DT:{rW(t,e);break}case x.BR:case x.IMG:case x.WBR:case x.AREA:case x.EMBED:case x.KEYGEN:{pA(t,e);break}case x.HR:{hW(t,e);break}case x.RB:case x.RTC:{yW(t,e);break}case x.RT:case x.RP:{vW(t,e);break}case x.PRE:case x.LISTING:{eW(t,e);break}case x.XMP:{mW(t,e);break}case x.SVG:{_W(t,e);break}case x.HTML:{Kq(t,e);break}case x.BASE:case x.LINK:case x.META:case x.STYLE:case x.TITLE:case x.SCRIPT:case x.BGSOUND:case x.BASEFONT:case x.TEMPLATE:{Fs(t,e);break}case x.BODY:{Jq(t,e);break}case x.FORM:{tW(t,e);break}case x.NOBR:{oW(t,e);break}case x.MATH:{wW(t,e);break}case x.TABLE:{cW(t,e);break}case x.INPUT:{uW(t,e);break}case x.PARAM:case x.TRACK:case x.SOURCE:{dW(t,e);break}case x.IMAGE:{fW(t,e);break}case x.BUTTON:{sW(t,e);break}case x.APPLET:case x.OBJECT:case x.MARQUEE:{lW(t,e);break}case x.IFRAME:{gW(t,e);break}case x.SELECT:{xW(t,e);break}case x.OPTION:case x.OPTGROUP:{bW(t,e);break}case x.NOEMBED:case x.NOFRAMES:{z_(t,e);break}case x.FRAMESET:{Xq(t,e);break}case x.TEXTAREA:{pW(t,e);break}case x.NOSCRIPT:{t.options.scriptingEnabled?z_(t,e):$_(t,e);break}case x.PLAINTEXT:{nW(t,e);break}case x.COL:case x.TH:case x.TD:case x.TR:case x.HEAD:case x.FRAME:case x.TBODY:case x.TFOOT:case x.THEAD:case x.CAPTION:case x.COLGROUP:break;default:$_(t,e)}}function EW(t,e){if(t.openElements.hasInScope(x.BODY)&&(t.insertionMode=O.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}function TW(t,e){t.openElements.hasInScope(x.BODY)&&(t.insertionMode=O.AFTER_BODY,kA(t,e))}function kW(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}function NW(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(x.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(x.FORM):r&&t.openElements.remove(r))}function SW(t){t.openElements.hasInButtonScope(x.P)||t._insertFakeElement(B.P,x.P),t._closePElement()}function CW(t){t.openElements.hasInListItemScope(x.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(x.LI),t.openElements.popUntilTagNamePopped(x.LI))}function AW(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}function jW(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function OW(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}function IW(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(B.BR,x.BR),t.openElements.pop(),t.framesetOk=!1}function gA(t,e){const r=e.tagName,n=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const i=t.openElements.items[s],a=t.openElements.tagIDs[s];if(n===a&&(n!==x.UNKNOWN||t.treeAdapter.getTagName(i)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(i,a))break}}function Wp(t,e){switch(e.tagID){case x.A:case x.B:case x.I:case x.S:case x.U:case x.EM:case x.TT:case x.BIG:case x.CODE:case x.FONT:case x.NOBR:case x.SMALL:case x.STRIKE:case x.STRONG:{vy(t,e);break}case x.P:{SW(t);break}case x.DL:case x.UL:case x.OL:case x.DIR:case x.DIV:case x.NAV:case x.PRE:case x.MAIN:case x.MENU:case x.ASIDE:case x.BUTTON:case x.CENTER:case x.FIGURE:case x.FOOTER:case x.HEADER:case x.HGROUP:case x.DIALOG:case x.ADDRESS:case x.ARTICLE:case x.DETAILS:case x.SEARCH:case x.SECTION:case x.SUMMARY:case x.LISTING:case x.FIELDSET:case x.BLOCKQUOTE:case x.FIGCAPTION:{kW(t,e);break}case x.LI:{CW(t);break}case x.DD:case x.DT:{AW(t,e);break}case x.H1:case x.H2:case x.H3:case x.H4:case x.H5:case x.H6:{jW(t);break}case x.BR:{IW(t);break}case x.BODY:{EW(t,e);break}case x.HTML:{TW(t,e);break}case x.FORM:{NW(t);break}case x.APPLET:case x.OBJECT:case x.MARQUEE:{OW(t,e);break}case x.TEMPLATE:{Yo(t,e);break}default:gA(t,e)}}function xA(t,e){t.tmplInsertionModeStack.length>0?TA(t,e):wy(t,e)}function PW(t,e){var r;e.tagID===x.SCRIPT&&((r=t.scriptHandler)===null||r===void 0||r.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function RW(t,e){t._err(e,V.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Tg(t,e){if(t.openElements.currentTagId!==void 0&&dA.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=O.IN_TABLE_TEXT,e.type){case Xe.CHARACTER:{yA(t,e);break}case Xe.WHITESPACE_CHARACTER:{bA(t,e);break}}else Od(t,e)}function DW(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_CAPTION}function MW(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_COLUMN_GROUP}function LW(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(B.COLGROUP,x.COLGROUP),t.insertionMode=O.IN_COLUMN_GROUP,_y(t,e)}function FW(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_TABLE_BODY}function BW(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(B.TBODY,x.TBODY),t.insertionMode=O.IN_TABLE_BODY,Yp(t,e)}function UW(t,e){t.openElements.hasInTableScope(x.TABLE)&&(t.openElements.popUntilTagNamePopped(x.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function HW(t,e){mA(e)?t._appendElement(e,Q.HTML):Od(t,e),e.ackSelfClosing=!0}function zW(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Q.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function dc(t,e){switch(e.tagID){case x.TD:case x.TH:case x.TR:{BW(t,e);break}case x.STYLE:case x.SCRIPT:case x.TEMPLATE:{Fs(t,e);break}case x.COL:{LW(t,e);break}case x.FORM:{zW(t,e);break}case x.TABLE:{UW(t,e);break}case x.TBODY:case x.TFOOT:case x.THEAD:{FW(t,e);break}case x.INPUT:{HW(t,e);break}case x.CAPTION:{DW(t,e);break}case x.COLGROUP:{MW(t,e);break}default:Od(t,e)}}function pd(t,e){switch(e.tagID){case x.TABLE:{t.openElements.hasInTableScope(x.TABLE)&&(t.openElements.popUntilTagNamePopped(x.TABLE),t._resetInsertionMode());break}case x.TEMPLATE:{Yo(t,e);break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TBODY:case x.TD:case x.TFOOT:case x.TH:case x.THEAD:case x.TR:break;default:Od(t,e)}}function Od(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,qp(t,e),t.fosterParentingEnabled=r}function bA(t,e){t.pendingCharacterTokens.push(e)}function yA(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Vc(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)Od(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const vA=new Set([x.CAPTION,x.COL,x.COLGROUP,x.TBODY,x.TD,x.TFOOT,x.TH,x.THEAD,x.TR]);function $W(t,e){const r=e.tagID;vA.has(r)?t.openElements.hasInTableScope(x.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(x.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=O.IN_TABLE,dc(t,e)):sn(t,e)}function VW(t,e){const r=e.tagID;switch(r){case x.CAPTION:case x.TABLE:{t.openElements.hasInTableScope(x.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(x.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=O.IN_TABLE,r===x.TABLE&&pd(t,e));break}case x.BODY:case x.COL:case x.COLGROUP:case x.HTML:case x.TBODY:case x.TD:case x.TFOOT:case x.TH:case x.THEAD:case x.TR:break;default:Wp(t,e)}}function _y(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.COL:{t._appendElement(e,Q.HTML),e.ackSelfClosing=!0;break}case x.TEMPLATE:{Fs(t,e);break}default:rp(t,e)}}function qW(t,e){switch(e.tagID){case x.COLGROUP:{t.openElements.currentTagId===x.COLGROUP&&(t.openElements.pop(),t.insertionMode=O.IN_TABLE);break}case x.TEMPLATE:{Yo(t,e);break}case x.COL:break;default:rp(t,e)}}function rp(t,e){t.openElements.currentTagId===x.COLGROUP&&(t.openElements.pop(),t.insertionMode=O.IN_TABLE,t._processToken(e))}function Yp(t,e){switch(e.tagID){case x.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_ROW;break}case x.TH:case x.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(B.TR,x.TR),t.insertionMode=O.IN_ROW,Gp(t,e);break}case x.CAPTION:case x.COL:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE,dc(t,e));break}default:dc(t,e)}}function Tx(t,e){const r=e.tagID;switch(e.tagID){case x.TBODY:case x.TFOOT:case x.THEAD:{t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE);break}case x.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE,pd(t,e));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TD:case x.TH:case x.TR:break;default:pd(t,e)}}function Gp(t,e){switch(e.tagID){case x.TH:case x.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Q.HTML),t.insertionMode=O.IN_CELL,t.activeFormattingElements.insertMarker();break}case x.CAPTION:case x.COL:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:case x.TR:{t.openElements.hasInTableScope(x.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE_BODY,Yp(t,e));break}default:dc(t,e)}}function wA(t,e){switch(e.tagID){case x.TR:{t.openElements.hasInTableScope(x.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE_BODY);break}case x.TABLE:{t.openElements.hasInTableScope(x.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE_BODY,Tx(t,e));break}case x.TBODY:case x.TFOOT:case x.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(x.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=O.IN_TABLE_BODY,Tx(t,e));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TD:case x.TH:break;default:pd(t,e)}}function WW(t,e){const r=e.tagID;vA.has(r)?(t.openElements.hasInTableScope(x.TD)||t.openElements.hasInTableScope(x.TH))&&(t._closeTableCell(),Gp(t,e)):sn(t,e)}function YW(t,e){const r=e.tagID;switch(r){case x.TD:case x.TH:{t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=O.IN_ROW);break}case x.TABLE:case x.TBODY:case x.TFOOT:case x.THEAD:case x.TR:{t.openElements.hasInTableScope(r)&&(t._closeTableCell(),wA(t,e));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:break;default:Wp(t,e)}}function _A(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.OPTION:{t.openElements.currentTagId===x.OPTION&&t.openElements.pop(),t._insertElement(e,Q.HTML);break}case x.OPTGROUP:{t.openElements.currentTagId===x.OPTION&&t.openElements.pop(),t.openElements.currentTagId===x.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Q.HTML);break}case x.HR:{t.openElements.currentTagId===x.OPTION&&t.openElements.pop(),t.openElements.currentTagId===x.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Q.HTML),e.ackSelfClosing=!0;break}case x.INPUT:case x.KEYGEN:case x.TEXTAREA:case x.SELECT:{t.openElements.hasInSelectScope(x.SELECT)&&(t.openElements.popUntilTagNamePopped(x.SELECT),t._resetInsertionMode(),e.tagID!==x.SELECT&&t._processStartTag(e));break}case x.SCRIPT:case x.TEMPLATE:{Fs(t,e);break}}}function EA(t,e){switch(e.tagID){case x.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===x.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===x.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===x.OPTGROUP&&t.openElements.pop();break}case x.OPTION:{t.openElements.currentTagId===x.OPTION&&t.openElements.pop();break}case x.SELECT:{t.openElements.hasInSelectScope(x.SELECT)&&(t.openElements.popUntilTagNamePopped(x.SELECT),t._resetInsertionMode());break}case x.TEMPLATE:{Yo(t,e);break}}}function GW(t,e){const r=e.tagID;r===x.CAPTION||r===x.TABLE||r===x.TBODY||r===x.TFOOT||r===x.THEAD||r===x.TR||r===x.TD||r===x.TH?(t.openElements.popUntilTagNamePopped(x.SELECT),t._resetInsertionMode(),t._processStartTag(e)):_A(t,e)}function KW(t,e){const r=e.tagID;r===x.CAPTION||r===x.TABLE||r===x.TBODY||r===x.TFOOT||r===x.THEAD||r===x.TR||r===x.TD||r===x.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(x.SELECT),t._resetInsertionMode(),t.onEndTag(e)):EA(t,e)}function JW(t,e){switch(e.tagID){case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:case x.NOFRAMES:case x.SCRIPT:case x.STYLE:case x.TEMPLATE:case x.TITLE:{Fs(t,e);break}case x.CAPTION:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:{t.tmplInsertionModeStack[0]=O.IN_TABLE,t.insertionMode=O.IN_TABLE,dc(t,e);break}case x.COL:{t.tmplInsertionModeStack[0]=O.IN_COLUMN_GROUP,t.insertionMode=O.IN_COLUMN_GROUP,_y(t,e);break}case x.TR:{t.tmplInsertionModeStack[0]=O.IN_TABLE_BODY,t.insertionMode=O.IN_TABLE_BODY,Yp(t,e);break}case x.TD:case x.TH:{t.tmplInsertionModeStack[0]=O.IN_ROW,t.insertionMode=O.IN_ROW,Gp(t,e);break}default:t.tmplInsertionModeStack[0]=O.IN_BODY,t.insertionMode=O.IN_BODY,sn(t,e)}}function XW(t,e){e.tagID===x.TEMPLATE&&Yo(t,e)}function TA(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(x.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):wy(t,e)}function QW(t,e){e.tagID===x.HTML?sn(t,e):np(t,e)}function kA(t,e){var r;if(e.tagID===x.HTML){if(t.fragmentContext||(t.insertionMode=O.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===x.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(!((r=t.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&t._setEndLocation(n,e)}}else np(t,e)}function np(t,e){t.insertionMode=O.IN_BODY,qp(t,e)}function ZW(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.FRAMESET:{t._insertElement(e,Q.HTML);break}case x.FRAME:{t._appendElement(e,Q.HTML),e.ackSelfClosing=!0;break}case x.NOFRAMES:{Fs(t,e);break}}}function eY(t,e){e.tagID===x.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==x.FRAMESET&&(t.insertionMode=O.AFTER_FRAMESET))}function tY(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.NOFRAMES:{Fs(t,e);break}}}function rY(t,e){e.tagID===x.HTML&&(t.insertionMode=O.AFTER_AFTER_FRAMESET)}function nY(t,e){e.tagID===x.HTML?sn(t,e):Fh(t,e)}function Fh(t,e){t.insertionMode=O.IN_BODY,qp(t,e)}function sY(t,e){switch(e.tagID){case x.HTML:{sn(t,e);break}case x.NOFRAMES:{Fs(t,e);break}}}function iY(t,e){e.chars=Pt,t._insertCharacters(e)}function aY(t,e){t._insertCharacters(e),t.framesetOk=!1}function NA(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Q.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function oY(t,e){if(_q(e))NA(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),n=t.treeAdapter.getNamespaceURI(r);n===Q.MATHML?cA(e):n===Q.SVG&&(Eq(e),uA(e)),yy(e),e.selfClosing?t._appendElement(e,n):t._insertElement(e,n),e.ackSelfClosing=!0}}function lY(t,e){if(e.tagID===x.P||e.tagID===x.BR){NA(t),t._endTagOutsideForeignContent(e);return}for(let r=t.openElements.stackTop;r>0;r--){const n=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(n)===Q.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(n);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(r);break}}}B.AREA,B.BASE,B.BASEFONT,B.BGSOUND,B.BR,B.COL,B.EMBED,B.FRAME,B.HR,B.IMG,B.INPUT,B.KEYGEN,B.LINK,B.META,B.PARAM,B.SOURCE,B.TRACK,B.WBR;const cY=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,uY=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),V_={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function SA(t,e){const r=vY(t),n=bN("type",{handlers:{root:dY,element:hY,text:fY,comment:AA,doctype:pY,raw:gY},unknown:xY}),s={parser:r?new H_(V_):H_.getFragmentParser(void 0,V_),handle(o){n(o,s)},stitches:!1,options:e||{}};n(t,s),Nc(s,ci());const i=r?s.parser.document:s.parser.getFragment(),a=dV(i,{file:s.options.file});return s.stitches&&Np(a,"comment",function(o,l,u){const d=o;if(d.value.stitch&&u&&l!==void 0){const h=u.children;return h[l]=d.value.stitch,l}}),a.type==="root"&&a.children.length===1&&a.children[0].type===t.type?a.children[0]:a}function CA(t,e){let r=-1;if(t)for(;++r<t.length;)e.handle(t[r])}function dY(t,e){CA(t.children,e)}function hY(t,e){bY(t,e),CA(t.children,e),yY(t,e)}function fY(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const r={type:Xe.CHARACTER,chars:t.value,location:Id(t)};Nc(e,ci(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function pY(t,e){const r={type:Xe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Id(t)};Nc(e,ci(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function mY(t,e){e.stitches=!0;const r=wY(t);if("children"in t&&"children"in r){const n=SA({type:"root",children:t.children},e.options);r.children=n.children}AA({type:"comment",value:{stitch:r}},e)}function AA(t,e){const r=t.value,n={type:Xe.COMMENT,data:r,location:Id(t)};Nc(e,ci(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function gY(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,jA(e,ci(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(cY,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=e.parser.tokenizer._consume();e.parser.tokenizer._callState(r)}}function xY(t,e){const r=t;if(e.options.passThrough&&e.options.passThrough.includes(r.type))mY(r,e);else{let n="";throw uY.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Nc(t,e){jA(t,e);const r=t.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=t.parser.tokenizer.preprocessor.line,r.location.endCol=t.parser.tokenizer.preprocessor.col+1,r.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Xt.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function jA(t,e){if(e&&e.offset!==void 0){const r={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=r}}function bY(t,e){const r=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Xt.PLAINTEXT)return;Nc(e,ci(t));const n=e.parser.openElements.current;let s="namespaceURI"in n?n.namespaceURI:lo.html;s===lo.html&&r==="svg"&&(s=lo.svg);const i=NV({...t,children:[]},{space:s===lo.svg?"svg":"html"}),a={type:Xe.START_TAG,tagName:r,tagID:kc(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Id(t)};e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=r}function yY(t,e){const r=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&RV.includes(r)||e.parser.tokenizer.state===Xt.PLAINTEXT)return;Nc(e,vp(t));const n={type:Xe.END_TAG,tagName:r,tagID:kc(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Id(t)};e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken),r===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Xt.RCDATA||e.parser.tokenizer.state===Xt.RAWTEXT||e.parser.tokenizer.state===Xt.SCRIPT_DATA)&&(e.parser.tokenizer.state=Xt.DATA)}function vY(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Id(t){const e=ci(t)||{line:void 0,column:void 0,offset:void 0},r=vp(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function wY(t){return"children"in t?Ql({...t,children:[]}):Ql(t)}function _Y(t){return function(e,r){return SA(e,{...t,file:r})}}function EY(t,e,r,n){const s=t.slice(0,e),i=t.slice(r),o=s.endsWith(`
`)||s.length===0?"":`
`,l=!s.endsWith(`

`)&&s.length>0?`
`:"",u=i.startsWith(`
`)?`
`:`

`,d=`${l}${o}${n}${u}`,h=s+d+i,p=(s+d).length;return{newValue:h,newCursor:p}}function TY(t,e,r,n){const s=t.slice(0,e),i=t.slice(e,r),a=t.slice(r),o=n(i||"TEXT"),l=s+o+a,u=(s+o).length;return{newValue:l,newCursor:u}}const kY=({value:t,onChange:e,placeholder:r="Write your markdown content here...",className:n=""})=>{const[s,i]=D.useState(!1),a=D.useRef(null),o=D.useRef(null),l=D.useCallback(async S=>{var M;if(!S)return;const U=H.loading("Uploading image...");try{const $=await Rb.uploadImage(S,!1);if(H.dismiss(U),$.success){const Y=`![${S.name}](${$.url})`,G=((M=o.current)==null?void 0:M.selectionStart)??t.length,J=t,Z=J.slice(0,G)+Y+J.slice(G);e(Z),H.success("Image added successfully!")}else H.error($.error||"Failed to upload image")}catch($){H.dismiss(U),console.error("Image upload failed:",$),H.error("Failed to upload image")}},[e,t]),u=D.useCallback(S=>{var M;const U=(M=S.target.files)==null?void 0:M[0];U&&l(U),a.current&&(a.current.value="")},[l]),d=D.useCallback((S,U)=>{const M=o.current;if(!M)return;const{selectionStart:$,selectionEnd:Y}=M,{newValue:G,newCursor:J}=TY(t,$,Y,S);e(G),requestAnimationFrame(()=>{M.focus(),M.setSelectionRange(J,J)}),U&&H.success(U)},[e,t]),h=D.useCallback((S,U)=>{const M=o.current;if(!M)return;const{selectionStart:$,selectionEnd:Y}=M,{newValue:G,newCursor:J}=EY(t,$,Y,S);e(G),requestAnimationFrame(()=>{M.focus(),M.setSelectionRange(J,J)}),U&&H.success(U)},[e,t]),p=()=>d(S=>`**${S}**`,"Bold text inserted"),f=()=>d(S=>`*${S}*`,"Italic text inserted"),m=()=>d(S=>`\`${S}\``,"Code inserted"),g=()=>h("# ","Heading 1 inserted"),b=()=>h("## ","Heading 2 inserted"),y=()=>h("### ","Heading 3 inserted"),E=()=>h("- ","Bullet list item inserted"),T=()=>h("1. ","Numbered list item inserted"),k=()=>h("> ","Quote inserted"),w=()=>h("---","Horizontal rule inserted"),v=()=>d(S=>`[${S}](URL)`,"Link template inserted"),N=()=>d(S=>`![${S||"ALT"}](URL)`,"Image template inserted"),A=D.useCallback(()=>i(S=>!S),[]),I=({onClick:S,icon:U,title:M})=>c.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:S,className:"p-2 h-8 w-8",title:M,children:c.jsx(U,{className:"w-4 h-4"})});return c.jsxs("div",{className:`border border-gray-600 rounded-lg bg-gray-700 ${n}`,children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-gray-600 bg-gray-800 rounded-t-lg",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(I,{onClick:p,icon:J_,title:"Bold"}),c.jsx(I,{onClick:f,icon:X_,title:"Italic"}),c.jsx(I,{onClick:m,icon:Fu,title:"Inline Code"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(I,{onClick:g,icon:Q_,title:"Heading 1"}),c.jsx(I,{onClick:b,icon:Z_,title:"Heading 2"}),c.jsx(I,{onClick:y,icon:eE,title:"Heading 3"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(I,{onClick:E,icon:Cx,title:"Bullet List"}),c.jsx(I,{onClick:T,icon:tE,title:"Numbered List"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(I,{onClick:v,icon:sE,title:"Add Link"}),c.jsx(I,{onClick:N,icon:jx,title:"Add Image URL"}),c.jsx(I,{onClick:()=>{var S;return(S=a.current)==null?void 0:S.click()},icon:ko,title:"Upload Image"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(I,{onClick:k,icon:rE,title:"Quote"}),c.jsx(I,{onClick:w,icon:nE,title:"Horizontal Rule"})]}),c.jsx("div",{className:"flex-1"}),c.jsx(I,{onClick:A,icon:s?No:Uo,title:s?"Hide Preview":"Show Preview"})]}),c.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:u,className:"hidden"}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:`flex-1 ${s?"w-1/2":"w-full"}`,children:c.jsx("textarea",{ref:o,value:t,onChange:S=>e(S.target.value),placeholder:r,className:"w-full min-h-[300px] max-h-[600px] p-4 bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm"})}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-px bg-gray-600"}),c.jsx("div",{className:"w-1/2 p-4 overflow-y-auto max-h-[600px]",children:c.jsx("article",{className:`prose prose-invert max-w-none text-gray-300 leading-relaxed\r
                           prose-headings:text-white prose-a:text-blue-400 prose-strong:text-white\r
                           prose-code:text-blue-300 prose-pre:bg-gray-800 prose-pre:border prose-pre:border-gray-700\r
                           prose-p:text-base sm:text-lg prose-li:text-base sm:text-lg prose-img:rounded-lg`,children:c.jsx(fN,{remarkPlugins:[FN],rehypePlugins:[_Y],components:{a:({href:S,children:U,...M})=>c.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",...M,children:U}),img:({src:S,alt:U,...M})=>c.jsx("img",{src:S,alt:U,className:"max-w-full h-auto rounded-lg",...M})},children:t})})})]})]})]})},NY=({initialData:t,editingItem:e,onSave:r,onCancel:n,onBackToList:s})=>{const[i,a]=D.useState(!!e),[o,l]=D.useState(!1),[u,d]=D.useState("rich"),h=Er({resolver:Tr(aS),defaultValues:t||{title:"",slug:"",summary:"",content:"",tags:[""],coverImage:"",featured:!1,published:!1,readTime:"5 min read"},mode:"onChange"}),p=h.watch("tags")||[],f=()=>h.setValue("tags",[...p,""]),m=k=>h.setValue("tags",p.filter((w,v)=>v!==k));D.useEffect(()=>{e?h.reset({title:e.title,slug:e.slug,summary:e.summary,content:e.content,tags:e.tags.length>0?e.tags:[""],coverImage:e.coverImage||"",featured:e.featured,published:e.published,readTime:e.readTime||"5 min read"}):t&&h.reset(t)},[e,t,h]);const g=k=>k.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),b=k=>{const w=k.target.value;h.setValue("title",w),i||h.setValue("slug",g(w))},y=async k=>{console.log("onSubmit function called!");try{const w=k.tags.filter(N=>N.trim()!=="");if(w.length===0){H.error("At least one tag is required");return}const v={...k,tags:w,published:!!k.published,featured:!!k.featured};console.log("Submitting blog data:",v),console.log("Form errors:",h.formState.errors),i&&(e!=null&&e.id)?(await Ds.update(e.id,v),H.success("Blog post updated successfully!")):(await Ds.create(v),H.success("Blog post added successfully!")),h.reset(),a(!1),r==null||r()}catch(w){console.error("Blog submission error:",w),H.error("Failed to save blog post")}},E=()=>{h.reset(),a(!1),n==null||n()},T=h.watch();return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[s&&c.jsxs(K,{type:"button",variant:"outline",onClick:s,className:"flex items-center",children:[c.jsx(ip,{className:"w-4 h-4 mr-2"}),"Back to List"]}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Blog Post Form"})]}),c.jsxs(K,{type:"button",variant:"outline",onClick:()=>l(!o),className:"flex items-center",children:[o?c.jsx(No,{className:"w-4 h-4 mr-2"}):c.jsx(Uo,{className:"w-4 h-4 mr-2"}),o?"Hide Preview":"Show Preview"]})]}),o&&c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 max-w-full overflow-hidden",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white break-words",children:T.title||"Blog Post Title"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-gray-400 text-sm mt-2",children:[c.jsx("span",{children:"By Victory Johnson"}),c.jsx("span",{children:"â¢"}),c.jsx("span",{children:T.readTime||"5 min read"}),T.published&&c.jsx("span",{children:"â¢ Published"})]})]}),c.jsx("p",{className:"text-gray-300 break-words",children:T.summary||"Blog post summary..."}),T.tags&&T.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:T.tags.map((k,w)=>c.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-full break-words",children:k},w))}),c.jsx("div",{className:"prose prose-invert max-w-none overflow-hidden",children:c.jsx("div",{className:"text-gray-300 whitespace-pre-wrap break-words overflow-wrap-anywhere",children:T.content||"Blog content will appear here..."})})]})]}),c.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-6 max-w-full",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Blog Post Form"}),c.jsx(K,{type:"button",variant:"outline",onClick:()=>{console.log("Form state:",h.formState),console.log("Form values:",h.getValues()),console.log("Form errors:",h.formState.errors)},className:"flex items-center",children:"Debug Form"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Post Title *"}),c.jsx("input",{type:"text",...h.register("title"),onChange:b,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent break-words",placeholder:"Building Scalable React Applications"}),h.formState.errors.title&&c.jsx("p",{className:"text-red-400 text-sm mt-1 break-words",children:h.formState.errors.title.message})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Slug *"}),c.jsx("input",{type:"text",...h.register("slug"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent break-all",placeholder:"building-scalable-react-applications"}),h.formState.errors.slug&&c.jsx("p",{className:"text-red-400 text-sm mt-1 break-words",children:h.formState.errors.slug.message})]})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Summary *"}),c.jsx("textarea",{...h.register("summary"),rows:3,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none break-words",placeholder:"Brief summary of the blog post..."}),h.formState.errors.summary&&c.jsx("p",{className:"text-red-400 text-sm mt-1 break-words",children:h.formState.errors.summary.message})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Content *"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(K,{type:"button",variant:u==="rich"?"primary":"outline",size:"sm",onClick:()=>d("rich"),className:"flex items-center",children:[c.jsx(XA,{className:"w-4 h-4 mr-1"}),"Rich Text"]}),c.jsxs(K,{type:"button",variant:u==="markdown"?"primary":"outline",size:"sm",onClick:()=>d("markdown"),className:"flex items-center",children:[c.jsx(Ta,{className:"w-4 h-4 mr-1"}),"Markdown"]})]})]}),c.jsx("div",{className:"max-w-full overflow-hidden",children:u==="rich"?c.jsx(eV,{value:h.watch("content"),onChange:k=>h.setValue("content",k),placeholder:"Write your blog post content here..."}):c.jsx(kY,{value:h.watch("content"),onChange:k=>h.setValue("content",k),placeholder:"Write your markdown content here..."})}),h.formState.errors.content&&c.jsx("p",{className:"text-red-400 text-sm mt-1 break-words",children:h.formState.errors.content.message})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),c.jsx("input",{type:"url",...h.register("coverImage"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent break-all",placeholder:"https://example.com/cover-image.jpg"})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Read Time"}),c.jsx("input",{type:"text",...h.register("readTime"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5 min read"})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Published"}),c.jsxs("select",{...h.register("published",{setValueAs:k=>k==="true"}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"false",children:"Draft"}),c.jsx("option",{value:"true",children:"Published"})]})]})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Tags *"}),c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:f,className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Tag"]})]}),p.map((k,w)=>c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("input",{...h.register(`tags.${w}`),className:"flex-1 min-w-0 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"React, TypeScript, Web Development"}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>m(w),className:"text-red-400 hover:text-red-300 flex-shrink-0",children:c.jsx(Cr,{className:"w-4 h-4"})})]},w)),h.formState.errors.tags&&c.jsx("p",{className:"text-red-400 text-sm mt-1 break-words",children:h.formState.errors.tags.message})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",...h.register("featured"),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Featured Post"})]})})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(K,{type:"submit",className:"flex items-center justify-center",onClick:()=>console.log("Submit button clicked!"),children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),i?"Update Blog Post":"Add Blog Post"]}),c.jsx(K,{type:"button",variant:"outline",className:"flex items-center justify-center",onClick:()=>{var w,v,N,A,I;console.log("Test button clicked!");const k=h.getValues();console.log("Form values:",k),console.log("Form is valid:",h.formState.isValid),console.log("Form errors:",h.formState.errors),console.log("Form dirty fields:",h.formState.dirtyFields),console.log("Form touched fields:",h.formState.touchedFields),console.log("Manual validation:"),console.log("- title length:",(w=k.title)==null?void 0:w.length),console.log("- slug length:",(v=k.slug)==null?void 0:v.length),console.log("- summary length:",(N=k.summary)==null?void 0:N.length),console.log("- content length:",(A=k.content)==null?void 0:A.length),console.log("- tags:",k.tags),console.log("- tags filtered:",(I=k.tags)==null?void 0:I.filter(S=>S.trim()!=="")),console.log("- published type:",typeof k.published),console.log("- published value:",k.published)},children:"Test Button"}),i&&c.jsx(K,{type:"button",variant:"outline",onClick:E,className:"flex items-center justify-center",children:"Cancel"})]})]})]})},SY=({onSave:t})=>{const[e,r]=D.useState([]),[n,s]=D.useState(!0),[i,a]=D.useState(null),[o,l]=D.useState(!1),{searchValue:u,setSearchValue:d,activeFilters:h,setActiveFilters:p,filteredData:f,filterOptions:m}=db(e,["title","summary","content"],"featured");D.useEffect(()=>{g()},[]);const g=async()=>{try{const w=await Ds.getAll();r(w)}catch(w){console.error("Failed to fetch blog posts:",w)}finally{s(!1)}},b=w=>{a(w),l(!0)},y=async w=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await Ds.delete(w),H.success("Blog post deleted successfully!"),g(),t==null||t()}catch{H.error("Failed to delete blog post")}},E=()=>{l(!1),a(null),g(),t==null||t()},T=()=>{l(!1),a(null)},k=w=>w?new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return n?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading blog posts..."})]}):o?c.jsx(NY,{editingItem:i||void 0,onSave:E,onCancel:T,onBackToList:()=>l(!1)}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Blog Posts"}),c.jsx("p",{className:"text-gray-400",children:"Manage your blog posts and share your insights"})]}),c.jsxs(K,{onClick:()=>l(!0),className:"flex items-center",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Blog Post"]})]}),c.jsx(ub,{searchValue:u,onSearchChange:d,filters:m,activeFilters:h,onFilterChange:p,placeholder:"Search blog posts by title, summary, or content..."}),e.length>0&&c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[c.jsxs("span",{children:["Showing ",f.length," of ",e.length," blog posts",(u||h.length>0)&&" (filtered)"]}),(u||h.length>0)&&c.jsx("button",{onClick:()=>{d(""),p([])},className:"text-blue-400 hover:text-blue-300",children:"Clear all filters"})]}),e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ta,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No blog posts yet"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first blog post to share your insights"}),c.jsx(K,{onClick:()=>l(!0),children:"Add Your First Blog Post"})]}):c.jsx("div",{className:"space-y-4",children:f.map(w=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start space-x-4 mb-3",children:[w.coverImage&&c.jsx("img",{src:w.coverImage,alt:w.title,className:"w-16 h-16 rounded-lg object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:w.title}),w.featured&&c.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs",children:"Featured"})]}),c.jsx("p",{className:"text-gray-300 text-sm mb-2",children:w.summary})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-3",children:[w.createdAt&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),k(w.createdAt)]}),w.readTime&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ea,{className:"w-4 h-4 mr-1"}),w.readTime]})]}),w.tags&&w.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:w.tags.map((v,N)=>c.jsxs("span",{className:"flex items-center px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs",children:[c.jsx(Sx,{className:"w-3 h-3 mr-1"}),v]},N))})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>b(w),children:c.jsx(xd,{className:"w-4 h-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>y(w.id),className:"text-red-400 hover:text-red-300",children:c.jsx(pc,{className:"w-4 h-4"})})]})]})},w.id))})]})},CY=({initialData:t,onSave:e})=>{const[r,n]=D.useState(!1),s=Er({resolver:Tr(oS),defaultValues:t||{image:"",alt:"Victory Johnson - Software Engineer"}});D.useEffect(()=>{t&&s.reset(t)},[t,s]);const i=u=>{s.setValue("image",u.url)},a=()=>{s.setValue("image","")},o=async u=>{try{await Io.update(u),H.success("Profile image updated successfully!"),e==null||e()}catch{H.error("Failed to save profile image")}},l=s.watch();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Profile Image Management"}),c.jsxs(K,{type:"button",variant:"outline",onClick:()=>n(!r),className:"flex items-center",children:[r?c.jsx(No,{className:"w-4 h-4 mr-2"}):c.jsx(Uo,{className:"w-4 h-4 mr-2"}),r?"Hide Preview":"Show Preview"]})]}),r&&c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:l.image?c.jsx("img",{src:l.image,alt:l.alt,className:"w-full h-full object-cover"}):c.jsxs("div",{className:"text-gray-400 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center mb-2",children:c.jsx("span",{className:"text-2xl",children:"ð¤"})}),c.jsx("p",{className:"text-sm",children:"No image"})]})}),c.jsx("div",{children:c.jsx("h5",{className:"text-white font-medium",children:l.alt})})]})]}),c.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Image"}),c.jsx(z0,{onUpload:i,onRemove:a,currentImage:s.watch("image"),placeholder:"Drag & drop your profile image here or click to browse",maxSize:2}),s.formState.errors.image&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.formState.errors.image.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Alt Text *"}),c.jsx("input",{type:"text",...s.register("alt"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Victory Johnson - Software Engineer"}),s.formState.errors.alt&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.formState.errors.alt.message})]}),c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Image Guidelines"}),c.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[c.jsx("li",{children:"â¢ Recommended size: 400x400 pixels or larger"}),c.jsx("li",{children:"â¢ Format: JPG, PNG, or WebP"}),c.jsx("li",{children:"â¢ File size: Under 2MB"}),c.jsx("li",{children:"â¢ Professional headshot or portrait style"}),c.jsx("li",{children:"â¢ Good lighting and clear background"})]})]}),c.jsx("div",{className:"flex space-x-4",children:c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),"Save Profile Image"]})})]})]})},AY=({initialData:t,onSave:e})=>{const[r,n]=D.useState(null),[s,i]=D.useState(!1),a=Er({resolver:Tr(lS),defaultValues:t||{file_url:"",file_name:"Victory Johnson - Software Engineer Resume.pdf",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}});D.useEffect(()=>{t&&a.reset(t)},[t,a]);const o=h=>{var f;const p=(f=h.target.files)==null?void 0:f[0];if(p){if(p.type!=="application/pdf"){H.error("Please upload a PDF file");return}if(p.size>5*1024*1024){H.error("File size must be less than 5MB");return}n(p),a.setValue("file_url",URL.createObjectURL(p)),a.setValue("file_name",p.name)}},l=()=>{n(null),a.setValue("file_url",""),a.setValue("file_name","")},u=async h=>{try{await Ju.update(h),H.success("Resume updated successfully!"),e==null||e()}catch{H.error("Failed to save resume")}},d=a.watch();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Resume Management"}),c.jsxs(K,{type:"button",variant:"outline",onClick:()=>i(!s),className:"flex items-center",children:[s?c.jsx(No,{className:"w-4 h-4 mr-2"}):c.jsx(Uo,{className:"w-4 h-4 mr-2"}),s?"Hide Preview":"Show Preview"]})]}),s&&c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Resume Preview"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:c.jsx(Ta,{className:"w-8 h-8 text-white"})}),c.jsxs("div",{children:[c.jsx("h5",{className:"text-white font-medium",children:d.file_name||"Resume.pdf"}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["Last updated: ",d.updated_at?new Date(d.updated_at).toLocaleDateString():"Not specified"]})]}),d.file_url&&c.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:()=>window.open(d.file_url,"_blank"),className:"flex items-center",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Preview"]})]})]}),c.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Resume File"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("input",{type:"url",...a.register("file_url"),className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/resume.pdf"}),c.jsxs(K,{type:"button",variant:"outline",onClick:()=>{var h;return(h=document.getElementById("resume-upload"))==null?void 0:h.click()},className:"flex items-center",children:[c.jsx(ko,{className:"w-4 h-4 mr-2"}),"Upload"]}),c.jsx("input",{id:"resume-upload",type:"file",accept:".pdf",onChange:o,className:"hidden"})]}),a.formState.errors.file_url&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.file_url.message})]}),r&&c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800 rounded-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:c.jsx(Ta,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-medium",children:r.name}),c.jsxs("p",{className:"text-gray-400 text-sm",children:[(r.size/1024/1024).toFixed(2)," MB"]})]}),c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:l,className:"text-red-400 hover:text-red-300",children:c.jsx(Cr,{className:"w-4 h-4"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filename *"}),c.jsx("input",{type:"text",...a.register("file_name"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Victory Johnson - Software Engineer Resume.pdf"}),a.formState.errors.file_name&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.file_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Updated"}),c.jsx("input",{type:"date",...a.register("updated_at"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Resume Guidelines"}),c.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[c.jsx("li",{children:"â¢ Format: PDF only"}),c.jsx("li",{children:"â¢ File size: Maximum 5MB"}),c.jsx("li",{children:"â¢ Include: Contact info, experience, education, skills"}),c.jsx("li",{children:"â¢ Keep it professional and up-to-date"}),c.jsx("li",{children:"â¢ Use clear, readable fonts"}),c.jsx("li",{children:"â¢ Include relevant keywords for ATS systems"})]})]}),c.jsx("div",{className:"flex space-x-4",children:c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),"Save Resume"]})})]})]})},jY=({initialData:t,editingItem:e,onSave:r,onCancel:n})=>{const[s,i]=D.useState(!!e),a=Er({resolver:Tr(k8),defaultValues:t||{name:"",category:"",level:50,order_index:0}});D.useEffect(()=>{e?a.reset({name:e.name,category:e.category,level:e.level,order_index:e.order_index||0}):t&&a.reset(t)},[e,t,a]);const o=async u=>{try{s&&(e!=null&&e.id)?(await Xu.update(e.id,u),H.success("Skill updated successfully!")):(await Xu.create(u),H.success("Skill added successfully!")),a.reset(),i(!1),r==null||r()}catch{H.error("Failed to save skill")}},l=()=>{a.reset(),i(!1),n==null||n()};return c.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Name *"}),c.jsx("input",{type:"text",...a.register("name"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., React, Node.js, Python"}),a.formState.errors.name&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),c.jsxs("select",{...a.register("category"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select category"}),c.jsx("option",{value:"frontend",children:"Frontend"}),c.jsx("option",{value:"backend",children:"Backend"}),c.jsx("option",{value:"database",children:"Database"}),c.jsx("option",{value:"tools",children:"Tools & DevOps"}),c.jsx("option",{value:"design",children:"Design"}),c.jsx("option",{value:"other",children:"Other"})]}),a.formState.errors.category&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.category.message})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Level *"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"range",min:"0",max:"100",step:"5",...a.register("level",{valueAsNumber:!0}),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),c.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[c.jsx("span",{children:"Beginner"}),c.jsxs("span",{className:"font-medium text-blue-400",children:[a.watch("level"),"%"]}),c.jsx("span",{children:"Expert"})]})]}),a.formState.errors.level&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.level.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Order *"}),c.jsx("input",{type:"number",min:"0",...a.register("order_index",{valueAsNumber:!0}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),a.formState.errors.order_index&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.formState.errors.order_index.message})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(K,{type:"submit",className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),s?"Update Skill":"Add Skill"]}),s&&c.jsx(K,{type:"button",variant:"outline",onClick:l,children:"Cancel"})]})]})},OY=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0),[s,i]=D.useState(!1),[a,o]=D.useState(null);D.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const m=await Xu.getAll();e(m)}catch{H.error("Failed to load skills")}finally{n(!1)}},u=m=>{o(m),i(!0)},d=async m=>{if(window.confirm("Are you sure you want to delete this skill?"))try{await Xu.delete(m),await l(),H.success("Skill deleted successfully!")}catch{H.error("Failed to delete skill")}},h=async()=>{i(!1),o(null),await l()},p=()=>{i(!1),o(null)},f=m=>{const g={frontend:"bg-blue-100 text-blue-800",backend:"bg-green-100 text-green-800",database:"bg-purple-100 text-purple-800",tools:"bg-orange-100 text-orange-800",design:"bg-pink-100 text-pink-800",other:"bg-gray-100 text-gray-800"};return g[m]||g.other};return r?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):s?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:a?"Edit Skill":"Add New Skill"}),c.jsx(K,{variant:"outline",onClick:p,children:"Back to List"})]}),c.jsx(jY,{editingItem:a||void 0,onSave:h,onCancel:p})]}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Skills Management"}),c.jsxs(K,{onClick:()=>i(!0),className:"flex items-center w-full sm:w-auto",children:[c.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Skill"]})]}),t.length===0?c.jsx("div",{className:"text-center py-8 text-gray-400",children:c.jsx("p",{children:"No skills added yet. Add your first skill to get started!"})}):c.jsx("div",{className:"grid gap-4 min-w-max",children:t.map(m=>c.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-colors",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[c.jsx("h4",{className:"text-white font-medium truncate",children:m.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(m.category)}`,children:m.category}),c.jsxs("span",{className:"text-gray-400 text-sm",children:["Order: ",m.order_index]})]})]}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-sm text-gray-400",children:"Skill Level:"}),c.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${m.level}%`}})}),c.jsxs("span",{className:"text-sm text-white font-medium w-12 text-right",children:[m.level,"%"]})]})})]}),c.jsxs("div",{className:"flex space-x-2 sm:ml-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>u(m),className:"text-blue-400 hover:text-blue-300",children:c.jsx(xd,{className:"w-4 h-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>m.id&&d(m.id),className:"text-red-400 hover:text-red-300",children:c.jsx(pc,{className:"w-4 h-4"})})]})]})},m.id))})]})},IY=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0),[s,i]=D.useState(null),[a,o]=D.useState("all");D.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const g=await Ch.getAll();e(g)}catch(g){console.error("Failed to fetch messages:",g),H.error("Failed to load messages")}finally{n(!1)}},u=async(g,b)=>{try{await Ch.updateStatus(g,b),e(y=>y.map(E=>E.id===g?{...E,status:b}:E))}catch(y){console.error("Failed to update status:",y)}},d=async g=>{if(confirm("Are you sure you want to delete this message?"))try{await Ch.delete(g),e(b=>b.filter(y=>y.id!==g)),(s==null?void 0:s.id)===g&&i(null)}catch(b){console.error("Failed to delete message:",b)}},h=t.filter(g=>a==="all"?!0:g.status===a),p=g=>{switch(g){case"unread":return"bg-red-500";case"read":return"bg-blue-500";case"replied":return"bg-green-500";default:return"bg-gray-500"}},f=g=>{switch(g){case"unread":return c.jsx(Uo,{className:"w-4 h-4"});case"read":return c.jsx(No,{className:"w-4 h-4"});case"replied":return c.jsx(ky,{className:"w-4 h-4"});default:return c.jsx(Ea,{className:"w-4 h-4"})}},m=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading messages..."})]}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Contact Messages"}),c.jsxs("p",{className:"text-gray-400",children:[h.length," message",h.length!==1?"s":"",a!=="all"&&` (${a})`]})]}),c.jsxs(K,{onClick:l,variant:"outline",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),c.jsx("div",{className:"flex space-x-2 bg-gray-800 rounded-lg p-1",children:["all","unread","read","replied"].map(g=>c.jsxs("button",{onClick:()=>o(g),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${a===g?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:[f(g),c.jsx("span",{className:"ml-2 capitalize",children:g}),g!=="all"&&c.jsx("span",{className:"ml-2 bg-gray-700 text-gray-300 px-2 py-1 rounded-full text-xs",children:t.filter(b=>b.status===g).length})]},g))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:h.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sg,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"No messages found"})]}):c.jsx("div",{className:"max-h-96 overflow-y-auto",children:h.map(g=>c.jsxs("div",{onClick:()=>i(g),className:`p-4 border-b border-gray-700 cursor-pointer transition-colors duration-200 ${(s==null?void 0:s.id)===g.id?"bg-blue-600/20 border-blue-500":"hover:bg-gray-750"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${p(g.status)}`}),c.jsx("span",{className:"text-white font-medium truncate",children:g.name})]}),c.jsx("span",{className:"text-gray-400 text-xs",children:m(g.created_at)})]}),c.jsx("p",{className:"text-gray-300 text-sm font-medium mb-1 truncate",children:g.subject}),c.jsx("p",{className:"text-gray-400 text-xs truncate",children:g.email}),c.jsx("p",{className:"text-gray-400 text-sm mt-2 line-clamp-2",children:g.message})]},g.id))})})}),c.jsx("div",{className:"lg:col-span-2",children:s?c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:s.subject}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bu,{className:"w-4 h-4 mr-2"}),s.name]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),s.email]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ea,{className:"w-4 h-4 mr-2"}),m(s.created_at)]})]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(s.status)}`,children:s.status})})]}),c.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:s.message})}),c.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:[c.jsx("p",{className:"text-sm text-blue-300 font-medium mb-1",children:"Quick Reply Info:"}),c.jsxs("p",{className:"text-xs text-gray-300",children:["To: ",s.email]}),c.jsxs("p",{className:"text-xs text-gray-300",children:["Subject: Re: ",s.subject]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[s.status==="unread"&&c.jsxs(K,{onClick:()=>u(s.id,"read"),variant:"outline",size:"sm",children:[c.jsx(No,{className:"w-4 h-4 mr-2"}),"Mark as Read"]}),s.status!=="replied"&&c.jsxs(K,{onClick:()=>u(s.id,"replied"),variant:"outline",size:"sm",children:[c.jsx(ky,{className:"w-4 h-4 mr-2"}),"Mark as Replied"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(K,{onClick:()=>window.open("https://mail.zoho.com/zm/#compose","_blank"),size:"sm",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Open Zoho Mail"]}),c.jsxs(K,{onClick:()=>window.open(`mailto:${s.email}?subject=${encodeURIComponent(`Re: ${s.subject}`)}&body=${encodeURIComponent(`Hi ${s.name},

Thank you for your message. I'll get back to you soon.

Best regards,
Victory Johnson`)}`,"_blank"),size:"sm",variant:"outline",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Quick Reply"]})]}),c.jsxs(K,{onClick:()=>d(s.id),variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 hover:border-red-400",children:[c.jsx(pc,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}):c.jsxs("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[c.jsx(Sg,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Select a Message"}),c.jsx("p",{className:"text-gray-400",children:"Choose a message from the list to view its details"})]})})]})]})},PY=()=>{const[t,e]=D.useState({adminEmail:"",adminName:"",siteName:"",zohoEmail:"",zohoPassword:"",zohoHost:"smtp.zoho.com",zohoPort:587}),[r,n]=D.useState(!1);D.useEffect(()=>{const l=Zc.getConfig();e(l)},[]);const s=l=>{e({...t,[l.target.name]:l.target.value})},i=async()=>{n(!0);try{Zc.updateConfig(t),H.success("Email notification settings saved successfully!")}catch(l){console.error("Failed to save settings:",l),H.error("Failed to save settings")}finally{n(!1)}},a=async()=>{try{await Zc.sendContactNotification({name:"Test User",email:"test@example.com",subject:"Test Notification",message:"This is a test notification to verify your email settings are working correctly."}),H.success("Test notification sent! Check your email inbox.")}catch(l){console.error("Failed to send test notification:",l),H.error("Failed to send test notification")}},o=async()=>{try{const l=await Zc.testConnection();l.success?H.success("Zoho connection test successful!"):H.error(`Connection test failed: ${l.error}`)}catch(l){console.error("Connection test failed:",l),H.error("Connection test failed")}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:c.jsx(iE,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Email Notifications"}),c.jsx("p",{className:"text-gray-400",children:"Configure email notifications for new contact messages"})]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"adminEmail",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Email Address"}),c.jsx("input",{type:"email",id:"adminEmail",name:"adminEmail",value:t.adminEmail,onChange:s,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You'll receive notifications at this email when someone sends a message"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"adminName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Name"}),c.jsx("input",{type:"text",id:"adminName",name:"adminName",value:t.adminName,onChange:s,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This will appear in the notification emails"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Site Name"}),c.jsx("input",{type:"text",id:"siteName",name:"siteName",value:t.siteName,onChange:s,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Portfolio Name"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This will appear in the notification emails"})]}),c.jsxs("div",{className:"border-t border-gray-600 pt-6 mt-6",children:[c.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Zoho Mail Configuration"}),c.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(gh,{className:"w-5 h-5 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h5",{className:"text-sm font-medium text-blue-300 mb-2",children:"Environment Variables Required"}),c.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Zoho Mail credentials are now configured via environment variables in Vercel for security."}),c.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[c.jsx("p",{children:c.jsx("strong",{children:"Required Variables:"})}),c.jsx("p",{children:"â¢ ZOHO_EMAIL=victoryjohnson@vctry4real.dev"}),c.jsx("p",{children:"â¢ ZOHO_APP_PASSWORD=your_app_password"}),c.jsx("p",{children:"â¢ ZOHO_HOST=smtp.zoho.com"}),c.jsx("p",{children:"â¢ ZOHO_PORT=587"})]})]})]})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[c.jsxs(K,{onClick:i,disabled:r,className:"flex items-center",children:[c.jsx(oi,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save Settings"]}),c.jsxs(K,{onClick:o,variant:"outline",className:"flex items-center",children:[c.jsx(gh,{className:"w-4 h-4 mr-2"}),"Test Connection"]}),c.jsxs(K,{onClick:a,variant:"outline",className:"flex items-center",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Send Test Email"]})]})]}),c.jsx("div",{className:"bg-green-900/20 border border-green-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(gh,{className:"w-5 h-5 text-green-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-green-300 font-medium mb-2",children:"Zoho Mail Setup"}),c.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Configure your Zoho Mail account to send email notifications when contact messages are received."}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[c.jsx("p",{children:c.jsx("strong",{children:"Setup Steps:"})}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[c.jsxs("li",{children:["Create a Zoho Mail account at ",c.jsx("a",{href:"https://www.zoho.com/mail/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"zoho.com/mail"})]}),c.jsx("li",{children:"Enable SMTP access in your Zoho Mail settings"}),c.jsx("li",{children:"Generate an App Password (not your regular password)"}),c.jsx("li",{children:"Enter your Zoho credentials above"}),c.jsx("li",{children:"Test the connection"})]})]})]})]})}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsx("h4",{className:"text-white font-medium mb-2",children:"Current Status"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Notification Email:"}),c.jsx("span",{className:"text-white",children:t.adminEmail||"Not set"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Admin Name:"}),c.jsx("span",{className:"text-white",children:t.adminName||"Not set"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Site Name:"}),c.jsx("span",{className:"text-white",children:t.siteName||"Not set"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Zoho Email:"}),c.jsx("span",{className:"text-white",children:t.zohoEmail||"Not set"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Zoho Password:"}),c.jsx("span",{className:"text-white",children:t.zohoPassword?"â¢â¢â¢â¢â¢â¢â¢â¢":"Not set"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"SMTP Host:"}),c.jsx("span",{className:"text-white",children:t.zohoHost})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"SMTP Port:"}),c.jsx("span",{className:"text-white",children:t.zohoPort})]})]})]})]})},RY=()=>{const[t,e]=D.useState([]),[r,n]=D.useState([]),[s,i]=D.useState(null),[a,o]=D.useState("all"),[l,u]=D.useState(""),[d,h]=D.useState(!0);D.useEffect(()=>{p()},[]),D.useEffect(()=>{m()},[t,a,l]);const p=async()=>{try{h(!0);const w=await Ek();e(w)}catch(w){console.error("Failed to fetch appointments:",w),H.error("Failed to load appointments")}finally{h(!1)}},f=async()=>{try{await p(),H.success("Appointments refreshed")}catch(w){console.error("Failed to refresh appointments:",w),H.error("Failed to refresh appointments")}},m=()=>{let w=t;if(a!=="all"&&(w=w.filter(v=>v.status===a)),l){const v=l.toLowerCase();w=w.filter(N=>{var A;return N.name.toLowerCase().includes(v)||N.email.toLowerCase().includes(v)||N.reason.toLowerCase().includes(v)||((A=N.message)==null?void 0:A.toLowerCase().includes(v))})}n(w)},g=async(w,v)=>{try{const N=await kk(w,{status:v});e(A=>A.map(I=>I.id===w?{...I,status:v}:I));try{v==="confirmed"?(await y0.sendAppointmentConfirmation(N),H.success("Appointment confirmed and confirmation email sent")):v==="cancelled"?(await y0.sendAppointmentCancellation(N),H.success("Appointment cancelled and cancellation email sent")):H.success(`Appointment ${v}`)}catch(A){console.error("Failed to send email notification:",A),H.success(`Appointment ${v} successfully, but email notification failed`)}}catch(N){console.error("Failed to update appointment:",N),H.error("Failed to update appointment")}},b=async w=>{if(confirm("Are you sure you want to delete this appointment?"))try{await Nk(w),e(v=>v.filter(N=>N.id!==w)),(s==null?void 0:s.id)===w&&i(null),H.success("Appointment deleted")}catch(v){console.error("Failed to delete appointment:",v),H.error("Failed to delete appointment")}},y=w=>new Date(w).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),E=w=>{const[v,N]=w.split(":"),A=parseInt(v),I=A>=12?"PM":"AM";return`${A>12?A-12:A}:${N} ${I}`},T=w=>{switch(w){case"pending":return"bg-yellow-600 text-yellow-100";case"confirmed":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-gray-600 text-gray-100"}},k=w=>{switch(w){case"pending":return c.jsx(To,{className:"w-4 h-4"});case"confirmed":return c.jsx(Ul,{className:"w-4 h-4"});case"cancelled":return c.jsx(Cr,{className:"w-4 h-4"});default:return c.jsx(To,{className:"w-4 h-4"})}};return d?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"text-gray-400",children:"Loading appointments..."})}):c.jsxs("div",{className:"space-y-6 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:c.jsx(Or,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Appointments"}),c.jsx("p",{className:"text-gray-400",children:"Manage consultation bookings"})]})]}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search appointments...",value:l,onChange:w=>u(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(K,{onClick:f,disabled:d,variant:"outline",size:"sm",className:"flex items-center",children:[c.jsx(QA,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]}),c.jsx(Nx,{className:"w-4 h-4 text-gray-400"}),c.jsxs("select",{value:a,onChange:w=>o(w.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"confirmed",children:"Confirmed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg",children:[c.jsx("div",{className:"p-4 border-b border-gray-700",children:c.jsxs("h4",{className:"text-white font-medium",children:["Appointments (",r.length,")"]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?c.jsx("div",{className:"p-6 text-center text-gray-400",children:"No appointments found"}):r.map(w=>c.jsxs("div",{onClick:()=>i(w),className:`p-4 border-b border-gray-700 cursor-pointer transition-colors duration-200 ${(s==null?void 0:s.id)===w.id?"bg-blue-600/20 border-blue-500":"hover:bg-gray-750"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(w.status)}`,children:w.status})}),c.jsx("div",{className:"text-xs text-gray-400",children:y(w.date)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-white font-medium",children:w.name}),c.jsx("p",{className:"text-gray-400 text-sm",children:w.email}),c.jsx("p",{className:"text-gray-400 text-sm",children:w.reason}),c.jsx("p",{className:"text-blue-400 text-sm",children:E(w.time)})]})]},w.id))})]})}),c.jsx("div",{className:"lg:col-span-2",children:s?c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h4",{className:"text-xl font-bold text-white",children:"Appointment Details"}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(s.status)}`,children:[k(s.status),c.jsx("span",{className:"ml-1",children:s.status})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Name"}),c.jsx("p",{className:"text-white",children:s.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),c.jsx("p",{className:"text-white",children:s.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Date"}),c.jsx("p",{className:"text-white",children:y(s.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Time"}),c.jsx("p",{className:"text-white",children:E(s.time)})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Consultation Type"}),c.jsx("p",{className:"text-white",children:s.reason})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Created"}),c.jsx("p",{className:"text-white",children:y(s.created_at)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Last Updated"}),c.jsx("p",{className:"text-white",children:y(s.updated_at)})]})]})]}),s.message&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Additional Details"}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:c.jsx("p",{className:"text-white whitespace-pre-wrap",children:s.message})})]}),c.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:[c.jsx("p",{className:"text-sm text-blue-300 font-medium mb-1",children:"Quick Reply Info:"}),c.jsxs("p",{className:"text-xs text-gray-300",children:["To: ",s.email]}),c.jsxs("p",{className:"text-xs text-gray-300",children:["Subject: Re: Appointment - ",s.reason]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[s.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsxs(K,{onClick:()=>g(s.id,"confirmed"),className:"flex items-center",children:[c.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Confirm"]}),c.jsxs(K,{variant:"outline",onClick:()=>g(s.id,"cancelled"),className:"flex items-center",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(K,{variant:"outline",onClick:()=>window.open("https://mail.zoho.com/zm/#compose","_blank"),className:"flex items-center",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Open Zoho Mail"]}),c.jsxs(K,{variant:"outline",onClick:()=>window.open(`mailto:${s.email}?subject=${encodeURIComponent(`Re: Appointment - ${s.reason}`)}&body=${encodeURIComponent(`Hi ${s.name},

Thank you for your appointment request.

Appointment Details:
- Date: ${y(s.date)}
- Time: ${E(s.time)}
- Type: ${s.reason}

Best regards,
Victory Johnson`)}`,"_blank"),className:"flex items-center",children:[c.jsx(As,{className:"w-4 h-4 mr-2"}),"Quick Reply"]})]}),c.jsxs(K,{variant:"outline",onClick:()=>b(s.id),className:"flex items-center text-red-400 hover:text-red-300",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}):c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center text-gray-400",children:[c.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Select an appointment to view details"})]})})})]})]})},DY=Ms({email:pe().email("Valid email is required"),password:pe().min(6,"Password must be at least 6 characters")}),MY=({onLoginSuccess:t})=>{const[e,r]=D.useState(!1),[n,s]=D.useState(!1),i=Er({resolver:Tr(DY),defaultValues:{email:"",password:""}}),a=async o=>{s(!0);try{const{error:l}=await qe.auth.signInWithPassword({email:o.email,password:o.password});l?H.error(l.message):(H.success("Login successful!"),t())}catch{H.error("Login failed. Please try again.")}finally{s(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-white",children:"Admin Login"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Sign in to access the admin panel"})]}),c.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",...i.register("email"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@example.com"}),i.formState.errors.email&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:i.formState.errors.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:e?"text":"password",...i.register("password"),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>r(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:e?c.jsx(No,{className:"w-5 h-5"}):c.jsx(Uo,{className:"w-5 h-5"})})]}),i.formState.errors.password&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:i.formState.errors.password.message})]}),c.jsx(K,{type:"submit",disabled:n,className:"w-full flex items-center justify-center",children:n?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):c.jsxs(c.Fragment,{children:[c.jsx(ZA,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-gray-400 text-sm",children:"Don't have an account? Contact the administrator."})})]})})},LY=()=>{const[t,e]=D.useState(null),[r,n]=D.useState(!0);D.useEffect(()=>{s()},[]);const s=async()=>{try{const[m,g,b,y]=await Promise.all([Rs.getAll(),Ds.getAll(),Pi.getAll(),Ri.getAll()]),E=m.length,T=m.filter(M=>M.featured).length,k=g.length,w=g.filter(M=>M.status==="published").length,v=b.length,N=y.length,A=new Map;m.forEach(M=>{const $=M.category||"Other";A.set($,(A.get($)||0)+1)});const I=Array.from(A.entries()).map(([M,$])=>({category:M,count:$,percentage:Math.round($/E*100)})),S=[{id:"1",type:"project",title:"Latest Project",action:"created",timestamp:new Date},{id:"2",type:"blog",title:"New Blog Post",action:"published",timestamp:new Date(Date.now()-864e5)}];e({totalProjects:E,featuredProjects:T,totalBlogPosts:k,publishedPosts:w,totalExperience:v,totalEducation:N,recentActivity:S,categoryBreakdown:I,monthlyStats:[{month:"Jan",projects:2,blogPosts:1,views:150},{month:"Feb",projects:3,blogPosts:2,views:200},{month:"Mar",projects:1,blogPosts:3,views:180},{month:"Apr",projects:4,blogPosts:2,views:250}]})}catch(m){console.error("Failed to fetch analytics data:",m)}finally{n(!1)}};if(r)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading analytics..."})]});if(!t)return c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No analytics data available"})});const{totalProjects:i,featuredProjects:a,totalBlogPosts:o,publishedPosts:l,totalExperience:u,totalEducation:d,recentActivity:h,categoryBreakdown:p,monthlyStats:f}=t;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Analytics Dashboard"}),c.jsx("p",{className:"text-gray-400",children:"Track your portfolio performance and insights"})]}),c.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Data"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Projects"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:i})]}),c.jsx(aE,{className:"w-8 h-8 text-blue-400"})]}),c.jsx("div",{className:"mt-4",children:c.jsxs("p",{className:"text-sm text-gray-400",children:[a," featured (",Math.round(a/i*100),"%)"]})})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Blog Posts"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:o})]}),c.jsx(Ta,{className:"w-8 h-8 text-green-400"})]}),c.jsx("div",{className:"mt-4",children:c.jsxs("p",{className:"text-sm text-gray-400",children:[l," published (",Math.round(l/o*100),"%)"]})})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Experience"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:u})]}),c.jsx(ej,{className:"w-8 h-8 text-purple-400"})]}),c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-sm text-gray-400",children:"Professional entries"})})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Education"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:d})]}),c.jsx(sp,{className:"w-8 h-8 text-yellow-400"})]}),c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-sm text-gray-400",children:"Academic entries"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Project Categories"}),c.jsx("div",{className:"space-y-3",children:p.map(m=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),c.jsx("span",{className:"text-gray-300",children:m.category})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-400 h-2 rounded-full",style:{width:`${m.percentage}%`}})}),c.jsx("span",{className:"text-sm text-gray-400 w-8 text-right",children:m.count})]})]},m.category))})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-3",children:h.map(m=>c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-sm text-gray-300",children:[c.jsx("span",{className:"font-medium",children:m.title})," was ",m.action]}),c.jsx("p",{className:"text-xs text-gray-500",children:m.timestamp.toLocaleDateString()})]})]},m.id))})]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Activity"}),c.jsx("div",{className:"grid grid-cols-4 gap-4",children:f.map(m=>c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:m.month}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["Projects: ",m.projects]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Posts: ",m.blogPosts]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Views: ",m.views]})]})]},m.month))})]})]})},FY=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[s,i]=D.useState(null),[a,o]=D.useState(null),l=async()=>{e(!0);try{const[f,m,g,b,y,E,T,k]=await Promise.all([Oo.get().catch(()=>null),Jl.get().catch(()=>null),Pi.getAll().catch(()=>[]),Ri.getAll().catch(()=>[]),Rs.getAll().catch(()=>[]),Ds.getAll().catch(()=>[]),Io.get().catch(()=>null),Ju.get().catch(()=>null)]),w={hero:f,about:m,experiences:g,education:b,projects:y,blogPosts:E,profileImage:T,resume:k,exportDate:new Date().toISOString(),version:"1.0.0"},v=JSON.stringify(w,null,2),N=new Blob([v],{type:"application/json"}),A=URL.createObjectURL(N),I=document.createElement("a");I.href=A,I.download=`portfolio-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A),H.success("Portfolio data exported successfully!")}catch(f){console.error("Export failed:",f),H.error("Failed to export data")}finally{e(!1)}},u=f=>{var g;const m=(g=f.target.files)==null?void 0:g[0];m&&(i(m),d(m))},d=f=>{const m=new FileReader;m.onload=g=>{var b;try{const y=JSON.parse((b=g.target)==null?void 0:b.result);o(y)}catch{H.error("Invalid backup file format"),o(null)}},m.readAsText(f)},h=async()=>{var f,m,g,b;if(a){n(!0);try{const y=[];a.hero&&y.push(Oo.update(a.hero)),a.about&&y.push(Jl.update(a.about)),a.profileImage&&y.push(Io.update(a.profileImage)),a.resume&&y.push(Ju.update(a.resume)),(f=a.experiences)!=null&&f.length&&y.push(Promise.resolve()),(m=a.education)!=null&&m.length&&y.push(Promise.resolve()),(g=a.projects)!=null&&g.length&&y.push(Promise.resolve()),(b=a.blogPosts)!=null&&b.length&&y.push(Promise.resolve()),await Promise.all(y),H.success("Portfolio data imported successfully!"),i(null),o(null)}catch(y){console.error("Import failed:",y),H.error("Failed to import data")}finally{n(!1)}}},p=f=>{var m,g,b,y;return{hero:f.hero?"â":"â",about:f.about?"â":"â",experiences:((m=f.experiences)==null?void 0:m.length)||0,education:((g=f.education)==null?void 0:g.length)||0,projects:((b=f.projects)==null?void 0:b.length)||0,blogPosts:((y=f.blogPosts)==null?void 0:y.length)||0,profileImage:f.profileImage?"â":"â",resume:f.resume?"â":"â"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Data Export & Import"}),c.jsx("p",{className:"text-gray-400",children:"Backup and restore your portfolio data"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Bl,{className:"w-6 h-6 text-blue-400"}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Export Data"})]}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Export all your portfolio data as a JSON file for backup purposes."}),c.jsx("div",{className:"bg-blue-900/20 border border-blue-500/20 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Cg,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-blue-300",children:[c.jsx("p",{className:"font-medium mb-1",children:"What's included in the export:"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:"â¢ Hero section data"}),c.jsx("li",{children:"â¢ About section data"}),c.jsx("li",{children:"â¢ All experience entries"}),c.jsx("li",{children:"â¢ All education entries"}),c.jsx("li",{children:"â¢ All projects and their details"}),c.jsx("li",{children:"â¢ All blog posts"}),c.jsx("li",{children:"â¢ Profile image settings"}),c.jsx("li",{children:"â¢ Resume file settings"})]})]})]})}),c.jsxs(K,{onClick:l,disabled:t,className:"flex items-center",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),t?"Exporting...":"Export Portfolio Data"]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(ko,{className:"w-6 h-6 text-green-400"}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Import Data"})]}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Import portfolio data from a previously exported backup file."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Backup File"}),c.jsx("input",{type:"file",accept:".json",onChange:u,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),a&&c.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(Ax,{className:"w-5 h-5 text-green-400"}),c.jsx("h5",{className:"text-white font-medium",children:"Backup File Preview"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Hero:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).hero})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"About:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).about})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Experiences:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).experiences})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Education:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).education})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Projects:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).projects})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Blog Posts:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).blogPosts})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Profile Image:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).profileImage})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Resume:"}),c.jsx("span",{className:"ml-2 text-white",children:p(a).resume})]})]}),a.exportDate&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Exported on: ",new Date(a.exportDate).toLocaleString()]})]}),c.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/20 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(tj,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-yellow-300",children:[c.jsx("p",{className:"font-medium mb-1",children:"â ï¸ Warning"}),c.jsx("p",{children:"Importing data will overwrite your current portfolio data. Make sure to export your current data first if you want to keep it."})]})]})}),c.jsxs(K,{onClick:h,disabled:!a||r,variant:"outline",className:"flex items-center",children:[c.jsx(ko,{className:"w-4 h-4 mr-2"}),r?"Importing...":"Import Portfolio Data"]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Ta,{className:"w-6 h-6 text-purple-400"}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Instructions"})]}),c.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-white mb-1",children:"Export:"}),c.jsx("p",{children:'â¢ Click "Export Portfolio Data" to download a backup file'}),c.jsx("p",{children:"â¢ Save the file in a secure location"}),c.jsx("p",{children:"â¢ The file contains all your portfolio data in JSON format"})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-white mb-1",children:"Import:"}),c.jsx("p",{children:"â¢ Select a previously exported backup file"}),c.jsx("p",{children:"â¢ Review the preview to ensure it's the correct data"}),c.jsx("p",{children:'â¢ Click "Import Portfolio Data" to restore your portfolio'})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-white mb-1",children:"Best Practices:"}),c.jsx("p",{children:"â¢ Export your data regularly for backup"}),c.jsx("p",{children:"â¢ Keep multiple backup files in different locations"}),c.jsx("p",{children:"â¢ Test imports on a development environment first"})]})]})]})]})},BY=()=>{var $,Y;const{user:t,loading:e}=BN(),[r,n]=D.useState("hero");D.useState(!1);const[s,i]=D.useState(!1);D.useState(null);const[a,o]=D.useState(null),[l,u]=D.useState(null),[d,h]=D.useState([]),[p,f]=D.useState([]),[m,g]=D.useState([]),[b,y]=D.useState([]),[E,T]=D.useState([]),[k,w]=D.useState([]),[v,N]=D.useState(null),[A,I]=D.useState(null);Er({resolver:Tr(tS),defaultValues:a||{name:"Victory Johnson",title:"Full-Stack Software Engineer",description:"Crafting exceptional digital experiences with 4+ years of expertise in full-stack development, no-code solutions, and modern web technologies.",email:"victory@example.com",github:"https://github.com/victoryjohnson",linkedin:"https://linkedin.com/in/victoryjohnson",phone:"+1 (555) 123-4567",location:"San Francisco, CA"}}),Er({resolver:Tr(rS),defaultValues:l||{summary:"I'm a passionate full-stack software engineer with over 4 years of experience building scalable web applications and innovative digital solutions.",experience:"4+",projects:"50+",clients:"25+",technologies:"20+"}}),Er({resolver:Tr(nS),defaultValues:{company:"",position:"",duration:"",location:"",description:"",responsibilities:[""],technologies:[""],logo:""}}),Er({resolver:Tr(sS),defaultValues:{degree:"",university:"",duration:"",location:"",gpa:"",description:"",achievements:[""],logo:""}}),Er({resolver:Tr(iS),defaultValues:{title:"",description:"",content:"",category:"fullstack",tech:[""],github:"",live:"",featured:!1,image:"",screenshots:[],role:"",contributions:[""],analytics:{linesOfCode:0,uptime:"99.9%",users:0,performance:"95/100"}}}),Er({resolver:Tr(aS),defaultValues:{title:"",slug:"",summary:"",content:"",tags:[""],coverImage:"",featured:!1,published:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}),Er({resolver:Tr(oS),defaultValues:{image:"",alt:"Victory Johnson"}}),Er({resolver:Tr(lS),defaultValues:{file_url:"",file_name:"Victory Johnson - Software Engineer Resume.pdf",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}),D.useEffect(()=>{t&&(async()=>{try{const J=await Oo.get();o(J);const Z=await Jl.get();u(Z);const ee=await Pi.getAll();h(ee);const je=await Ri.getAll();f(je);const _=await Rs.getAll();g(_);const Ie=await Ds.getAll();y(Ie);try{const Oe=await Ch.getAll();T(Oe)}catch(Oe){console.error("Failed to fetch contact messages data:",Oe)}try{const Oe=await kP.getAll();w(Oe)}catch(Oe){console.error("Failed to fetch appointments data:",Oe)}try{const Oe=await Io.get();N(Oe)}catch(Oe){console.error("Failed to fetch profile image data:",Oe)}try{const Oe=await Ju.get();I(Oe)}catch(Oe){console.error("Failed to fetch resume data:",Oe)}}catch(J){console.error("Failed to fetch current data:",J)}})()},[t]);const S=[{id:"hero",label:"Hero",icon:Ag,category:"Content"},{id:"about",label:"About",icon:Bu,category:"Content"},{id:"experience",label:"Experience",icon:aE,category:"Content"},{id:"education",label:"Education",icon:sp,category:"Content"},{id:"projects",label:"Projects",icon:Gn,category:"Content"},{id:"skills",label:"Skills",icon:Ng,category:"Content"},{id:"blog",label:"Blog",icon:Ta,category:"Content"},{id:"profile-image",label:"Profile Image",icon:nj,category:"Content"},{id:"resume",label:"Resume",icon:Ta,category:"Content"},{id:"appointments",label:"Appointments",icon:Or,category:"Management"},{id:"contact-messages",label:"Messages",icon:As,category:"Management"},{id:"email-notifications",label:"Notifications",icon:iE,category:"Management"},{id:"analytics",label:"Analytics",icon:Ng,category:"Tools"},{id:"export-import",label:"Export/Import",icon:sj,category:"Tools"}],U=S.reduce((G,J)=>(G[J.category]||(G[J.category]=[]),G[J.category].push(J),G),{});if(e)return c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading admin panel..."})]})});if(!t)return c.jsx(MY,{onLoginSuccess:()=>window.location.reload()});const M=()=>{switch(r){case"hero":return c.jsx(S8,{initialData:a||void 0,onSave:()=>{Oo.get().then(o)}});case"about":return c.jsx(C8,{initialData:l||void 0,onSave:()=>{Jl.get().then(u)}});case"experience":return c.jsx(j8,{onSave:()=>{Pi.getAll().then(h)}});case"education":return c.jsx(I8,{onSave:()=>{Ri.getAll().then(f)}});case"projects":return c.jsx(R8,{onSave:()=>{Rs.getAll().then(g)}});case"skills":return c.jsx(OY,{});case"blog":return c.jsx(SY,{onSave:()=>{Ds.getAll().then(y)}});case"appointments":return c.jsx(RY,{});case"contact-messages":return c.jsx(IY,{});case"email-notifications":return c.jsx(PY,{});case"profile-image":return c.jsx(CY,{initialData:v||void 0,onSave:()=>{Io.get().then(N)}});case"resume":return c.jsx(AY,{initialData:A||void 0,onSave:()=>{Ju.get().then(I)}});case"analytics":return c.jsx(LY,{});case"export-import":return c.jsx(FY,{});default:return c.jsx("div",{className:"text-center py-12",children:c.jsxs("p",{className:"text-gray-400",children:["Form for ",r," section will be implemented here."]})})}};return c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"Admin Panel - vctry4real"}),c.jsx("meta",{name:"description",content:"Admin panel for managing portfolio content"})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900 flex",children:[s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>i(!1)}),c.jsxs("div",{className:`
           fixed inset-y-0 left-0 z-50 w-64 sm:w-72 bg-gray-800 border-r border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col
           ${s?"translate-x-0":"-translate-x-full"}
         `,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(gh,{className:"w-5 h-5 text-white"})}),c.jsx("h1",{className:"ml-3 text-lg sm:text-xl font-bold text-white truncate",children:"Admin Panel"})]}),c.jsx("button",{onClick:()=>i(!1),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 flex-shrink-0",children:c.jsx(Cr,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"px-4 sm:px-6 py-3 border-b border-gray-700",children:c.jsxs("a",{href:"/",className:"flex items-center justify-center w-full px-3 py-2 text-sm font-medium text-blue-400 hover:text-blue-300 hover:bg-blue-600/10 rounded-lg transition-all duration-200",children:[c.jsx(Ag,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Back to Portfolio"}),c.jsx("span",{className:"sm:hidden",children:"Portfolio"})]})}),c.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Bu,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:(t==null?void 0:t.email)||"Admin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Administrator"})]})]})}),c.jsx("nav",{className:"flex-1 px-2 sm:px-4 py-6 space-y-6 overflow-y-auto min-h-0",children:Object.entries(U).map(([G,J])=>c.jsxs("div",{children:[c.jsx("h3",{className:"px-2 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:G}),c.jsx("div",{className:"space-y-1",children:J.map(Z=>c.jsxs("button",{onClick:()=>{n(Z.id),i(!1)},className:`
                         w-full flex items-center px-2 sm:px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                         ${r===Z.id?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700"}
                       `,children:[c.jsx(Z.icon,{className:`w-4 h-4 mr-2 sm:mr-3 flex-shrink-0 ${r===Z.id?"text-white":"text-gray-400"}`}),c.jsx("span",{className:"truncate",children:Z.label})]},Z.id))})]},G))}),c.jsx("div",{className:"px-2 sm:px-4 py-4 border-t border-gray-700",children:c.jsxs(K,{variant:"outline",size:"sm",className:"w-full justify-start text-gray-300 hover:text-white",onClick:()=>{window.location.href="/"},children:[c.jsx(rj,{className:"w-4 h-4 mr-2 sm:mr-3"}),c.jsx("span",{className:"truncate",children:"Logout"})]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0 min-w-0",children:[c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-4 sm:px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[c.jsx("button",{onClick:()=>i(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 mr-3 sm:mr-4 flex-shrink-0",children:c.jsx(q_,{className:"w-5 h-5"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white truncate",children:($=S.find(G=>G.id===r))==null?void 0:$.label}),c.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 truncate",children:["Manage your ",(Y=S.find(G=>G.id===r))==null?void 0:Y.label.toLowerCase()," content"]})]})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-2 lg:space-x-6 text-xs lg:text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[c.jsx("span",{className:"text-gray-400 hidden lg:inline",children:"Projects:"}),c.jsx("span",{className:"text-gray-400 lg:hidden",children:"P:"}),c.jsx("span",{className:"text-white font-medium",children:m.length})]}),c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[c.jsx("span",{className:"text-gray-400 hidden lg:inline",children:"Messages:"}),c.jsx("span",{className:"text-gray-400 lg:hidden",children:"M:"}),c.jsx("span",{className:"text-white font-medium",children:E.length})]}),c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[c.jsx("span",{className:"text-gray-400 hidden lg:inline",children:"Appointments:"}),c.jsx("span",{className:"text-gray-400 lg:hidden",children:"A:"}),c.jsx("span",{className:"text-white font-medium",children:k.length})]})]})]})}),c.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-x-auto",children:c.jsx("div",{className:"min-w-max max-w-6xl mx-auto",children:c.jsx("div",{className:"bg-gray-800 rounded-lg sm:rounded-xl p-4 sm:p-6 lg:p-8",children:M()})})})]})]})]})},UY=()=>c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"404 - Page Not Found - vctry4real"}),c.jsx("meta",{name:"description",content:"The page you're looking for doesn't exist."})]}),c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center px-4",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("h1",{className:"text-9xl font-bold text-gray-800",children:"404"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Hl,{className:"w-16 h-16 text-blue-500 animate-pulse"})})]})}),c.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Page Not Found"}),c.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:"Oops! The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[c.jsx(Nr,{to:"/",children:c.jsxs(K,{size:"lg",className:"flex items-center",children:[c.jsx(Ag,{className:"w-5 h-5 mr-2"}),"Go Home"]})}),c.jsxs(K,{variant:"outline",size:"lg",className:"flex items-center",onClick:()=>window.history.back(),children:[c.jsx(ip,{className:"w-5 h-5 mr-2"}),"Go Back"]})]}),c.jsxs("div",{className:"mt-12",children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Quick Links"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[c.jsx(Nr,{to:"/#projects",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Projects"}),c.jsx(Nr,{to:"/#blog",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Blog"}),c.jsx(Nr,{to:"/#contact",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"Contact"}),c.jsx(Nr,{to:"/#about",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"About"})]})]})]})})]}),HY=()=>c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(K_,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading..."}),c.jsx("p",{className:"text-gray-400",children:"Please wait while we prepare your experience"})]})});function zY(){const{user:t,loading:e}=BN(),n=oE().pathname==="/admin";return e?c.jsx(HY,{}):c.jsxs(c.Fragment,{children:[c.jsxs(Mi,{children:[c.jsx("title",{children:"vctry4real"}),c.jsx("meta",{name:"description",content:"Full-stack software engineer with 4+ years of experience building scalable web applications and innovative digital solutions."}),c.jsx("meta",{name:"keywords",content:"software engineer, full-stack developer, React, TypeScript, Node.js, web development"}),c.jsx("meta",{name:"author",content:"Victory Johnson"}),c.jsx("meta",{property:"og:title",content:"vctry4real"}),c.jsx("meta",{property:"og:description",content:"Full-stack software engineer with 4+ years of experience building scalable web applications and innovative digital solutions."}),c.jsx("meta",{property:"og:type",content:"website"}),c.jsx("meta",{property:"og:url",content:"https://victoryjohnson.com"}),c.jsx("meta",{property:"og:image",content:"https://victoryjohnson.com/og-image.jpg"}),c.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),c.jsx("meta",{name:"twitter:title",content:"vctry4real"}),c.jsx("meta",{name:"twitter:description",content:"Full-stack software engineer with 4+ years of experience building scalable web applications and innovative digital solutions."}),c.jsx("meta",{name:"twitter:image",content:"https://victoryjohnson.com/og-image.jpg"}),c.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"}),c.jsx("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}),c.jsx("link",{rel:"apple-touch-icon",href:"/favicon.svg"})]}),c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[!n&&c.jsx(NO,{}),c.jsx("main",{children:c.jsxs(aj,{children:[c.jsx(zs,{path:"/",element:c.jsx(FP,{})}),c.jsx(zs,{path:"/blog",element:c.jsx(BP,{})}),c.jsx(zs,{path:"/appointments",element:c.jsx(SF,{})}),c.jsx(zs,{path:"/project",element:c.jsx(M1,{})}),c.jsx(zs,{path:"/projects",element:c.jsx(M1,{})}),c.jsx(zs,{path:"/projects/:slug",element:c.jsx(HP,{})}),c.jsx(zs,{path:"/blog/:slug",element:c.jsx(NF,{})}),c.jsx(zs,{path:"/terms",element:c.jsx(CF,{})}),c.jsx(zs,{path:"/admin",element:c.jsx(BY,{})}),c.jsx(zs,{path:"*",element:c.jsx(UY,{})})]})}),!n&&c.jsx(SO,{})]})]})}class $Y extends D.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md mx-auto text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-4xl font-bold text-red-500 mb-2",children:"â ï¸"}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[c.jsx("p",{className:"text-gray-300 mb-4",children:"An error occurred while loading the application. Please try refreshing the page."}),this.state.error&&c.jsxs("details",{className:"text-left",children:[c.jsx("summary",{className:"text-blue-400 cursor-pointer mb-2",children:"Error Details"}),c.jsxs("div",{className:"bg-gray-900 rounded p-3 text-sm text-red-400 font-mono",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),c.jsx("p",{children:c.jsx("strong",{children:"Stack:"})}),c.jsx("pre",{className:"whitespace-pre-wrap text-xs",children:this.state.error.stack})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Refresh Page"}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Go to Homepage"})]})]})}):this.props.children}}jg.createRoot(document.getElementById("root")).render(c.jsx(Ae.StrictMode,{children:c.jsx($Y,{children:c.jsx(xE,{children:c.jsxs(oj,{children:[c.jsx(zY,{}),c.jsx(ij,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151"}}})]})})})}));
